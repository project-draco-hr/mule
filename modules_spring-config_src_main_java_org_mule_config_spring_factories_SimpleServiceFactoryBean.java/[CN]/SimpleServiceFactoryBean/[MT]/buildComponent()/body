{
  if (componentBeanName != null) {
    SpringBeanLookup sbl=new SpringBeanLookup();
    sbl.setApplicationContext(applicationContext);
    sbl.setBean(componentBeanName);
    DefaultJavaComponent component=new DefaultJavaComponent(sbl);
    component.setEntryPointResolverSet(new LegacyEntryPointResolverSet());
    return component;
  }
  DefaultJavaComponent component=new DefaultJavaComponent(new PrototypeObjectFactory(componentClass));
  component.setEntryPointResolverSet(new LegacyEntryPointResolverSet());
  return component;
}
