{
  this.configFile=configFile;
  try {
    org.picocontainer.defaults.ObjectReference containerRef=new SimpleReference();
    org.picocontainer.defaults.ObjectReference parentContainerRef=new SimpleReference();
    String builderClassName=getBuilderClassName(configFile);
    String configString=Utility.loadResourceAsString(configFile,getClass());
    ScriptedContainerBuilderFactory scriptedContainerBuilderFactory=new ScriptedContainerBuilderFactory(new StringReader(configString),builderClassName,Thread.currentThread().getContextClassLoader());
    ContainerBuilder builder=scriptedContainerBuilderFactory.getContainerBuilder();
    builder.buildContainer(containerRef,parentContainerRef,null,false);
    setContainer((MutablePicoContainer)containerRef.get());
  }
 catch (  Exception e) {
    throw new PicoCompositionException(e);
  }
}
