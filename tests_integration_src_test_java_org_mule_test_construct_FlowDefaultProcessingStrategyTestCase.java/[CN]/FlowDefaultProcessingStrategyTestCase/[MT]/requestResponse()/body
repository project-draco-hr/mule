{
  MuleMessage response=flowRunner(FLOW_NAME).withPayload(TEST_PAYLOAD).run().getMessage();
  assertThat(response.getPayload().toString(),is(TEST_PAYLOAD));
  MuleMessage message=muleContext.getClient().request("test://out",RECEIVE_TIMEOUT);
  assertThat(message.getProperty(PROCESSOR_THREAD,PropertyScope.OUTBOUND),is(Thread.currentThread().getName()));
}
