{
  if (!this.capturing.compareAndSet(false,true)) {
    return;
  }
  final Thread thread=new Thread(new Runnable(){
    public void run(){
      try {
        while (capturing.get()) {
          controller.captureMemorySnapshot();
          Thread.sleep(seconds * 1000);
        }
      }
 catch (      final Exception e) {
        logger.error("Failed to capture memory snapshot",e);
      }
    }
  }
);
  thread.setDaemon(true);
  thread.start();
}
