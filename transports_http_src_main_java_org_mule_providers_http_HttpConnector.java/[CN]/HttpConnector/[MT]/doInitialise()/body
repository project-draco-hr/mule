{
  super.doInitialise();
  if (clientConnectionManager == null) {
    clientConnectionManager=new MultiThreadedHttpConnectionManager();
    HttpConnectionManagerParams params=new HttpConnectionManagerParams();
    if (getSendBufferSize() != INT_VALUE_NOT_SET)     params.setSendBufferSize(getSendBufferSize());
    if (getReceiveBufferSize() != INT_VALUE_NOT_SET)     params.setReceiveBufferSize(getReceiveBufferSize());
    if (getClientSoTimeout() != INT_VALUE_NOT_SET)     params.setSoTimeout(getClientSoTimeout());
    if (getSendSocketLinger() != INT_VALUE_NOT_SET)     params.setLinger(getSendSocketLinger());
    params.setTcpNoDelay(isSendTcpNoDelay());
    params.setMaxTotalConnections(getDispatcherThreadingProfile().getMaxThreadsActive());
  }
}
