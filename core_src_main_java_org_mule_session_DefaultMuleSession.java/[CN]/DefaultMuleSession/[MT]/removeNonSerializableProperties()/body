{
  Iterator<Entry<String,Object>> propertyIterator=getProperties().entrySet().iterator();
  while (propertyIterator.hasNext()) {
    final Entry<String,Object> entry=propertyIterator.next();
    if (!(entry.getValue() instanceof Serializable)) {
      logger.warn(String.format("Property %s is not serializable, it will not be preserved " + "as part of the MuleSession",entry.getKey()));
      propertyIterator.remove();
    }
  }
}
