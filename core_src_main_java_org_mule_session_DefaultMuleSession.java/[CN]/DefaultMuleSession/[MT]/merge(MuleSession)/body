{
  if (updatedSession == null) {
    return;
  }
  Map<String,Object> oldProperties=this.properties;
  this.properties=Collections.synchronizedMap(new CaseInsensitiveHashMap());
  for (  String propertyKey : updatedSession.getPropertyNamesAsSet()) {
    this.properties.put(propertyKey,updatedSession.<Object>getProperty(propertyKey));
  }
  for (  String propertyKey : oldProperties.keySet()) {
    if (!this.properties.containsKey(propertyKey) && !(oldProperties.get(propertyKey) instanceof Serializable)) {
      this.properties.put(propertyKey,oldProperties.get(propertyKey));
    }
  }
}
