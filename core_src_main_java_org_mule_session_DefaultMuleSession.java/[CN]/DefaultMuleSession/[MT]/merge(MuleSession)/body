{
  if (updatedSession == null) {
    return;
  }
  Map<String,Object> oldProperties=this.properties;
  createPropertiesMap();
  for (  String propertyKey : updatedSession.getPropertyNamesAsSet()) {
    this.properties.put(propertyKey,updatedSession.<Object>getProperty(propertyKey));
  }
  for (  Map.Entry<String,Object> property : oldProperties.entrySet()) {
    if (!this.properties.containsKey(property.getKey()) && !(oldProperties.get(property.getKey()) instanceof Serializable)) {
      this.properties.put(property.getKey(),oldProperties.get(property.getKey()));
    }
  }
}
