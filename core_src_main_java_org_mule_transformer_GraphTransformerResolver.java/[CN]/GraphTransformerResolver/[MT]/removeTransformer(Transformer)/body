{
  if (!registeredTransformers.contains(transformer)) {
    if (logger.isDebugEnabled()) {
      logger.debug("Attempt to remove an unregistered transformer: " + transformer);
    }
    return;
  }
  DataType<?> returnDataType=transformer.getReturnDataType();
  for (  DataType<?> sourceDataType : transformer.getSourceDataTypes()) {
    Set<TransformationEdge> allEdges=graph.getAllEdges(sourceDataType,returnDataType);
    for (    TransformationEdge edge : allEdges) {
      if (edge.transformer == transformer) {
        DataType<?> source=graph.getEdgeSource(edge);
        DataType<?> target=graph.getEdgeTarget(edge);
        graph.removeEdge(edge);
        if (graph.inDegreeOf(source) == 0 && graph.outDegreeOf(source) == 0) {
          graph.removeVertex(source);
        }
        if (graph.inDegreeOf(target) == 0 && graph.outDegreeOf(target) == 0) {
          graph.removeVertex(target);
        }
      }
    }
  }
  registeredTransformers.remove(transformer);
  this.lruMap.clear();
}
