{
  UMOMessage result=null;
  if (endpoints == null || endpoints.size() == 0) {
    throw new RoutePathNotFoundException(new Message(Messages.NO_ENDPOINTS_FOR_ROUTER),message,null);
  }
  try {
    if (synchronous) {
      result=send(session,message,(UMOEndpoint)endpoints.get(0));
    }
 else {
      dispatch(session,message,(UMOEndpoint)endpoints.get(0));
    }
  }
 catch (  UMOException e) {
    throw new CouldNotRouteOutboundMessageException(message,(UMOEndpoint)endpoints.get(0),e);
  }
  return result;
}
