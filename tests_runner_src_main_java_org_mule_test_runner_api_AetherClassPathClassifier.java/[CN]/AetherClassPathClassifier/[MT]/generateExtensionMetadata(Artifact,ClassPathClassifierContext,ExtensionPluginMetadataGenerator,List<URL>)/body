{
  Class extensionClass=extensionPluginGenerator.scanForExtensionAnnotatedClasses(pluginArtifact,urls);
  if (extensionClass != null) {
    logger.debug("Plugin '{}' has been discovered as Extension",pluginArtifact);
    if (context.isExtensionMetadataGenerationEnabled()) {
      File generatedMetadataFolder=extensionPluginGenerator.generateExtensionManifest(pluginArtifact,extensionClass);
      URL generatedTestResources=toUrl(generatedMetadataFolder);
      List<URL> appendedTestResources=newArrayList(generatedTestResources);
      appendedTestResources.addAll(urls);
      urls=appendedTestResources;
    }
  }
  return urls;
}
