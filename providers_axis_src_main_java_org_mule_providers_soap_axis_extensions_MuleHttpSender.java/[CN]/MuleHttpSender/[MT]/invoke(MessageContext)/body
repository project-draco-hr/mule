{
  if (log.isDebugEnabled()) {
    log.debug(Messages.getMessage("enter00","HTTPSender::invoke"));
  }
  try {
    Call call=(Call)msgContext.getProperty("call_object");
    String transURL=msgContext.getStrProp(MessageContext.TRANS_URL);
    String uri=transURL;
    if (call != null && call.useSOAPAction()) {
      uri=call.getSOAPActionURI();
    }
    msgContext.setProperty("SOAPAction",uri);
    BooleanHolder useFullURL=new BooleanHolder(false);
    StringBuffer otherHeaders=new StringBuffer(64);
    targetURL=new URL(transURL);
    String host=targetURL.getHost();
    int port=targetURL.getPort();
    SocketHolder socketHolder=new SocketHolder(null);
    InputStream inp=writeToSocket(socketHolder,msgContext,targetURL,otherHeaders,host,port,msgContext.getTimeout(),useFullURL);
    if (msgContext.isClient() && call != null) {
      if (Boolean.TRUE.equals(call.getProperty("axis.one.way")))       return;
    }
    Hashtable headers=new Hashtable();
    inp=readHeadersFromSocket(socketHolder,msgContext,inp,headers);
    readFromSocket(socketHolder,msgContext,inp,headers);
  }
 catch (  Exception e) {
    log.debug(e);
    throw AxisFault.makeFault(e);
  }
  if (log.isDebugEnabled()) {
    log.debug(Messages.getMessage("exit00","HTTPDispatchHandler::invoke"));
  }
}
