{
  AbstractTransformer invalidTransformer=(AbstractTransformer)this.getInvalidTransformer();
  assertNotNull(invalidTransformer);
  invalidTransformer.setIgnoreBadInput(false);
  AbstractTransformer validTransformer=(AbstractTransformer)this.getIncreaseByOneTransformer();
  assertNotNull(validTransformer);
  DefaultMuleMessage message=new DefaultMuleMessage(new Integer(0));
  Transformer messageTransformer=new TransformerCollection(new Transformer[]{invalidTransformer,validTransformer});
  try {
    message.applyTransformers(Collections.singletonList(messageTransformer));
    fail("Transformer chain is expected to fail because of invalid transformer within chain.");
  }
 catch (  TransformerException tfe) {
    ;
  }
}
