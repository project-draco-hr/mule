{
  AbstractTransformer transformer=(AbstractTransformer)this.getTransformer();
  assertNotNull(transformer);
  transformer.setIgnoreBadInput(true);
  final AtomicBoolean nextCalled=new AtomicBoolean(false);
  final Object marker=new Object();
  Transformer transformer2=new AbstractTransformer(){
    protected Object doTransform(    Object src,    String encoding) throws TransformerException {
      nextCalled.set(true);
      return marker;
    }
  }
;
  DefaultMuleMessage message=new DefaultMuleMessage(this);
  message.applyTransformers(Arrays.asList(new Transformer[]{transformer,transformer2}));
  Object result=message.getPayload();
  assertNotNull(result);
  assertSame(marker,result);
  assertTrue("Next transformer not called.",nextCalled.get());
}
