{
  Agent agent=muleContext.getRegistry().lookupAgent("jmx-server");
  assertNotNull(agent);
  assertEquals(JmxAgent.class,agent.getClass());
  JmxAgent jmxAgent=(JmxAgent)agent;
  assertEquals(true,jmxAgent.isCreateServer());
  assertEquals(true,jmxAgent.isLocateServer());
  assertEquals(true,jmxAgent.isEnableStatistics());
  agent=muleContext.getRegistry().lookupAgent("jmx-log4j");
  assertNotNull(agent);
  assertEquals(Log4jAgent.class,agent.getClass());
  agent=muleContext.getRegistry().lookupAgent("jmx-mx4j-adaptor");
  assertNotNull(agent);
  assertEquals(Mx4jAgent.class,agent.getClass());
  Mx4jAgent mx4jAgent=(Mx4jAgent)agent;
  assertEquals(mx4jAgent.getJmxAdaptorUrl(),"http://127.0.0.1:8000");
  agent=muleContext.getRegistry().lookupAgent("jmx-notifications");
  assertNotNull(agent);
  assertEquals(JmxServerNotificationAgent.class,agent.getClass());
  agent=muleContext.getRegistry().lookupAgent("log4j-notifications");
  assertNotNull(agent);
  assertEquals(Log4jNotificationLoggerAgent.class,agent.getClass());
  agent=muleContext.getRegistry().lookupAgent("chainsaw-notifications");
  assertNotNull(agent);
  assertEquals(Log4jNotificationLoggerAgent.class,agent.getClass());
  Log4jNotificationLoggerAgent lnlAgent=(Log4jNotificationLoggerAgent)agent;
  assertEquals(lnlAgent.getChainsawPort(),CHAINSAW_PORT);
  assertEquals(lnlAgent.getChainsawHost(),"127.0.0.1");
  agent=muleContext.getRegistry().lookupAgent("publish-notifications");
  assertNotNull(agent);
  assertEquals(EndpointNotificationLoggerAgent.class,agent.getClass());
  EndpointNotificationLoggerAgent enlAgent=(EndpointNotificationLoggerAgent)agent;
  assertEquals(enlAgent.getEndpoint().getEndpointURI().toString(),"test://test");
  agent=muleContext.getRegistry().lookupAgent("test-custom-agent");
  assertNotNull(agent);
  assertEquals(TestAgent.class,agent.getClass());
  assertEquals("woggle",((TestAgent)agent).getFrobbit());
}
