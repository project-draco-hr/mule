{
  originalPayload=invocation.getEvent().getTransformedMessage();
  UMOMessage bMessage=before(invocation);
  if (bMessage != null) {
    UMOTransformer trans=new TransformerTemplate(new TransformerTemplate.OverwitePayloadCallback(bMessage));
    invocation.getMessage().applyTransformers(Arrays.asList(new Object[]{trans}));
  }
  UMOMessage message=invocation.execute();
  invocation.setMessage(message);
  UMOMessage aMessage=after(invocation);
  if (aMessage == null) {
    return message;
  }
 else {
    return aMessage;
  }
}
