{
  if (classLoader instanceof MuleApplicationClassLoader) {
    ((MuleApplicationClassLoader)classLoader).addShutdownListener(new MuleApplicationClassLoader.ShutdownListener(){
      public void execute(){
        final ClassLoader ccl=Thread.currentThread().getContextClassLoader();
        ApplicationAwareRepositorySelector.this.repository.remove(ccl == null ? NO_CCL_CLASSLOADER : ccl.hashCode());
        interrupted=true;
      }
    }
);
  }
  this.filename=filename;
  this.file=new File(filename);
  this.lastModif=file.lastModified();
  setDaemon(true);
  this.repository=repository;
  this.delay=10000;
}
