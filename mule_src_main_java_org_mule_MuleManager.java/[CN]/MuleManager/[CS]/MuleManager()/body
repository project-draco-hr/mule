{
  if (config == null) {
    config=new MuleConfiguration();
  }
  containerContext=new MultiContainerContext();
  securityManager=new MuleSecurityManager();
  Runtime.getRuntime().addShutdownHook(new ShutdownThread());
  notificationManager=new ServerNotificationManager();
  notificationManager.registerEventType(ManagerNotification.class,ManagerNotificationListener.class);
  notificationManager.registerEventType(ModelNotification.class,ModelNotificationListener.class);
  notificationManager.registerEventType(ComponentNotification.class,ComponentNotificationListener.class);
  notificationManager.registerEventType(SecurityNotification.class,SecurityNotificationListener.class);
  notificationManager.registerEventType(ManagementNotification.class,ManagementNotificationListener.class);
  notificationManager.registerEventType(AdminNotification.class,AdminNotificationListener.class);
  notificationManager.registerEventType(CustomNotification.class,CustomNotificationListener.class);
  notificationManager.registerEventType(ConnectionNotification.class,ConnectionNotificationListener.class);
  notificationManager.registerEventType(SpaceMonitorNotification.class,SpaceMonitorNotificationListener.class);
}
