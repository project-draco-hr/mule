{
  UMOMessage umoMessage=createMessage(message);
  UMOEndpoint endpoint=(UMOEndpoint)message.getProperty(MuleProperties.MULE_ENDPOINT_PROPERTY);
  if (endpoint == null) {
    throw new MessagingException("Endpoint property '" + MuleProperties.MULE_ENDPOINT_PROPERTY + "' not set on message");
  }
  return new MuleEvent(umoMessage,endpoint,new MuleSession(new NullUMOComponent(component.getName()),null),endpoint.isSynchronous());
}
