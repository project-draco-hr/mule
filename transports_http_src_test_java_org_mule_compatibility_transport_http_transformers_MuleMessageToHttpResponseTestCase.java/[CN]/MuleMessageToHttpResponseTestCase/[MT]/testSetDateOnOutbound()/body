{
  InternalMessage msg=createMockMessage();
  MuleMessageToHttpResponse transformer=getMuleMessageToHttpResponse();
  HttpResponse response=transformer.createResponse(null,UTF_8,msg,empty(),null,null);
  Header[] headers=response.getHeaders();
  boolean hasDateHeader=false;
  for (  Header header : headers) {
    if (HttpConstants.HEADER_DATE.equals(header.getName())) {
      hasDateHeader=true;
      SimpleDateFormat formatter=new SimpleDateFormat(HttpConstants.DATE_FORMAT_RFC822,Locale.US);
      formatter.setLenient(false);
      try {
        formatter.parse(header.getValue());
      }
 catch (      ParseException e) {
        formatter.setLenient(true);
        formatter.parse(header.getValue());
      }
    }
  }
  assertThat("Missing 'Date' header",hasDateHeader,is(true));
}
