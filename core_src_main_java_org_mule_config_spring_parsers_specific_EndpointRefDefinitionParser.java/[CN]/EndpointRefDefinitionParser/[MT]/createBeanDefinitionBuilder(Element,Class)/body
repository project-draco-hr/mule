{
  String parent=element.getAttribute(ATTRIBUTE_IDREF);
  if (StringUtils.isEmpty(parent)) {
    throw new IllegalArgumentException("Atribute: " + ATTRIBUTE_IDREF + " must be specified for element: "+ element.getNodeName());
  }
  BeanDefinitionBuilder bdb=BeanDefinitionBuilder.childBeanDefinition(parent);
  bdb.getBeanDefinition().setBeanClassName(beanClass.getName());
  bdb.addPropertyValue("type",UMOImmutableEndpoint.ENDPOINT_TYPE_SENDER_AND_RECEIVER);
  return bdb;
}
