{
  SimpleFlowConstruct flow=new SimpleFlowConstruct("flow",muleContext);
  TransformerLifecycleTracker transformer=new TransformerLifecycleTracker();
  transformer.setProperty("foo");
  flow.setMessageProcessors(Collections.singletonList(transformer));
  muleContext.getRegistry().registerFlowConstruct(flow);
  muleContext.dispose();
  assertLifecycle(transformer);
}
