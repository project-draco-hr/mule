{
  if (isProxyEnvelope()) {
    CxfUtils.removeInterceptor(server.getEndpoint().getBinding().getOutInterceptors(),SoapOutInterceptor.class.getName());
  }
  if (CxfUtils.removeInterceptor(server.getEndpoint().getBinding().getOutInterceptors(),RPCOutInterceptor.class.getName())) {
    server.getEndpoint().getBinding().getOutInterceptors().add(new BareOutInterceptor());
  }
  if (isValidationEnabled()) {
    server.getEndpoint().getInInterceptors().add(new ProxySchemaValidationInInterceptor(getConfiguration().getCxfBus(),server.getEndpoint().getService().getServiceInfos().get(0)));
  }
}
