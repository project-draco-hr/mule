{
  MuleClient client=new MuleClient();
  RegistryContext.getConfiguration().setDefaultSynchronousEndpoints(true);
  RemoteDispatcher dispatcher=client.getRemoteDispatcher(getRemoteEndpointUri());
  MuleMessage message=dispatcher.sendRemote("vm://remote.endpoint?connector=vmRemoteConnector","foo",null);
  assertNotNull(message);
  assertEquals("received from remote component",message.getPayloadAsString());
}
