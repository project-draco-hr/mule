{
  HttpServletRequest request=(HttpServletRequest)src;
  String payloadParam=(String)request.getAttribute(AbstractReceiverServlet.PAYLOAD_PARAMETER_NAME);
  if (null == payloadParam) {
    payloadParam=AbstractReceiverServlet.DEFAULT_PAYLOAD_PARAMETER_NAME;
  }
  String payload=request.getParameter(payloadParam);
  if (null == payload) {
    if (isText(request.getContentType())) {
      try {
        BufferedReader reader=request.getReader();
        StringBuffer buffer=new StringBuffer(8192);
        String line=reader.readLine();
        while (line != null) {
          buffer.append(line);
          line=reader.readLine();
          if (line != null)           buffer.append(SystemUtils.LINE_SEPARATOR);
        }
        payload=buffer.toString();
      }
 catch (      IOException e) {
        throw new TransformerException(this,e);
      }
    }
  }
  return payload;
}
