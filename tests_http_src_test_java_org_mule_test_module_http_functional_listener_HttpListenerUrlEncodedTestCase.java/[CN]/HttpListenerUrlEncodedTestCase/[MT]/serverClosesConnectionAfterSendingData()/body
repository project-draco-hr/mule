{
  AsyncHttpClientConfig asyncHttpClientConfig=new AsyncHttpClientConfig.Builder().build();
  GrizzlyAsyncHttpProvider httpProvider=new GrizzlyAsyncHttpProvider(asyncHttpClientConfig);
  try (AsyncHttpClient asyncHttpClient=new AsyncHttpClient(httpProvider,asyncHttpClientConfig)){
    ListenableFuture<com.ning.http.client.Response> responseFuture=asyncHttpClient.preparePost(getListenerUrl()).setBody("a=1&b=2").addHeader(CONTENT_TYPE,APPLICATION_X_WWW_FORM_URLENCODED.toRfcString()).execute();
    com.ning.http.client.Response response=responseFuture.get();
    assertThat(response.getStatusCode(),is(200));
  }
 }
