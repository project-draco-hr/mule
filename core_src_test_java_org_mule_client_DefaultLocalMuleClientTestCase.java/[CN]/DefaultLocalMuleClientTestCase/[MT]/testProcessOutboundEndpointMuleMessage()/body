{
  stub(outboundEndpoint.process(any(MuleEvent.class))).toReturn(responseEvent);
  ArgumentCaptor<MuleEvent> argument=ArgumentCaptor.forClass(MuleEvent.class);
  MuleMessage response=client.process(outboundEndpoint,message);
  verify(outboundEndpoint).process(argument.capture());
  assertSame(message,argument.getValue().getMessage());
  assertSame(outboundEndpoint.getExchangePattern(),argument.getValue().getExchangePattern());
  assertSame(outboundEndpoint.getEndpointURI().getUri(),argument.getValue().getMessageSourceURI());
  assertSame(responseEvent.getMessage(),response);
}
