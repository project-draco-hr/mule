{
  Object adaptor;
  Log.redirectTo(new CommonsLogger());
  URI uri=new URI(StringUtils.stripToEmpty(jmxAdaptorUrl));
  adaptor=new HttpAdaptor(uri.getPort(),uri.getHost());
  XSLTProcessor processor=new XSLTProcessor();
  if (StringUtils.isNotBlank(xslFilePath)) {
    processor.setFile(xslFilePath.trim());
  }
  if (StringUtils.isNotBlank(pathInJar)) {
    processor.setPathInJar(pathInJar.trim());
  }
  processor.setUseCache(cacheXsl);
  final HttpAdaptor httpAdaptor=((HttpAdaptor)adaptor);
  httpAdaptor.setProcessor(processor);
  if (login != null) {
    httpAdaptor.addAuthorization(login,password);
    httpAdaptor.setAuthenticationMethod(authenticationMethod);
  }
  if (socketFactoryProperties != null && !socketFactoryProperties.isEmpty()) {
    SSLAdaptorServerSocketFactory factory=new SSLAdaptorServerSocketFactory();
    BeanUtils.populateWithoutFail(factory,socketFactoryProperties,true);
    httpAdaptor.setSocketFactory(factory);
  }
  return adaptor;
}
