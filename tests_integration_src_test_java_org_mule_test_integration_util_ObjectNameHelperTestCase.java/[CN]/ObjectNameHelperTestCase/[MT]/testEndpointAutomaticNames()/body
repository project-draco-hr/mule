{
  UMOEndpoint ep=new MuleEndpoint("jms://cn=foo,name=queue",true);
  MuleManager.getInstance().registerEndpoint(ep);
  assertEquals("endpoint.jms.cn.foo.name.queue",ep.getName());
  ep=new MuleEndpoint("jms://cn=foo,name=queue",true);
  assertEquals("endpoint.jms.cn.foo.name.queue.1",ep.getName());
  ep=new MuleEndpoint("vm://my.queue",true);
  assertEquals("endpoint.vm.my.queue",ep.getName());
  ep=new MuleEndpoint("pop3://ross:secret@mail.mycompany.com?subject=foo",true);
  assertEquals("endpoint.pop3.ross.mycompany.com",ep.getName());
}
