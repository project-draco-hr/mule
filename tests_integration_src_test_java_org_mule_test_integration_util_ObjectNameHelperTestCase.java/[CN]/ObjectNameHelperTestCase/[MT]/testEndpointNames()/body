{
  UMOEndpoint ep=new MuleEndpoint("jms://cn=foo,name=queue?endpointName=foo",true);
  managementContext.getRegistry().registerEndpoint(ep);
  assertEquals("foo",ep.getName());
  ep=new MuleEndpoint("jms://cn=foo,name=queue?endpointName=this_is@aWierd-Name:x",true);
  assertEquals("this.is.aWierd.Name.x",ep.getName());
  managementContext.getRegistry().registerEndpoint(ep);
  ep=new MuleEndpoint("jms://cn=foo,name=queue?endpointName=this_is@aWierd-Name:x",true);
  assertEquals("this.is.aWierd.Name.x",ep.getName());
  ep=new MuleEndpoint("jms://cn=foo,name=queue?endpointName=this____is+another=@Wierd----Name:x:::",true);
  assertEquals("this.is.another.Wierd.Name.x",ep.getName());
}
