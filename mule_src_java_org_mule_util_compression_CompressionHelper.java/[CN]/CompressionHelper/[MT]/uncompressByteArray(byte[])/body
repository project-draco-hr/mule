{
  logger.debug("Uncompressing message of size: " + bytes.length);
  if (!strategy.isCompressed(bytes)) {
    logger.warn("data is not of type GZIP compressed. The data may not have been compressed in the first place");
    throw new CompressionException("Not in GZIP format");
  }
  byte[] uncompressedByteArray=strategy.uncompressByteArray(bytes);
  logger.debug("Uncompressing message to size: " + uncompressedByteArray.length);
  return uncompressedByteArray;
}
