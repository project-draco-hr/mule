{
  parseTemplateTransformer.setLocation(LOCATION);
  parseTemplateTransformer.initialise();
  when(mockMuleMessage.getInboundProperty("errorMessage")).thenReturn("ERROR!!!");
  String expectedExpression=IOUtils.getResourceAsString(LOCATION,this.getClass());
  when(mockExpressionManager.parse(expectedExpression,mockMuleEvent)).thenReturn("Parsed");
  Object response=parseTemplateTransformer.transformMessage(mockMuleEvent,"UTF-8");
  assertNotNull(response);
  assertEquals("Parsed",response);
  response=parseTemplateTransformer.transformMessage(mockMuleEvent,"UTF-8");
  assertNotNull(response);
  assertEquals("Parsed",response);
}
