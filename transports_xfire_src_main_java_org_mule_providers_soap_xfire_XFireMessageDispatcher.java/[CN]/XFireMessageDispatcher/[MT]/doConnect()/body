{
  if (client == null) {
    final XFire xfire=connector.getXfire();
    final String serviceName=getServiceName(endpoint);
    final Service service=xfire.getServiceRegistry().getService(serviceName);
    if (service == null) {
      throw new FatalConnectException(new Message("xfire",8,serviceName),this);
    }
    List inList=connector.getServerInHandlers();
    if (inList != null) {
      for (int i=0; i < inList.size(); i++) {
        Class clazz=Class.forName(inList.get(i).toString());
        Handler handler=(Handler)clazz.getConstructor(null).newInstance(null);
        service.addInHandler(handler);
      }
    }
    List outList=connector.getServerOutHandlers();
    if (outList != null) {
      for (int i=0; i < outList.size(); i++) {
        Class clazz=Class.forName(outList.get(i).toString());
        Handler handler=(Handler)clazz.getConstructor(null).newInstance(null);
        service.addOutHandler(handler);
      }
    }
    try {
      this.client=createXFireClient(endpoint,service,xfire);
    }
 catch (    Exception ex) {
      disconnect();
      throw ex;
    }
  }
}
