{
  Class transportClazz;
  if (connector.getClientTransport() == null) {
    if (!StringUtils.isBlank(transportClass)) {
      transportClazz=ClassUtils.loadClass(transportClass,this.getClass());
    }
 else {
      transportClazz=MuleUniversalTransport.class;
    }
  }
 else {
    transportClazz=ClassUtils.loadClass(connector.getClientTransport(),this.getClass());
  }
  Transport transport=(Transport)transportClazz.getConstructor(null).newInstance(null);
  Client client=new Client(transport,service,endpoint.getEndpointURI().toString());
  client.setXFire(xfire);
  client.setEndpointUri(endpoint.getEndpointURI().toString());
  return configureXFireClient(client);
}
