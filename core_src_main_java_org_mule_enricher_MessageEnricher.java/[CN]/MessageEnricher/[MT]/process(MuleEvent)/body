{
  ExpressionManager expressionManager=event.getMuleContext().getExpressionManager();
  MuleEvent enrichmentEvent=enrichmentProcessor.process(RequestContext.setEvent(event));
  if (enrichmentEvent != null) {
    for (    EnrichExpressionPair pair : enrichExpressionPairs) {
      enrich(event.getMessage(),enrichmentEvent.getMessage(),pair.getSource(),pair.getTarget(),expressionManager);
    }
    event=new DefaultMuleEvent(event.getMessage(),event,new DefaultMuleSession(enrichmentEvent.getSession()));
    event=RequestContext.setEvent(event);
  }
  return event;
}
