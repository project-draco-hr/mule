{
  if (mBeanServer != null) {
    for (Iterator iterator=registeredMBeans.iterator(); iterator.hasNext(); ) {
      ObjectName objectName=(ObjectName)iterator.next();
      try {
        mBeanServer.unregisterMBean(objectName);
      }
 catch (      Exception e) {
        logger.warn("Failed to unregister MBean: " + objectName + ". Error is: "+ e.getMessage());
      }
    }
    MBeanServerFactory.releaseMBeanServer(mBeanServer);
    mBeanServer=null;
  }
}
