{
  final Service c=muleContext.getRegistry().lookupService("startedComponent");
  assertTrue(c.isStarted());
  assertFalse(c.isPaused());
  assertFalse(c.isStopped());
  c.pause();
  assertTrue(c.isPaused());
  assertFalse(c.isStopped());
  assertFalse(c.isStarted());
  new Thread(new Runnable(){
    public void run(){
      try {
        Thread.sleep(2000);
      }
 catch (      InterruptedException e) {
        Thread.currentThread().interrupt();
        throw new RuntimeException(e);
      }
      try {
        c.resume();
      }
 catch (      MuleException e) {
        fail(e.getMessage());
      }
    }
  }
).start();
  long t0=System.currentTimeMillis();
  c.sendEvent(getTestEvent("hello"));
  long t1=System.currentTimeMillis();
  assertTrue(t1 - t0 > 1000);
}
