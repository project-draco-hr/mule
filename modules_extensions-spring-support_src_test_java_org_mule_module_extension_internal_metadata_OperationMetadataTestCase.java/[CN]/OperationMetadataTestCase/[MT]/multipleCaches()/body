{
  componentId=new ProcessorId(OUTPUT_AND_METADATA_KEY_CACHE_RESOLVER,FIRST_PROCESSOR_INDEX);
  getComponentDynamicMetadata();
  componentId=new ProcessorId(OUTPUT_METADATA_WITHOUT_KEY_PARAM,FIRST_PROCESSOR_INDEX);
  getComponentDynamicMetadata();
  componentId=new ProcessorId(CONTENT_AND_OUTPUT_CACHE_RESOLVER_WITH_ALTERNATIVE_CONFIG,FIRST_PROCESSOR_INDEX);
  getComponentDynamicMetadata();
  MuleMetadataManager metadataManager=(MuleMetadataManager)muleContext.getRegistry().lookupObject(MetadataManager.class);
  Map<String,? extends MetadataCache> caches=metadataManager.getMetadataCaches();
  assertThat(caches.keySet(),hasSize(2));
  assertThat(caches.keySet(),hasItems(CONFIG,ALTERNATIVE_CONFIG));
}
