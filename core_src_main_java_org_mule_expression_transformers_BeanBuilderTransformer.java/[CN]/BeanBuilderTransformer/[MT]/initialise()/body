{
  super.initialise();
  if (getBeanFactory() == null && getBeanClass() == null) {
    throw new InitialisationException(CoreMessages.objectIsNull("beanFactory"),this);
  }
 else   if (getBeanClass() != null) {
    setBeanFactory(new PrototypeObjectFactory(getBeanClass()));
  }
  setReturnClass(getBeanFactory().getObjectClass());
}
