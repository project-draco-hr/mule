{
  if (null == factory) {
    logger.debug("creating factory");
    TlsPropertiesMapper propertiesMapper=new TlsPropertiesMapper(namespace);
    TlsConfiguration configuration=new TlsConfiguration(TlsConfiguration.DEFAULT_KEYSTORE);
    propertiesMapper.readFromProperties(configuration,System.getProperties());
    try {
      configuration.initialise(anon,namespace);
      factory=configuration.getSocketFactory();
    }
 catch (    Exception e) {
      throw (IOException)new IOException(e.getMessage()).initCause(e);
    }
  }
  return factory;
}
