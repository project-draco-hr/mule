{
  MessagePropertyFilter filter=new MessagePropertyFilter();
  assertFalse(filter.accept((MuleMessage)null));
  filter=new MessagePropertyFilter("foo = bar");
  MutableMuleMessage message=new DefaultMuleMessage("blah",muleContext);
  message.setOutboundProperty("foo","bar");
  assertTrue("Filter didn't accept the message",filter.accept(message));
  filter.setCaseSensitive(false);
  filter=new MessagePropertyFilter("foo2 =null");
  removeProperty(message,"foo2");
  assertTrue("Filter didn't accept the message",filter.accept(message));
  filter=new MessagePropertyFilter("foo2 =");
  message.setOutboundProperty("foo2","");
  assertTrue("Filter didn't accept the message",filter.accept(message));
  removeProperty(message,"foo2");
  assertFalse(filter.accept(message));
}
