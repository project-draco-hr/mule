{
  Map<String,Object> result=createResultMap();
  StatementResultIteratorFactory statementResultIteratorFactory=connection.getStatementResultIteratorFactory(resultSetHandler);
  StatementResultIterator statementResultIterator=statementResultIteratorFactory.create(connection,statement,queryTemplate,autoGeneratedKeyStrategy);
  while (statementResultIterator.hasNext()) {
    StatementResult next=statementResultIterator.next();
    result.put(next.getName(),next.getResult());
  }
  return result;
}
