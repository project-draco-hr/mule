{
  this.managementContext=managementContext;
  MuleConfiguration config=RegistryContext.getConfiguration();
  if (threadingProfile == null) {
    threadingProfile=config.getDefaultComponentThreadingProfile();
  }
 else   if (exceptionListener instanceof Initialisable) {
    ((Initialisable)exceptionListener).initialise(managementContext);
  }
  if (exceptionListener instanceof Initialisable) {
    ((Initialisable)exceptionListener).initialise(managementContext);
  }
  MuleEndpoint endpoint;
  if (inboundRouter == null) {
    inboundRouter=new InboundRouterCollection();
    inboundRouter.addRouter(new InboundPassThroughRouter());
  }
 else {
    if (inboundRouter.getCatchAllStrategy() != null && inboundRouter.getCatchAllStrategy().getEndpoint() != null) {
      inboundRouter.getCatchAllStrategy().getEndpoint().initialise(managementContext);
    }
    for (Iterator iterator=inboundRouter.getEndpoints().iterator(); iterator.hasNext(); ) {
      endpoint=(MuleEndpoint)iterator.next();
      endpoint.initialise(managementContext);
    }
  }
  if (responseRouter != null) {
    for (Iterator iterator=responseRouter.getEndpoints().iterator(); iterator.hasNext(); ) {
      endpoint=(MuleEndpoint)iterator.next();
      endpoint.initialise(managementContext);
    }
  }
  if (nestedRouter != null) {
    for (Iterator it=nestedRouter.getRouters().iterator(); it.hasNext(); ) {
      UMONestedRouter nestedRouter=(UMONestedRouter)it.next();
      endpoint=(MuleEndpoint)nestedRouter.getEndpoint();
      endpoint.initialise(managementContext);
    }
  }
  if (outboundRouter == null) {
    outboundRouter=new OutboundRouterCollection();
    outboundRouter.addRouter(new OutboundPassThroughRouter());
  }
 else {
    if (outboundRouter.getCatchAllStrategy() != null && outboundRouter.getCatchAllStrategy().getEndpoint() != null) {
      outboundRouter.getCatchAllStrategy().getEndpoint().initialise(managementContext);
    }
    UMOOutboundRouter router;
    for (Iterator iterator=outboundRouter.getRouters().iterator(); iterator.hasNext(); ) {
      router=(UMOOutboundRouter)iterator.next();
      for (Iterator iterator1=router.getEndpoints().iterator(); iterator1.hasNext(); ) {
        endpoint=(MuleEndpoint)iterator1.next();
        endpoint.initialise(managementContext);
      }
    }
  }
  if (implementationReference instanceof String) {
    implementationReference=new ContainerKeyPair(container,implementationReference);
  }
  inboundRouter.initialise(managementContext);
  outboundRouter.initialise(managementContext);
  if (responseRouter != null) {
    responseRouter.initialise(managementContext);
  }
  if (nestedRouter != null) {
    nestedRouter.initialise(managementContext);
  }
}
