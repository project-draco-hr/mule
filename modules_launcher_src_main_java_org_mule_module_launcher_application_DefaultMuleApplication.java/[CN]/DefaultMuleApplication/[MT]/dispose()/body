{
  try {
    ClassLoader appCl=getDeploymentClassLoader();
    if (appCl != null) {
      Thread.currentThread().setContextClassLoader(appCl);
    }
    doDispose();
    if (appCl != null) {
      if (appCl instanceof GoodCitizenClassLoader) {
        GoodCitizenClassLoader classLoader=(GoodCitizenClassLoader)appCl;
        classLoader.close();
      }
    }
  }
  finally {
    Thread.currentThread().setContextClassLoader(null);
  }
}
