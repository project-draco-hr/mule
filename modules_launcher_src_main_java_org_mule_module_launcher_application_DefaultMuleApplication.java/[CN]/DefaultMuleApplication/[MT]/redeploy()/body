{
  if (logger.isInfoEnabled()) {
    logger.info(miniSplash(String.format("Redeploying app '%s'",descriptor.getAppName())));
  }
  String appName=getAppName();
  deploymentListener.onUndeploymentStart(appName);
  try {
    dispose();
    deploymentListener.onUndeploymentSuccess(appName);
  }
 catch (  RuntimeException e) {
    deploymentListener.onUndeploymentFailure(appName,e);
    throw e;
  }
  install();
  final ClassLoader cl=getDeploymentClassLoader();
  Thread.currentThread().setContextClassLoader(cl);
  deploymentListener.onDeploymentStart(appName);
  try {
    init();
    start();
    deploymentListener.onDeploymentSuccess(appName);
  }
 catch (  Throwable cause) {
    logger.error("Application deployment error",cause);
    deploymentListener.onDeploymentFailure(appName,cause);
  }
  Thread.currentThread().setContextClassLoader(null);
}
