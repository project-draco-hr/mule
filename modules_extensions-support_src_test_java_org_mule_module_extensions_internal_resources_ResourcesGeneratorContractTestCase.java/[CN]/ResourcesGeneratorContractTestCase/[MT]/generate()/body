{
  GenerableResourceContributor contributor=mock(GenerableResourceContributor.class);
  when(serviceRegistry.lookupProviders(same(GenerableResourceContributor.class),any(ClassLoader.class))).thenReturn(Arrays.asList(contributor));
  Extension extension=mock(Extension.class);
  generator.generateFor(extension);
  verify(contributor).contribute(extension,generator);
}
