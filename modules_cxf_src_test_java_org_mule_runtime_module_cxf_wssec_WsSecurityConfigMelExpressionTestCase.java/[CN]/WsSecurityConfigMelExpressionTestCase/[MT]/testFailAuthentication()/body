{
  ClientPasswordCallback.setPassword("secret");
  Exception e=flowRunner("cxfClient").withPayload("UnknownPasswordEncoding").runExpectingException();
  assertThat(e,is(instanceOf(MessagingException.class)));
  assertThat(e.getCause().getCause().getCause(),is(instanceOf(SOAPFaultException.class)));
  assertThat(e.getCause().getCause().getMessage(),containsString("Security exception occurred invoking web service"));
}
