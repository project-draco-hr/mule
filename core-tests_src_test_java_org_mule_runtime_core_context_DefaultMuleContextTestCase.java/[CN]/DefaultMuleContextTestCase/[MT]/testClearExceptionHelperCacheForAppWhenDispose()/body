{
  URL baseUrl=DefaultMuleContextTestCase.class.getClassLoader().getResource(".");
  File file=new File(baseUrl.getFile() + SERVICE_ROOT + EXCEPTION.getPath()+ "/"+ TEST_PROTOCOL+ "-exception-mappings.properties");
  createExceptionMappingFile(file,INITIAL_VALUE);
  createMuleContext();
  String value=getErrorMapping(TEST_PROTOCOL,IllegalArgumentException.class,context);
  assertThat(value,is(INITIAL_VALUE));
  context.dispose();
  createExceptionMappingFile(file,VALUE_AFTER_REDEPLOY);
  createMuleContext();
  context.setExecutionClassLoader(getClass().getClassLoader());
  value=getErrorMapping(TEST_PROTOCOL,IllegalArgumentException.class,context);
  assertThat(value,is(VALUE_AFTER_REDEPLOY));
}
