{
  URL baseUrl=DefaultMuleContextTestCase.class.getClassLoader().getResource(".");
  File file=new File(baseUrl.getFile() + ExceptionHelper.SERVICE_ROOT + ServiceType.EXCEPTION.getPath()+ "/"+ TEST_PROTOCOL+ "-exception-mappings.properties");
  createExceptionMappingFile(file,INITIAL_VALUE);
  context=muleContextFactory.createMuleContext();
  String value=ExceptionHelper.getErrorMapping(TEST_PROTOCOL,IllegalArgumentException.class,context);
  assertThat(value,is(INITIAL_VALUE));
  context.dispose();
  createExceptionMappingFile(file,VALUE_AFTER_REDEPLOY);
  context=muleContextFactory.createMuleContext();
  context.setExecutionClassLoader(getClass().getClassLoader());
  value=ExceptionHelper.getErrorMapping(TEST_PROTOCOL,IllegalArgumentException.class,context);
  assertThat(value,is(VALUE_AFTER_REDEPLOY));
}
