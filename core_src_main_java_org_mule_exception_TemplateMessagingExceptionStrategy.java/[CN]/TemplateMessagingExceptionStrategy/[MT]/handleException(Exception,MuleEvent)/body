{
  FlowConstruct flowConstruct=event.getFlowConstruct();
  fireNotification(exception);
  logException(exception);
  processStatistics(event);
  event.getMessage().setExceptionPayload(new DefaultExceptionPayload(exception));
  event=beforeRouting(exception,event);
  event=route(event,exception);
  processOutboundRouterStatistics(flowConstruct);
  event=afterRouting(exception,event);
  markExceptionAsHandledIfRequired(exception);
  if (event != null) {
    processReplyTo(event,exception);
    closeStream(event.getMessage());
    nullifyExceptionPayloadIfRequired(event);
  }
  return event;
}
