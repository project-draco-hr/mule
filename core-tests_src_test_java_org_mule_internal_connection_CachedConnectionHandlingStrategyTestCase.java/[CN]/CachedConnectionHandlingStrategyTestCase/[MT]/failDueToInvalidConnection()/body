{
  String errorMessage="Invalid username or password";
  when(connectionProvider.validate(connection)).thenReturn(ConnectionValidationResult.failure(errorMessage,ConnectionExceptionCode.INCORRECT_CREDENTIALS,new Exception("401: UNAUTHORIZED")));
  CachedConnectionHandler connectionHandler=(CachedConnectionHandler)connectionStrategy.getConnectionHandler();
  ConnectionValidationResult validationResult=connectionHandler.validateConnection(connection);
  assertThat(validationResult.isValid(),is(false));
  assertThat(validationResult.getMessage(),is(errorMessage));
}
