{
  DefaultMuleMessage muleMessage=new DefaultMuleMessage(TEST,buildDefaultEncodingDataType());
  DataType<Integer> newDataType=DataType.builder().type(Integer.class).mediaType(APPLICATION_XML).charset(CUSTOM_ENCODING).build();
  muleMessage.setPayload(TEST,newDataType);
  assertThat(muleMessage.getPayload(),Matchers.<Object>equalTo(TEST));
  assertDataType(muleMessage,Integer.class,APPLICATION_XML,CUSTOM_ENCODING);
}
