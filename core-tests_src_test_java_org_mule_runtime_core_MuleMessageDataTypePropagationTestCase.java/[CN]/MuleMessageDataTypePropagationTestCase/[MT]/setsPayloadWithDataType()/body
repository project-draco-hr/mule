{
  DefaultMuleMessage muleMessage=new DefaultMuleMessage(TEST,muleContext);
  DataType<Integer> newDataType=DataType.builder().type(Integer.class).mimeType(APPLICATION_XML).encoding(CUSTOM_ENCODING).build();
  muleMessage.setPayload(TEST,newDataType);
  assertThat(muleMessage.getPayload(),Matchers.<Object>equalTo(TEST));
  assertDataType(muleMessage,Integer.class,APPLICATION_XML,CUSTOM_ENCODING);
}
