{
  DefaultMuleMessage muleMessage=new DefaultMuleMessage(TEST,muleContext);
  DataType<Integer> newDataType=DataTypeFactory.create(Integer.class,APPLICATION_XML,CUSTOM_ENCODING);
  muleMessage.setPayload(TEST,newDataType);
  assertThat(muleMessage.getPayload(),Matchers.<Object>equalTo(TEST));
  assertDataType(muleMessage,Integer.class,APPLICATION_XML,CUSTOM_ENCODING);
}
