{
  NestedProcessorValueResolver resolver=new NestedProcessorValueResolver(messageProcessor);
  resolver.setMuleContext(muleContext);
  NestedProcessor resolved1=resolver.resolve(testEvent);
  NestedProcessor resolved2=resolver.resolve(testEvent);
  assertThat(resolved1,is(not(sameInstance(resolved2))));
}
