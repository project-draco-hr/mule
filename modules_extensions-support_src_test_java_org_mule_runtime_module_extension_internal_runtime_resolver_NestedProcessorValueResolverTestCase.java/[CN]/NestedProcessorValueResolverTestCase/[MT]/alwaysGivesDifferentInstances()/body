{
  Event muleEvent=getTestEvent("");
  NestedProcessorValueResolver resolver=new NestedProcessorValueResolver(messageProcessor);
  resolver.setMuleContext(muleContext);
  NestedProcessor resolved1=resolver.resolve(muleEvent);
  NestedProcessor resolved2=resolver.resolve(muleEvent);
  assertThat(resolved1,is(not(sameInstance(resolved2))));
}
