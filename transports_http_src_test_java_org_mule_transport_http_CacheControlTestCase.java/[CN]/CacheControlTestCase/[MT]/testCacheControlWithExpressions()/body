{
  CacheControlHeader cacheControl=new CacheControlHeader();
  cacheControl.setDirective(HEADER_DIRECTIVE);
  cacheControl.setMaxAge(HEADER_MAX_AGE);
  cacheControl.setMustRevalidate(HEADER_MUST_REVALIDATE);
  cacheControl.setNoCache(HEADER_NO_CACHE);
  cacheControl.setNoStore(HEADER_NO_STORE);
  when(expressionManager.parse(HEADER_DIRECTIVE,muleMessage)).thenReturn("public");
  when(expressionManager.parse(HEADER_MAX_AGE,muleMessage)).thenReturn("3600");
  when(expressionManager.parse(HEADER_MUST_REVALIDATE,muleMessage)).thenReturn("true");
  when(expressionManager.parse(HEADER_NO_CACHE,muleMessage)).thenReturn("true");
  when(expressionManager.parse(HEADER_NO_STORE,muleMessage)).thenReturn("true");
  cacheControl.parse(muleMessage,expressionManager);
  assertEquals("public,no-cache,no-store,must-revalidate,max-age=3600",cacheControl.toString());
}
