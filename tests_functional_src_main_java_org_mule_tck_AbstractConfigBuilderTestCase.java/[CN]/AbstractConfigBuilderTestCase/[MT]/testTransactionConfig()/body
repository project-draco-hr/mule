{
  Service apple=muleContext.getRegistry().lookupService("appleComponent2");
  InboundEndpoint inEndpoint=((ServiceCompositeMessageSource)apple.getMessageSource()).getEndpoint("transactedInboundEndpoint");
  assertNotNull(inEndpoint);
  assertEquals(1,((OutboundRouterCollection)apple.getOutboundMessageProcessor()).getRoutes().size());
  assertNotNull(inEndpoint.getTransactionConfig());
  assertEquals(TransactionConfig.ACTION_ALWAYS_BEGIN,inEndpoint.getTransactionConfig().getAction());
  assertTrue(inEndpoint.getTransactionConfig().getFactory() instanceof TestTransactionFactory);
  assertNull(inEndpoint.getTransactionConfig().getConstraint());
  OutboundRouter outRouter=(OutboundRouter)((OutboundRouterCollection)apple.getOutboundMessageProcessor()).getRoutes().get(0);
  MessageProcessor outEndpoint=outRouter.getRoutes().get(0);
  assertNotNull(outEndpoint);
}
