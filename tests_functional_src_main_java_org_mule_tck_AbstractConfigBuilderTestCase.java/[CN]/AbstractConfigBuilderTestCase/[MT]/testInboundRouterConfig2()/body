{
  Component component=muleContext.getRegistry().lookupComponent("appleComponent");
  assertNotNull(component.getInboundRouter());
  InboundRouterCollection messageRouter=component.getInboundRouter();
  assertNotNull(messageRouter.getCatchAllStrategy());
  assertEquals(2,messageRouter.getRouters().size());
  InboundRouter router=(InboundRouter)messageRouter.getRouters().get(0);
  assertTrue(router instanceof SelectiveConsumer);
  SelectiveConsumer sc=(SelectiveConsumer)router;
  assertNotNull(sc.getFilter());
  Filter filter=sc.getFilter();
  assertTrue(filter instanceof PayloadTypeFilter);
  assertEquals(String.class,((PayloadTypeFilter)filter).getExpectedType());
  InboundRouter router2=(InboundRouter)messageRouter.getRouters().get(1);
  assertTrue(router2 instanceof IdempotentReceiver);
}
