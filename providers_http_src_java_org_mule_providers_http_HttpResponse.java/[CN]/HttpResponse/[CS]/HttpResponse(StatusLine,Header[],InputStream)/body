{
  super();
  if (statusline == null) {
    throw new IllegalArgumentException("Status line may not be null");
  }
  setStatusLine(HttpVersion.parse(statusline.getHttpVersion()),statusline.getStatusCode(),statusline.getReasonPhrase());
  setHeaders(headers);
  if (content != null) {
    InputStream in=content;
    Header contentLength=this.headers.getFirstHeader("Content-Length");
    Header transferEncoding=this.headers.getFirstHeader("Transfer-Encoding");
    if (transferEncoding != null) {
      if (transferEncoding.getValue().indexOf("chunked") != -1) {
        in=new ChunkedInputStream(in);
      }
    }
 else     if (contentLength != null) {
      long len=getContentLength();
      if (len >= 0) {
        in=new ContentLengthInputStream(in,len);
      }
    }
    this.entity=in;
  }
}
