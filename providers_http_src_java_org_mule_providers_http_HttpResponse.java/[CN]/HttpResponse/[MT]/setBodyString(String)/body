{
  if (string != null) {
    byte[] raw=null;
    try {
      raw=string.getBytes(DEFAULT_CONTENT_CHARSET);
    }
 catch (    UnsupportedEncodingException e) {
      raw=string.getBytes();
    }
    this.entity=new ByteArrayInputStream(raw);
    if (!containsHeader(HttpConstants.HEADER_CONTENT_TYPE)) {
      setHeader(new Header(HttpConstants.HEADER_CONTENT_TYPE,HttpConstants.DEFAULT_CONTENT_TYPE));
    }
    setHeader(new Header(HttpConstants.HEADER_CONTENT_LENGTH,Long.toString(raw.length)));
  }
 else {
    this.entity=null;
  }
}
