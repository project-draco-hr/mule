{
  checkPipelineId(id);
  DefaultMessageProcessorChainBuilder builder=new DefaultMessageProcessorChainBuilder(flow);
  builder.chain(preMessageProcessors);
  builder.chain(staticChain);
  builder.chain(postMessageProcessors);
  MessageProcessorChain newChain=builder.build();
  Lifecycle preChainOld=preChain;
  Lifecycle postChainOld=postChain;
  preChain=new SimpleMessageProcessorChain(preMessageProcessors);
  preChain.setMuleContext(muleContext);
  postChain=new SimpleMessageProcessorChain(postMessageProcessors);
  postChain.setMuleContext(muleContext);
  initDynamicChains();
  super.setListener(newChain);
  disposeDynamicChains(preChainOld,postChainOld);
  return getPipelineId();
}
