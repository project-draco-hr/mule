{
  String modelName=service.getModelName();
  UMOModel model;
  if (modelName != null) {
    model=lookupModel(modelName);
  }
 else {
    logger.warn("Model name not set on service, using system model");
    model=lookupSystemModel();
    service.setModelName(model.getName());
  }
  if (model == null) {
    throw new IllegalStateException("Service must be associated with an existing model. Not found: " + modelName);
  }
  registerObject(service.getName(),service,UMODescriptor.class,managementContext);
  model.registerComponent(service);
}
