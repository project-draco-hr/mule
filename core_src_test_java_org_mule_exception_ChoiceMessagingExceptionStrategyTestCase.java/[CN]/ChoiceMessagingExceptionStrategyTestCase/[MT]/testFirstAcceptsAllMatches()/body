{
  ChoiceMessagingExceptionStrategy choiceMessagingExceptionStrategy=new ChoiceMessagingExceptionStrategy();
  choiceMessagingExceptionStrategy.setExceptionListeners(new ArrayList<ChoiceMessagingExceptionHandler>(Arrays.<ChoiceMessagingExceptionHandler>asList(mockTestExceptionStrategy1,mockTestExceptionStrategy2)));
  when(mockMuleContext.getDefaultExceptionStrategy()).thenReturn(mockDefaultTestExceptionStrategy2);
  choiceMessagingExceptionStrategy.setMuleContext(mockMuleContext);
  when(mockTestExceptionStrategy1.acceptsAll()).thenReturn(true);
  when(mockTestExceptionStrategy2.acceptsAll()).thenReturn(false);
  when(mockDefaultTestExceptionStrategy2.acceptsAll()).thenReturn(true);
  choiceMessagingExceptionStrategy.initialise();
}
