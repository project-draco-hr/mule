{
  MuleContext muleContext=new DefaultMuleContextFactory().createMuleContext();
  muleContext.getRegistry().registerObject("orange",new Orange(12,5.5,"Tutti Frutti"));
  ApplicationContext appContext=new ClassPathXmlApplicationContext("application-context.xml");
  ConfigurationBuilder builder=new SpringConfigurationBuilder(appContext);
  builder.configure(muleContext);
  muleContext.start();
  Object orange=muleContext.getRegistry().lookupObject("orange");
  assertNotNull(orange);
  assertTrue(orange instanceof Orange);
  assertEquals("Tutti Frutti",((Orange)orange).getBrand());
}
