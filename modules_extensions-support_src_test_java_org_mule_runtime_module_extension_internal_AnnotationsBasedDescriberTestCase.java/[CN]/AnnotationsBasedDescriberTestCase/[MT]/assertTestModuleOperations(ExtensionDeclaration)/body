{
  assertThat(extensionDeclaration.getOperations(),hasSize(23));
  assertOperation(extensionDeclaration,SAY_MY_NAME_OPERATION,"");
  assertOperation(extensionDeclaration,GET_ENEMY_OPERATION,"");
  assertOperation(extensionDeclaration,KILL_OPERATION,"");
  assertOperation(extensionDeclaration,KILL_CUSTOM_OPERATION,"");
  assertOperation(extensionDeclaration,KILL_WITH_WEAPON,"");
  assertOperation(extensionDeclaration,KILL_WITH_RICINS,"");
  assertOperation(extensionDeclaration,KILL_WITH_MULTIPLES_WEAPONS,"");
  assertOperation(extensionDeclaration,KILL_WITH_MULTIPLE_WILDCARD_WEAPONS,"");
  assertOperation(extensionDeclaration,GET_PAYMENT_FROM_EVENT_OPERATION,"");
  assertOperation(extensionDeclaration,GET_PAYMENT_FROM_MESSAGE_OPERATION,"");
  assertOperation(extensionDeclaration,DIE,"");
  assertOperation(extensionDeclaration,KILL_MANY,"");
  assertOperation(extensionDeclaration,KILL_ONE,"");
  assertOperation(extensionDeclaration,LAUNDER_MONEY,"");
  assertOperation(extensionDeclaration,INJECTED_EXTENSION_MANAGER,"");
  assertOperation(extensionDeclaration,ALIAS,"");
  assertOperation(extensionDeclaration,CALL_SAUL,"");
  assertOperation(extensionDeclaration,CALL_GUS_FRING,"");
  assertOperation(extensionDeclaration,GET_SAUL_PHONE,"");
  OperationDeclaration operation=getOperation(extensionDeclaration,SAY_MY_NAME_OPERATION);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters().isEmpty(),is(true));
  operation=getOperation(extensionDeclaration,GET_ENEMY_OPERATION);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters(),hasSize(1));
  assertThat(operation.getOutputPayload().getType(),equalTo(toMetadataType(String.class)));
  assertThat(operation.getOutputAttributes().getType(),equalTo(toMetadataType(IntegerAttributes.class)));
  assertParameter(operation.getParameters(),"index","",toMetadataType(int.class),false,SUPPORTED,"0");
  operation=getOperation(extensionDeclaration,KILL_OPERATION);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters(),hasSize(2));
  assertThat(operation.getOutputPayload().getType(),equalTo(toMetadataType(String.class)));
  assertThat(operation.getOutputAttributes().getType(),is(instanceOf(NullType.class)));
  assertParameter(operation.getParameters(),"victim","",toMetadataType(String.class),false,SUPPORTED,"#[payload]");
  assertParameter(operation.getParameters(),"goodbyeMessage","",toMetadataType(String.class),true,SUPPORTED,null);
  operation=getOperation(extensionDeclaration,KILL_WITH_WEAPON);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters(),hasSize(3));
  assertParameter(operation.getParameters(),"weapon","",toMetadataType(Weapon.class),true,SUPPORTED,null);
  assertParameter(operation.getParameters(),"type","",toMetadataType(WeaponType.class),true,SUPPORTED,null);
  assertParameter(operation.getParameters(),"attributesOfWeapon","",toMetadataType(Weapon.WeaponAttributes.class),true,SUPPORTED,null);
  operation=getOperation(extensionDeclaration,KILL_WITH_RICINS);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters(),hasSize(1));
  assertParameter(operation.getParameters(),"ricinList","",arrayOf(List.class,objectTypeBuilder(Ricin.class)),false,SUPPORTED,"#[payload]");
  operation=getOperation(extensionDeclaration,KILL_WITH_MULTIPLES_WEAPONS);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters(),hasSize(1));
  assertParameter(operation.getParameters(),"weaponList","",arrayOf(List.class,objectTypeBuilder(Weapon.class)),false,SUPPORTED,"#[payload]");
  operation=getOperation(extensionDeclaration,KILL_WITH_MULTIPLE_WILDCARD_WEAPONS);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters(),hasSize(1));
  assertParameter(operation.getParameters(),"wildCardWeapons","",arrayOf(List.class,objectTypeBuilder(Weapon.class)),true,SUPPORTED,null);
  operation=getOperation(extensionDeclaration,KILL_CUSTOM_OPERATION);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters(),hasSize(2));
  assertParameter(operation.getParameters(),"victim","",toMetadataType(String.class),false,SUPPORTED,"#[payload]");
  assertParameter(operation.getParameters(),"goodbyeMessage","",toMetadataType(String.class),true,SUPPORTED,null);
  operation=getOperation(extensionDeclaration,GET_PAYMENT_FROM_EVENT_OPERATION);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters().isEmpty(),is(true));
  operation=getOperation(extensionDeclaration,GET_PAYMENT_FROM_MESSAGE_OPERATION);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getOutputPayload().getType(),is(instanceOf(NullType.class)));
  assertThat(operation.getOutputAttributes().getType(),is(instanceOf(NullType.class)));
  assertThat(operation.getParameters().isEmpty(),is(true));
  operation=getOperation(extensionDeclaration,LAUNDER_MONEY);
  assertParameter(operation.getParameters(),"amount","",toMetadataType(long.class),true,SUPPORTED,null);
  operation=getOperation(extensionDeclaration,INJECTED_EXTENSION_MANAGER);
  assertThat(operation,is(notNullValue()));
  assertThat(operation.getParameters().isEmpty(),is(true));
  operation=getOperation(extensionDeclaration,ALIAS);
  assertParameter(operation.getParameters(),"greeting","",toMetadataType(String.class),true,SUPPORTED,null);
  assertParameter(operation.getParameters(),"myName","",toMetadataType(String.class),false,SUPPORTED,HEISENBERG);
  assertParameter(operation.getParameters(),"age","",toMetadataType(Integer.class),false,SUPPORTED,AGE);
  operation=getOperation(extensionDeclaration,KNOCK);
  assertParameter(operation.getParameters(),"knockedDoor","",toMetadataType(KnockeableDoor.class),true,SUPPORTED,null);
  operation=getOperation(extensionDeclaration,KNOCK_MANY);
  assertParameter(operation.getParameters(),"doors","",arrayOf(List.class,objectTypeBuilder(KnockeableDoor.class)),true,SUPPORTED,null);
  operation=getOperation(extensionDeclaration,CALL_SAUL);
  assertThat(operation.getParameters(),is(empty()));
  ConnectionTypeModelProperty connectionType=operation.getModelProperty(ConnectionTypeModelProperty.class).get();
  assertThat(connectionType.getConnectionType(),equalTo(toMetadataType(HeisenbergConnection.class)));
  operation=getOperation(extensionDeclaration,CURE_CANCER);
  assertThat(operation.getParameters(),is(empty()));
  java.util.Optional<ExceptionEnricherFactory> exceptionEnricherFactory=operation.getExceptionEnricherFactory();
  assertThat(exceptionEnricherFactory.isPresent(),is(true));
  assertThat(exceptionEnricherFactory.get().createEnricher(),instanceOf(CureCancerExceptionEnricher.class));
  operation=getOperation(extensionDeclaration,CALL_GUS_FRING);
  assertThat(operation.getParameters(),is(empty()));
  java.util.Optional<ExceptionEnricherFactory> exceptionEnricherFactory2=operation.getExceptionEnricherFactory();
  assertThat(exceptionEnricherFactory2.isPresent(),is(false));
  operation=getOperation(extensionDeclaration,IGNORED_OPERATION);
  assertThat(operation,is(nullValue()));
}
