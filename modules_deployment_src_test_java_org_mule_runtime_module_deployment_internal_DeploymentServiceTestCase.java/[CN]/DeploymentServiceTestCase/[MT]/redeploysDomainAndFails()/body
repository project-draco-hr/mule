{
  addExplodedDomainFromBuilder(dummyDomainFileBuilder,dummyDomainFileBuilder.getId());
  addExplodedAppFromBuilder(dummyDomainApp1FileBuilder,dummyDomainApp1FileBuilder.getId());
  addExplodedAppFromBuilder(dummyDomainApp2FileBuilder,dummyDomainApp2FileBuilder.getId());
  startDeployment();
  assertDeploymentSuccess(domainDeploymentListener,dummyDomainFileBuilder.getId());
  assertApplicationDeploymentSuccess(applicationDeploymentListener,dummyDomainApp1FileBuilder.getId());
  assertApplicationDeploymentSuccess(applicationDeploymentListener,dummyDomainApp2FileBuilder.getId());
  reset(domainDeploymentListener);
  reset(applicationDeploymentListener);
  doRedeployDummyDomainByChangingConfigFileWithBadOne();
  assertDeploymentFailure(domainDeploymentListener,dummyDomainFileBuilder.getId());
  assertNoDeploymentInvoked(applicationDeploymentListener);
}
