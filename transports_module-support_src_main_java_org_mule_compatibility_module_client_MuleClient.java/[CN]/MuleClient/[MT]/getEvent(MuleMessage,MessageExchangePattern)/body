{
  if (user != null) {
    message=MuleMessage.builder(message).addOutboundProperty(MULE_USER_PROPERTY,createHeader(user.getUsername(),user.getPassword())).build();
  }
  MuleClientFlowConstruct flowConstruct=new MuleClientFlowConstruct(muleContext);
  return MuleEvent.builder(DefaultMessageContext.create(flowConstruct,"MuleClient")).message(message).exchangePattern(exchangePattern).flow(flowConstruct).build();
}
