{
  super.validateConstruct();
  if (messageSource instanceof InboundEndpoint) {
    final InboundEndpoint inboundEndpoint=(InboundEndpoint)messageSource;
    if (!inboundEndpoint.getExchangePattern().equals(MessageExchangePattern.REQUEST_RESPONSE)) {
      throw new FlowConstructInvalidException(MessageFactory.createStaticMessage("HttpProxy only works with a request-response inbound endpoint."),this);
    }
  }
  if (!outboundEndpoint.getExchangePattern().equals(MessageExchangePattern.REQUEST_RESPONSE)) {
    throw new FlowConstructInvalidException(MessageFactory.createStaticMessage("HttpProxy only works with a request-response outbound endpoint."),this);
  }
}
