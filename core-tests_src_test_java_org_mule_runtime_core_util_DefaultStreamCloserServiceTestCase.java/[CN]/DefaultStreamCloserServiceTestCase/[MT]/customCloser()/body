{
  StreamCloser closer=mock(StreamCloser.class);
  when(closer.canClose(getClass())).thenReturn(true);
  when(muleContext.getRegistry().lookupObjects(StreamCloser.class)).thenReturn(asList(closer));
  this.service.closeStream(this);
  verify(closer).close(this);
}
