{
  MetadataResult<List<MetadataKey>> metadataKeys=messageProcessor.getMetadataKeys();
  verify(operationModel).getMetadataResolverFactory();
  verify(metadataResolverFactory).getKeyResolver();
  assertThat(metadataKeys.isSuccess(),is(true));
  assertThat(metadataKeys.get().size(),is(2));
  assertThat(metadataKeys.get().get(0).getId(),equalTo(TestNoConfigMetadataResolver.KeyIds.BOOLEAN.name()));
  assertThat(metadataKeys.get().get(1).getId(),equalTo(TestNoConfigMetadataResolver.KeyIds.STRING.name()));
}
