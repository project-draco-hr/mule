{
  ObjectToXml t1=createObject(ObjectToXml.class);
  t1.setAcceptMuleMessage(true);
  Map props=new HashMap();
  props.put("object",new Apple());
  props.put("string","hello");
  MuleMessage msg=new DefaultMuleMessage("test",muleContext);
  msg.setEncoding("UTF-8");
  msg.setCorrelationId("1234");
  msg.setProperty("number",new Integer(1),PropertyScope.INVOCATION);
  String xml=(String)t1.transform(msg);
  assertNotNull(xml);
  XmlToObject t2=createObject(XmlToObject.class);
  Object result=t2.transform(xml);
  assertNotNull(result);
  assertTrue(result instanceof MuleMessage);
  msg=(MuleMessage)result;
}
