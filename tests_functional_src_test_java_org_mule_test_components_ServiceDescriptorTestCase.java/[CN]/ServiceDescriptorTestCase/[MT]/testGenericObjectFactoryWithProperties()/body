{
  Service c=muleContext.getRegistry().lookupService("orange2");
  Object service=c.getServiceFactory().getOrCreate();
  assertTrue("Service should be an Orange",service instanceof Orange);
  assertEquals(new Integer(8),((Orange)service).getSegments());
  assertEquals("Florida Sunny",((Orange)service).getBrand());
  service=c.getServiceFactory().getOrCreate();
  assertTrue("Service should be an Orange",service instanceof Orange);
  assertEquals(new Integer(8),((Orange)service).getSegments());
  assertEquals("Florida Sunny",((Orange)service).getBrand());
}
