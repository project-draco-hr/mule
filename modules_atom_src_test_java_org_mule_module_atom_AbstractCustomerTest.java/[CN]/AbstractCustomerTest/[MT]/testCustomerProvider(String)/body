{
  Abdera abdera=new Abdera();
  Factory factory=abdera.getFactory();
  AbderaClient client=new AbderaClient(abdera);
  String base="http://localhost:9002" + basePath + "/";
  IRI colUri=new IRI(base).resolve("customers");
  Entry entry=factory.newEntry();
  entry.setTitle("Hmmm this is ignored right now");
  entry.setUpdated(new Date());
  entry.addAuthor("Acme Industries");
  entry.setId(factory.newUuidUri());
  entry.setSummary("Customer document");
  Element customerEl=factory.newElement(new QName("customer"));
  customerEl.setAttributeValue(new QName("name"),"Dan Diephouse");
  entry.setContent(customerEl);
  RequestOptions opts=new RequestOptions();
  opts.setContentType("application/atom+xml;type=entry");
  ClientResponse res=client.post(colUri.toString(),entry,opts);
  assertEquals(201,res.getStatus());
  IRI location=res.getLocation();
  assertEquals(basePath + "/customers/1001-Dan_Diephouse",location.toString());
  res=client.get(colUri.resolve(location.toString()).toString());
  assertEquals(200,res.getStatus());
  org.apache.abdera.model.Document<Entry> entry_doc=res.getDocument();
  entry=entry_doc.getRoot();
}
