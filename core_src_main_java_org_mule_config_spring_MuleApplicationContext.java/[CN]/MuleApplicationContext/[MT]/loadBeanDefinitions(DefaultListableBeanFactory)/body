{
  XmlBeanDefinitionReader beanDefinitionReader;
  if (ClassUtils.isClassOnPath(LEGACY_BEAN_READER_CLASS,getClass())) {
    try {
      beanDefinitionReader=(XmlBeanDefinitionReader)ClassUtils.instanciateClass(LEGACY_BEAN_READER_CLASS,new Object[]{beanFactory,configLocations});
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
 else {
    beanDefinitionReader=new XmlBeanDefinitionReader(beanFactory);
  }
  beanDefinitionReader.setDocumentReaderClass(MuleBeanDefinitionDocumentReader.class);
  beanDefinitionReader.setProblemReporter(new MissingParserProblemReporter());
  beanDefinitionReader.loadBeanDefinitions(configLocations);
}
