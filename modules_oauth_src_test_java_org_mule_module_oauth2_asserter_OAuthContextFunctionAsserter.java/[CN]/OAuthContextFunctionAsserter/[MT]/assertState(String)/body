{
  if (userId != null) {
    assertThat(expressionLanguage.evaluate(String.format("oauthContext('%s','%s').state",configName,userId)),Is.<Object>is(expectedState));
  }
 else {
    assertThat(expressionLanguage.evaluate(String.format("oauthContext('%s').state",configName)),Is.<Object>is(expectedState));
  }
  return this;
}
