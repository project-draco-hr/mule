{
  try {
    if (src instanceof InputStream) {
      return getStrategy().uncompressInputStream((InputStream)src);
    }
 else {
      byte[] buffer=getStrategy().uncompressByteArray((byte[])src);
      DataType<?> returnDataType=getReturnDataType();
      if (!DataTypeFactory.OBJECT.equals(returnDataType) && !DataTypeFactory.BYTE_ARRAY.equals(getReturnDataType())) {
        return SerializationUtils.deserialize(buffer,muleContext);
      }
 else {
        return buffer;
      }
    }
  }
 catch (  IOException e) {
    throw new TransformerException(MessageFactory.createStaticMessage("Failed to uncompress message."),this,e);
  }
}
