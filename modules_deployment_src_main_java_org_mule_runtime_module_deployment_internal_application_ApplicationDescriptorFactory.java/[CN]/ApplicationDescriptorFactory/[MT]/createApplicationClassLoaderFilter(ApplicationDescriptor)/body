{
  final JarInfo librariesInfo=findExportedResources(descriptor.getSharedRuntimeLibs());
  final JarInfo classesInfo;
  try {
    final File appClassesFolder=getAppClassesFolder(descriptor);
    if (appClassesFolder.exists()) {
      classesInfo=findExportedResources(appClassesFolder.toURI().toURL());
    }
 else {
      classesInfo=new JarInfo(emptySet(),emptySet());
    }
  }
 catch (  MalformedURLException e) {
    throw new RuntimeException("Cannot read application classes folder",e);
  }
  librariesInfo.getPackages().addAll(classesInfo.getPackages());
  librariesInfo.getResources().addAll(classesInfo.getResources());
  return new DefaultArtifactClassLoaderFilter(librariesInfo.getPackages(),librariesInfo.getResources());
}
