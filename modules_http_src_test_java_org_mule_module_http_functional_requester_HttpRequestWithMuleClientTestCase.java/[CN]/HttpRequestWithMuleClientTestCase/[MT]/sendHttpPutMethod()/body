{
  final MuleMessage response=muleContext.getClient().send(getUrl(),getTestMuleMessage(TEST_MESSAGE),newOptions().method(PUT_HTTP_METHOD).build());
  assertThat(getPayloadAsString(response),is(TEST_MESSAGE));
  final MuleMessage vmMessage=getMessageReceivedByFlow();
  assertThat(getPayloadAsString(vmMessage),is(TEST_MESSAGE));
  assertThat(vmMessage.getInboundProperty(HttpConstants.RequestProperties.HTTP_METHOD_PROPERTY),Is.<Object>is(PUT_HTTP_METHOD));
}
