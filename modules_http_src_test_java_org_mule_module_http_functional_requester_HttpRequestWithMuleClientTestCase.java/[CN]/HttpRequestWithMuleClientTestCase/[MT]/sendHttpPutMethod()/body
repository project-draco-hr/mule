{
  final MuleMessage response=muleContext.getClient().send(getUrl(),new DefaultMuleMessage(TEST_MESSAGE,muleContext),newOptions().method(PUT_HTTP_METHOD).build());
  assertThat(response.getPayloadAsString(),is(TEST_MESSAGE));
  final MuleMessage vmMessage=getMessageReceivedByFlow();
  assertThat(vmMessage.getPayloadAsString(),is(TEST_MESSAGE));
  assertThat(vmMessage.getInboundProperty(HttpConstants.RequestProperties.HTTP_METHOD_PROPERTY),Is.<Object>is(PUT_HTTP_METHOD));
}
