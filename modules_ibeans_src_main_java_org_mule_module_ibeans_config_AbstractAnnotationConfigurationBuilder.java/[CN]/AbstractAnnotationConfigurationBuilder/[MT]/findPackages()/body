{
  List<String> paths=new ArrayList<String>();
  Properties p=new Properties();
  Enumeration e=ClassUtils.getResources(IBEANS_PROPERTIES,getClass());
  boolean scanAll=false;
  while (e.hasMoreElements()) {
    URL url=(URL)e.nextElement();
    if (logger.isInfoEnabled())     logger.info("reading packages from: " + url);
    p.load(url.openStream());
    String path=p.getProperty(getScanPackagesProperty());
    if (path != null) {
      for (StringTokenizer tokenizer=new StringTokenizer(path,","); tokenizer.hasMoreTokens(); ) {
        String s=tokenizer.nextToken();
        if ("*".equals(s)) {
          scanAll=true;
          break;
        }
        paths.add(s.trim());
      }
    }
  }
  if (paths.size() == 0 || scanAll) {
    return DEFAULT_BASE_PACKAGE;
  }
  return (String[])paths.toArray();
}
