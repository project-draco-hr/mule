{
  when(endpoint.getEndpointURI()).thenReturn(new MuleEndpointURI("test://test",muleContext));
  when(endpoint.getTransactionConfig()).thenReturn(new MuleTransactionConfig());
  when(endpoint.getExchangePattern()).thenReturn(MessageExchangePattern.ONE_WAY);
  when(flow.getProcessingStrategy()).thenReturn(new SynchronousProcessingStrategy());
  when(flow.getMuleContext()).thenReturn(muleContext);
  when(muleContext.getConfiguration()).thenReturn(mock(MuleConfiguration.class));
}
