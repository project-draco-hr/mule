{
  final ImmutableMap<String,Object> queryParams=ImmutableMap.<String,Object>builder().put(QUERY_PARAM_NAME,Arrays.asList(QUERY_PARAM_VALUE,QUERY_PARAM_VALUE)).build();
  final String url=String.format("http://localhost:%s/?" + buildQueryString(queryParams),listenPort.getNumber());
  Request.Put(url).version(HttpVersion.HTTP_1_0).connectTimeout(1000).execute();
  final MuleMessage message=muleContext.getClient().request("vm://out",1000);
  assertThat(message.<String>getInboundProperty(HttpConstants.RequestProperties.HTTP_METHOD_PROPERTY),is("PUT"));
  assertThat(message.<String>getInboundProperty(HttpConstants.RequestProperties.HTTP_VERSION_PROPERTY),is(HttpProtocol.HTTP_1_0.getProtocolName()));
}
