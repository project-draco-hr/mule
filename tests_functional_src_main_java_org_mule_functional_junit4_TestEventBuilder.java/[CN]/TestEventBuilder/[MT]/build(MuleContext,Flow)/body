{
  final DefaultMuleMessage muleMessage=new DefaultMuleMessage(payload,inboundProperties,outboundProperties,Collections.emptyMap(),muleContext);
  DefaultMuleEvent event=new DefaultMuleEvent((DefaultMuleMessage)spyTransformer.transform(muleMessage),URI.create("none"),"none",exchangePattern,flow,new DefaultMuleSession(),muleContext.getConfiguration().getDefaultResponseTimeout(),null,null,"UTF-8",transacted,null,replyToHandler);
  for (  Entry<String,Object> sessionPropertyEntry : sessionProperties.entrySet()) {
    muleMessage.setProperty(sessionPropertyEntry.getKey(),sessionPropertyEntry.getValue(),SESSION);
  }
  for (  Entry<String,Object> invocationPropertyEntry : invocationProperties.entrySet()) {
    muleMessage.setProperty(invocationPropertyEntry.getKey(),invocationPropertyEntry.getValue(),INVOCATION);
  }
  for (  Entry<String,Object> flowVarEntry : flowVariables.entrySet()) {
    event.setFlowVariable(flowVarEntry.getKey(),flowVarEntry.getValue());
  }
  return (MuleEvent)spyTransformer.transform(event);
}
