{
  MuleEvent responseEvent=flowRunner("subtypedAndConcreteParametersAsAttributes").withPayload("").run();
  assertThat(responseEvent.getMessage().getPayload(),notNullValue());
  List<Object> payload=(List<Object>)responseEvent.getMessage().getPayload();
  assertThat(payload,hasSize(4));
  assertThat(payload.get(0),instanceOf(Square.class));
  assertThat(((Square)payload.get(0)).getSide(),is(3));
  assertThat(((Square)payload.get(0)).getArea(),is(9));
  assertThat(payload.get(1),instanceOf(CarDoor.class));
  assertThat(((CarDoor)payload.get(1)).getColor(),is("white"));
  assertThat(payload.get(2),instanceOf(FinalPojo.class));
  assertThat(((FinalPojo)payload.get(2)).getSomeString(),is("globalString"));
  assertThat(payload.get(3),instanceOf(VeganCookBook.class));
}
