{
  MuleEvent responseEvent=flowRunner("shapeRetriever").withPayload("").run();
  assertThat(responseEvent.getMessage().getPayload(),instanceOf(Square.class));
  Square payload=(Square)responseEvent.getMessage().getPayload();
  assertThat(payload.getSide(),is(4));
  assertThat(payload.getArea(),is(16));
}
