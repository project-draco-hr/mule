{
  addVariableTransformer.setEncoding(null);
  addVariableTransformer.setMimeType(null);
  when(mockMuleContext.getExpressionManager()).thenReturn(mockExpressionManager);
  when(mockExpressionManager.parse(anyString(),Mockito.any(MuleMessage.class))).thenAnswer(new Answer<String>(){
    @Override public String answer(    InvocationOnMock invocation) throws Throwable {
      return (String)invocation.getArguments()[0];
    }
  }
);
  when(mockExpressionManager.evaluate(EXPRESSION,mockMessage)).thenReturn(EXPRESSION_VALUE);
  addVariableTransformer.setMuleContext(mockMuleContext);
}
