{
  AnnotatedEntryPointResolver resolver=new AnnotatedEntryPointResolver();
  AnnotatedComponent component=new AnnotatedComponent();
  MuleEventContext context=getTestEventContext(TEST_PAYLOAD);
  context.getMessage().setProperty(MuleProperties.MULE_METHOD_PROPERTY,"doStuff3",PropertyScope.INVOCATION);
  InvocationResult result=resolver.invoke(component,context);
  assertEquals(result.getState(),InvocationResult.STATE_INVOKED_SUCESSFUL);
  assertTrue(result.getResult() instanceof Map);
  Map<?,?> map=(Map<?,?>)result.getResult();
  assertEquals(2,map.size());
  assertTrue(map.get("foo") instanceof Node);
  assertTrue(map.get("bar") instanceof NodeList);
  assertEquals(2,((NodeList)map.get("bar")).getLength());
}
