{
  if (muleContext.getExpressionManager().isValidExpression(source)) {
    Object result=muleContext.getExpressionManager().evaluate(source,message,true);
    if (result instanceof String) {
      return (String)result;
    }
 else {
      throw new IllegalArgumentException("String value expected but received value is " + result.getClass().getName());
    }
  }
 else {
    return source;
  }
}
