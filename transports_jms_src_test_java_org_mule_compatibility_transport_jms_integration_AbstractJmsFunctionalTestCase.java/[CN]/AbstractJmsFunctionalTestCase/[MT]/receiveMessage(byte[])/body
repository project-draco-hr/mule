{
  MuleMessage result=client.request(getOutboundEndpoint(),getTimeout());
  assertNotNull(result);
  assertNotNull(result.getPayload());
  assertNull(result.getExceptionPayload());
  byte[] bytes=getPayloadAsBytes(result);
  assertEquals("Wrong number of bytes",expected.length,bytes.length);
  for (int i=0; i < expected.length; ++i) {
    assertEquals("Byte #" + i + " does not match",expected[i],bytes[i]);
  }
  return result;
}
