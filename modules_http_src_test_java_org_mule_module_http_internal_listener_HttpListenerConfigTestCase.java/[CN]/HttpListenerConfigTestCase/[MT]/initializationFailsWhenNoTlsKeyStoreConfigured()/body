{
  final DefaultHttpListenerConfig httpListenerConfig=new DefaultHttpListenerConfig();
  final MuleContext mockMuleContext=mock(MuleContext.class,Answers.RETURNS_DEEP_STUBS.get());
  httpListenerConfig.setMuleContext(mockMuleContext);
  final TlsContextFactory mockTlsContextFactory=mock(TlsContextFactory.class);
  httpListenerConfig.setTlsContext(mockTlsContextFactory);
  when(mockMuleContext.getRegistry().get(HTTP_LISTENER_CONNECTION_MANAGER)).thenReturn(mock(HttpListenerConnectionManager.class));
  when(mockTlsContextFactory.isKeyStoreConfigured()).thenReturn(false);
  httpListenerConfig.initialise();
}
