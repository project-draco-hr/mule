{
  ExpressionFilter filter=new ExpressionFilter("message.outboundProperties['foo']!='bar'");
  filter.setMuleContext(muleContext);
  MuleMessage message=MuleMessage.builder().payload("blah").build();
  assertTrue(filter.accept(message,mock(MuleEvent.Builder.class)));
  message=MuleMessage.builder(message).addOutboundProperty("foo","bar").build();
  assertTrue(!filter.accept(message,mock(MuleEvent.Builder.class)));
  message=MuleMessage.builder(message).addOutboundProperty("foo","car").build();
  assertTrue(filter.accept(message,mock(MuleEvent.Builder.class)));
}
