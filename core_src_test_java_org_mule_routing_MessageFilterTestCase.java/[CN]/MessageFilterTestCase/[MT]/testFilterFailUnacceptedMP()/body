{
  MessageFilter mp=getMessageFilter(new EqualsFilter(null));
  SensingNullMessageProcessor out=getSensingNullMessageProcessor();
  SensingNullMessageProcessor unaccepted=getSensingNullMessageProcessor();
  mp.setListener(out);
  mp.setUnacceptedMessageProcessor(unaccepted);
  MuleEvent inEvent=getTestEvent(TEST_MESSAGE);
  MuleEvent resultEvent=mp.process(inEvent);
  assertNull(out.event);
  assertEquals(inEvent,resultEvent);
  assertNotNull(unaccepted.event);
  assertSame(inEvent,unaccepted.event);
}
