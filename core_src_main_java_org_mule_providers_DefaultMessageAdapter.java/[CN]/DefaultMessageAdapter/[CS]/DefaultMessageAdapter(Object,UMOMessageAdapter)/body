{
  if (previous != null) {
    id=previous.getUniqueId();
    if (message == null) {
      this.message=NullPayload.getInstance();
    }
 else {
      this.message=message;
    }
    for (Iterator iterator=previous.getAttachmentNames().iterator(); iterator.hasNext(); ) {
      String name=(String)iterator.next();
      try {
        addAttachment(name,previous.getAttachment(name));
      }
 catch (      Exception e) {
        throw new MuleRuntimeException(CoreMessages.failedToReadPayload(),e);
      }
    }
    for (Iterator iterator=previous.getPropertyNames().iterator(); iterator.hasNext(); ) {
      String name=(String)iterator.next();
      try {
        setProperty(name,previous.getProperty(name));
      }
 catch (      Exception e) {
        throw new MuleRuntimeException(CoreMessages.failedToReadPayload(),e);
      }
    }
  }
 else {
    throw new IllegalArgumentException("previousAdapter may not be null");
  }
}
