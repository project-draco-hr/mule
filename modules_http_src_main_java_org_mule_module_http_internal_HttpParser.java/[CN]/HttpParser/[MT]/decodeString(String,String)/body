{
  ParameterMap queryParams=new ParameterMap();
  if (!StringUtils.isBlank(encodedString)) {
    String[] pairs=encodedString.split("&");
    for (    String pair : pairs) {
      int idx=pair.indexOf("=");
      try {
        queryParams.put(URLDecoder.decode(pair.substring(0,idx),encoding),URLDecoder.decode(pair.substring(idx + 1),encoding));
      }
 catch (      UnsupportedEncodingException e) {
        throw new MuleRuntimeException(e);
      }
    }
  }
  return queryParams;
}
