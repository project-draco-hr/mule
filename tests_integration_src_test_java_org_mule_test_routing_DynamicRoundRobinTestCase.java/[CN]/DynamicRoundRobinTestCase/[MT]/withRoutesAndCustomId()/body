{
  IdentifiableCustomRouteResolver.routes.add(new IdentifiableCustomRouteResolver.AddLetterMessageProcessor(LETTER_A));
  IdentifiableCustomRouteResolver.routes.add(new IdentifiableCustomRouteResolver.AddLetterMessageProcessor(LETTER_B));
  IdentifiableCustomRouteResolver.routes.add(new IdentifiableCustomRouteResolver.AddLetterMessageProcessor(LETTER_C));
  IdentifiableCustomRouteResolver.routes.add(new IdentifiableCustomRouteResolver.AddLetterMessageProcessor(LETTER_D));
  Flow testFlow=getTestFlow(DYNAMIC_ROUND_ROBIN_CUSTOM_ID);
  runFlowAndAssertResponse(testFlow,1,LETTER_A);
  runFlowAndAssertResponse(testFlow,1,LETTER_B);
  runFlowAndAssertResponse(testFlow,2,LETTER_A);
  runFlowAndAssertResponse(testFlow,1,LETTER_C);
  runFlowAndAssertResponse(testFlow,2,LETTER_B);
  runFlowAndAssertResponse(testFlow,3,LETTER_A);
  runFlowAndAssertResponse(testFlow,1,LETTER_D);
  runFlowAndAssertResponse(testFlow,2,LETTER_C);
}
