{
  verifyConnectionsParameters();
  String threadNamePrefix=String.format(THREAD_NAME_PREFIX_PATTERN,ThreadNameHelper.getPrefix(muleContext),name);
  GrizzlyHttpClientConfiguration configuration=new GrizzlyHttpClientConfiguration.Builder().setTlsContextFactory(tlsContext).setProxyConfig(proxyConfig).setClientSocketProperties(clientSocketProperties).setMaxConnections(maxConnections).setUsePersistentConnections(usePersistentConnections).setConnectionIdleTimeout(connectionIdleTimeout).setThreadNamePrefix(threadNamePrefix).build();
  httpClient=new GrizzlyHttpClient(configuration);
  httpClient.initialise();
}
