{
  Collection<Service> services=CastUtils.cast(def.getAllServices().values());
  for (  Service service : services) {
    Collection<Port> ports=CastUtils.cast(service.getPorts().values());
    if (ports.isEmpty()) {
      continue;
    }
    if (name == null) {
      setSoapAddressLocationOn(ports.iterator().next(),publishingUrl);
      break;
    }
 else {
      for (      Port port : ports) {
        if (name.getLocalPart().equals(port.getName())) {
          setSoapAddressLocationOn(port,publishingUrl);
        }
      }
    }
  }
}
