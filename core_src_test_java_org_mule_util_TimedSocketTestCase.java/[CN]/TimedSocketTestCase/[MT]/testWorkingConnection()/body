{
  Socket client=null;
  ServerSocket server=null;
  try {
    server=new ServerSocket(REACHABLE_PORT);
    assertNotNull(server);
    client=TimedSocket.createSocket(REACHABLE_HOSTNAME,REACHABLE_PORT,TEST_TIMEOUT);
    assertNotNull(client);
  }
 catch (  InterruptedIOException iioe) {
    fail("Server timed out");
  }
catch (  SocketException se) {
    fail("Client/Server socket exception");
  }
catch (  IOException ioe) {
    fail("Client/Server network I/O error - " + ioe);
  }
 finally {
    try {
      if (client != null) {
        client.close();
      }
    }
 catch (    Exception ignore) {
      fail("Error closing client connection");
    }
 finally {
      try {
        if (server != null) {
          server.close();
        }
      }
 catch (      Exception ignore) {
        fail("Error closing server connection");
      }
    }
  }
}
