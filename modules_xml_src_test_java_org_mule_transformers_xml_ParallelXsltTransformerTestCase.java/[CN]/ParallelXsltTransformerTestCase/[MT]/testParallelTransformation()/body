{
  final Transformer transformer=getTransformer();
  long startTime=System.currentTimeMillis();
  for (int i=0; i < getParallelThreadCount(); ++i) {
    new Thread(new Runnable(){
      public void run(){
        signalStarted();
        for (int j=0; j < getCallsPerThread(); ++j) {
          try {
            actualResults.add(transformer.transform(srcData));
          }
 catch (          TransformerException e) {
            actualResults.add(e);
          }
        }
        signalDone();
      }
    }
).start();
  }
synchronized (this) {
    this.wait();
  }
  long endTime=System.currentTimeMillis();
  checkResult();
  if (logger.isDebugEnabled()) {
    logger.debug("Parallel transformations in " + getParallelThreadCount() + " threads with "+ getCallsPerThread()+ " calls/thread took "+ (endTime - startTime)+ " ms.");
  }
}
