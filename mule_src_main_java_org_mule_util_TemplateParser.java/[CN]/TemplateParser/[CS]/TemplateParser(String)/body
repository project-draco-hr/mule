{
  if (ANT_TEMPLATE_STYLE.equals(style)) {
    pattern=Pattern.compile("\\$\\{[^\\}]+\\}");
    pre=2;
  }
 else   if (SQUARE_TEMPLATE_STYLE.equals(style)) {
    pattern=Pattern.compile("\\[[^\\]]+\\]");
  }
 else {
    throw new IllegalArgumentException("Unknown template style: " + style);
  }
  this.style=style;
}
