{
  EndpointList list=new EndpointList();
  list.remove(getTestEndpoint("Bla",UMOEndpoint.ENDPOINT_TYPE_SENDER));
  list.remove(null);
  UMOEndpoint test1=getTestEndpoint("test1",UMOEndpoint.ENDPOINT_TYPE_SENDER_AND_RECEIVER);
  list.add(test1);
  assertEquals("There should be 1 endpoint registered",1,list.getTotalSize());
  UMOEndpoint test2=getTestEndpoint("test2",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  list.add(test2);
  assertEquals("There should be 2 endpoints registered",2,list.getTotalSize());
  list.remove(test1);
  assertEquals("There shouldn't be any send endpoints registered",0,list.getSendProvidersSize());
  assertEquals("There should be 1 receive endpoints registered",1,list.getReceiveProvidersSize());
  list.remove(test2);
  assertEquals("There shouldn't be any endpoints registered",0,list.getTotalSize());
  test1=getTestEndpoint("test1",UMOEndpoint.ENDPOINT_TYPE_SENDER);
  list.add(test1);
  assertEquals("There should be 1 endpoint registered",1,list.getTotalSize());
}
