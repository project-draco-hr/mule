{
  EndpointList list=new EndpointList();
  UMOEndpoint test1=getTestEndpoint("test1",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  UMOEndpoint test2=getTestEndpoint("test2",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  UMOEndpoint test3=getTestEndpoint("test3",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  list.add(test1);
  list.add(test2);
  assertEquals(list.getDefaultReceiveProvider().getName(),"test1");
  list.setDefaultReceiveProvider(test3,false);
  assertEquals(list.getDefaultReceiveProvider().getName(),"test3");
  try {
    list.setDefaultReceiveProvider(null);
    fail("should throw exception, endpoint cannot be null");
  }
 catch (  MuleException e) {
  }
  UMOEndpoint test4=getTestEndpoint("test4",UMOEndpoint.ENDPOINT_TYPE_SENDER);
  list.setDefaultReceiveProvider(test4);
  assertEquals(4,list.getTotalSize());
  assertEquals(list.getDefaultReceiveProvider().getName(),"test4");
  UMOEndpoint test5=getTestEndpoint("test5",UMOEndpoint.ENDPOINT_TYPE_SENDER);
  test5.setTransformer(new DefaultTransformer());
  try {
    list.setDefaultReceiveProvider(test5);
  }
 catch (  MuleException e) {
    fail("should not throw exception, endpoint can now be sender or receiver when it has a transformer");
  }
}
