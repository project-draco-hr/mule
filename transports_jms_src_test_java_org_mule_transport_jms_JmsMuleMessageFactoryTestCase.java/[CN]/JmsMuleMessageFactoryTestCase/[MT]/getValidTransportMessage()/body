{
  Mock message=new Mock(TextMessage.class);
  message.expectAndReturn("getText",MESSAGE_TEXT);
  message.expectAndReturn("getJMSCorrelationID",null);
  message.expectAndReturn("getJMSDeliveryMode",Integer.valueOf(1));
  message.expectAndReturn("getJMSDestination",null);
  message.expectAndReturn("getJMSExpiration",Long.valueOf(0));
  message.expectAndReturn("getJMSMessageID","1234567890");
  message.expectAndReturn("getJMSPriority",Integer.valueOf(4));
  message.expectAndReturn("getJMSRedelivered",Boolean.FALSE);
  message.expectAndReturn("getJMSReplyTo",null);
  message.expectAndReturn("getJMSTimestamp",Long.valueOf(0));
  message.expectAndReturn("getJMSType",null);
  message.expectAndReturn("getPropertyNames",IteratorUtils.asEnumeration(IteratorUtils.arrayIterator(new Object[]{"foo"})));
  message.expectAndReturn("getObjectProperty",C.eq("foo"),"bar");
  message.expectAndReturn("equals",C.eq(MESSAGE_TEXT),true);
  return message.proxy();
}
