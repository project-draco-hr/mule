{
  if (!iface.isAssignableFrom(target.getClass())) {
    throw new IllegalArgumentException(ClassUtils.getSimpleName(target.getClass()) + " is not an " + ClassUtils.getSimpleName(iface));
  }
  try {
    LifecycleTransitionResult result=(LifecycleTransitionResult)method.invoke(target,ClassUtils.NO_ARGS);
    if (!isOk(result)) {
      if (null != exception) {
        if (exception.equals(InitialisationException.class)) {
          throw result.nestedRetryInitialisationException();
        }
 else {
          throw result.nestedRetryLifecycleException();
        }
      }
 else {
        IllegalStateException error=new IllegalStateException("Unexpected state from transition: " + result);
        error.initCause(result.getThrowable());
        throw error;
      }
    }
    return result;
  }
 catch (  IllegalAccessException e) {
    throw (IllegalArgumentException)new IllegalArgumentException("Unsupported interface: " + iface).initCause(e);
  }
catch (  InvocationTargetException e) {
    throw (IllegalArgumentException)new IllegalArgumentException("Unsupported interface: " + iface).initCause(e);
  }
}
