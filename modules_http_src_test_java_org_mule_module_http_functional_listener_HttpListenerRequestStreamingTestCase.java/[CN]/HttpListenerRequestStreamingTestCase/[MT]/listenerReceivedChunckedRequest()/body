{
  final HttpRequester requester=new HttpRequesterBuilder(muleContext).setUrl(String.format("http://localhost:%s/",listenPort.getNumber())).setMethod("POST").build();
  requester.process(getTestEvent(new ByteArrayInputStream(getPayload().getBytes())));
  final MuleMessage message=muleContext.getClient().request("vm://out",RECEIVE_TIMEOUT);
  assertThat(message.getPayloadAsString(),Is.is(getPayload()));
}
