{
  final HttpRequestOptions requestOptions=newOptions().method(POST.name()).build();
  muleContext.getClient().send(String.format("http://localhost:%s/",listenPort.getNumber()),new DefaultMuleMessage(new ByteArrayInputStream(getPayload().getBytes()),muleContext),requestOptions);
  final MuleMessage message=muleContext.getClient().request("vm://out",RECEIVE_TIMEOUT);
  assertThat(message.getPayloadAsString(),Is.is(getPayload()));
}
