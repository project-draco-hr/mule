{
  HttpRequesterRequestBuilder requestBuilder=requester.getRequestBuilder();
  HttpRequestBuilder builder=new HttpRequestBuilder();
  builder.setUri(resolvedUri);
  builder.setMethod(resolvedMethod);
  builder.setHeaders(requestBuilder.getHeaders(event));
  builder.setQueryParams(requestBuilder.getQueryParams(event));
  for (  String outboundProperty : event.getMessage().getOutboundPropertyNames()) {
    builder.addHeader(outboundProperty,event.getMessage().getOutboundProperty(outboundProperty).toString());
  }
  if (!event.getMessage().getOutboundPropertyNames().contains(MuleProperties.CONTENT_TYPE_PROPERTY)) {
    DataType<?> dataType=event.getMessage().getDataType();
    if (!MimeTypes.ANY.equals(dataType.getMimeType())) {
      builder.addHeader(MuleProperties.CONTENT_TYPE_PROPERTY,DataTypeUtils.getContentType(dataType));
    }
  }
  builder.setEntity(createRequestEntity(builder,event,resolvedMethod));
  return builder;
}
