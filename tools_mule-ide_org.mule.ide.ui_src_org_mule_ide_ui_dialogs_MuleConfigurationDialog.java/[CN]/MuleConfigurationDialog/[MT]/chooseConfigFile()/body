{
  Shell shell=getShell();
  ILabelProvider labelProvider=new WorkbenchLabelProvider(){
    protected String decorateText(    String input,    Object element){
      if (element instanceof IFile)       return input + " - " + ((IFile)element).getProjectRelativePath().toString();
      return input;
    }
  }
;
  ElementListSelectionDialog dialog=new ElementListSelectionDialog(getShell(),labelProvider);
  dialog.setTitle("Choose Mule Config File");
  dialog.setMessage("Select the Mule configuration file to add");
  try {
    List l=new ArrayList();
    collect(project,IMuleDefaults.MULE_CONFIG_FILE_SUFFIX,l);
    if (l.size() < 1) {
      MessageDialog.openError(shell,"Mule Config File","No Mule config files in selected project");
      return null;
    }
    dialog.setElements(l.toArray());
    if (dialog.open() == Window.OK) {
      return (IFile)dialog.getFirstResult();
    }
  }
 catch (  CoreException e) {
    MuleCorePlugin.getDefault().logException(e.getMessage(),e);
  }
  return null;
}
