{
  java.io.Closeable closeable=Mockito.mock(java.io.Closeable.class);
  StreamCloser closer=Mockito.mock(StreamCloser.class);
  Mockito.when(closer.canClose(closeable.getClass())).thenReturn(true);
  Mockito.when(this.muleContext.getRegistry().lookupObjects(StreamCloser.class)).thenReturn(Arrays.asList(closer));
  this.service.closeStream(closeable);
  Mockito.verify(closer).close(closeable);
}
