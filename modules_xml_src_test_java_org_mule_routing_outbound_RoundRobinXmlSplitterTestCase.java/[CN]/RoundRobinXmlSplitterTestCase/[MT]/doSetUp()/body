{
  endpoint1=getTestOutboundEndpoint("Test1Endpoint");
  endpoint1.setEndpointURI(new MuleEndpointURI("test://endpointUri.1"));
  endpoint2=getTestOutboundEndpoint("Test2Endpoint");
  endpoint2.setEndpointURI(new MuleEndpointURI("test://endpointUri.2"));
  endpoint3=getTestOutboundEndpoint("Test3Endpoint");
  endpoint3.setEndpointURI(new MuleEndpointURI("test://endpointUri.3"));
  xmlSplitter=new RoundRobinXmlSplitter();
  xmlSplitter.setValidateSchema(true);
  xmlSplitter.setExternalSchemaLocation("purchase-order.xsd");
  Map namespaces=new HashMap();
  namespaces.put("e","http://www.example.com");
  xmlSplitter.setSplitExpression("/e:purchaseOrder/e:items/e:item");
  xmlSplitter.setNamespaces(namespaces);
  xmlSplitter.addEndpoint(endpoint1);
  xmlSplitter.addEndpoint(endpoint2);
  xmlSplitter.addEndpoint(endpoint3);
}
