{
  logger.info("Adding agent " + agent.getName());
  agents.put(agent.getName(),agent);
  agent.registered();
  if (initialised.get()) {
    logger.info("Initialising agent " + agent.getName());
    agent.initialise();
  }
  if ((started.get() || starting.get())) {
    logger.info("Starting agent " + agent.getName());
    agent.start();
  }
}
