{
  started.set(false);
  stopping.set(true);
  fireSystemEvent(new ManagerNotification(id,null,null,ManagerNotification.MANAGER_STOPPING));
  stopConnectors();
  stopAgents();
  if (queueManager != null) {
    queueManager.stop();
  }
  logger.debug("Stopping model...");
  if (model != null) {
    model.stop();
  }
  if (registry != null) {
    registry.stop();
  }
  stopping.set(false);
  fireSystemEvent(new ManagerNotification(id,null,null,ManagerNotification.MANAGER_STOPPED));
}
