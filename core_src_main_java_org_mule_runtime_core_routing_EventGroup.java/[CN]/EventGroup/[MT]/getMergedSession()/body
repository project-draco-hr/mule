{
  MuleEvent lastStoredEvent=retrieveLastStoredEvent();
  MuleSession session=new DefaultMuleSession(lastStoredEvent.getSession());
  for (  Serializable key : eventsObjectStore.allKeys(eventsPartitionKey)) {
    if (!key.equals(lastStoredEventKey)) {
      MuleEvent event=eventsObjectStore.retrieve(key,eventsPartitionKey);
      addAndOverrideSessionProperties(session,event);
    }
  }
  addAndOverrideSessionProperties(session,lastStoredEvent);
  return session;
}
