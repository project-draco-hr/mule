{
  Map<String,Object> config=new HashMap<String,Object>();
  config.put("maxPoolSize",poolingProfile.getMaxPoolSize());
  config.put("minPoolSize",poolingProfile.getMinPoolSize());
  config.put("initialPoolSize",poolingProfile.getMinPoolSize());
  config.put("checkoutTimeout",poolingProfile.getMaxWaitMillis());
  config.put("acquireIncrement",poolingProfile.getAcquireIncrement());
  config.put("maxStatements",0);
  config.put("maxStatementsPerConnection",poolingProfile.getPreparedStatementCacheSize());
  return DataSources.pooledDataSource(createSingleDataSource(),config);
}
