{
  StandardDataSource dataSource=useXaTransactions ? new StandardXADataSource() : new StandardDataSource();
  dataSource.setDriverName(driverClassName);
  if (connectionTimeout >= 0) {
    dataSource.setLoginTimeout(connectionTimeout);
  }
  dataSource.setPassword(password);
  dataSource.setTransactionIsolation(transactionIsolation);
  dataSource.setUrl(url);
  dataSource.setUser(username);
  return dataSource;
}
