{
  axisTransportProtocols=new HashMap<String,Class<?>>();
  try {
    for (    String scheme : supportedSchemes) {
      axisTransportProtocols.put(scheme,MuleTransport.getTransportClass(scheme));
      registerSupportedProtocol(scheme);
    }
    muleContext.registerListener(this);
  }
 catch (  Exception e) {
    throw new InitialisationException(e,this);
  }
  if (clientProvider == null) {
    clientProvider=createAxisProvider(clientConfig);
  }
 else {
    if (!DEFAULT_MULE_AXIS_CLIENT_CONFIG.equals(clientConfig)) {
      logger.warn(AxisMessages.clientProviderAndClientConfigConfigured());
    }
  }
  if (axis == null) {
    if (serverProvider == null) {
      serverProvider=this.createAxisProvider(serverConfig);
    }
 else {
      if (!DEFAULT_MULE_AXIS_SERVER_CONFIG.equals(serverConfig)) {
        logger.warn(AxisMessages.serverProviderAndServerConfigConfigured());
      }
    }
    axis=new AxisServer(serverProvider);
    axis.setOption("axis.doAutoTypes",Boolean.valueOf(doAutoTypes));
  }
  WSDDProvider.registerProvider(QNAME_MULE_PROVIDER,new WSDDJavaMuleProvider(this));
  try {
    registerTransportTypes();
  }
 catch (  ClassNotFoundException e) {
    throw new InitialisationException(CoreMessages.cannotLoadFromClasspath(e.getMessage()),e,this);
  }
  MuleUrlStreamHandlerFactory.registerHandler("jms",new org.mule.transport.soap.axis.transport.jms.Handler());
  MuleUrlStreamHandlerFactory.registerHandler("pop3",new org.mule.transport.soap.axis.transport.pop3.Handler());
  MuleUrlStreamHandlerFactory.registerHandler("smtp",new org.mule.transport.soap.axis.transport.smtp.Handler());
  MuleUrlStreamHandlerFactory.registerHandler("vm",new org.mule.transport.soap.axis.transport.vm.Handler());
  try {
    registerTypes((TypeMappingRegistryImpl)axis.getTypeMappingRegistry(),beanTypes);
  }
 catch (  ClassNotFoundException e) {
    throw new InitialisationException(e,this);
  }
}
