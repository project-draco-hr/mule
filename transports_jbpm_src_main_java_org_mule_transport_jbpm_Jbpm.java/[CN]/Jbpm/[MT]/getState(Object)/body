{
  ProcessInstance processInstance=(ProcessInstance)process;
  if (processInstance == null || processInstance.isEnded()) {
    return ProcessInstance.STATE_ENDED;
  }
  Set activities=processInstance.findActiveActivityNames();
  String state=null;
  for (  Object activityName : activities) {
    if (state == null) {
      state=(String)activityName;
    }
 else {
      state+=" / " + activityName;
    }
  }
  return state;
}
