{
  MockAgent a=new MockAgent_A();
  MockAgent b=new MockAgent_B(new Class[]{MockAgent_A.class});
  MockAgent c=new MockAgent_C(new Class[]{MockAgent_B.class});
  MockAgent d=new MockAgent_D(new Class[]{MockAgent_A.class,MockAgent_C.class});
  List agents=new ArrayList();
  agents.add(a);
  agents.add(d);
  agents.add(c);
  agents.add(b);
  List result=AgentSorter.sortAgents(agents);
  Assert.assertEquals(4,result.size());
  Assert.assertEquals(a,result.get(0));
  Assert.assertEquals(b,result.get(1));
  Assert.assertEquals(c,result.get(2));
  Assert.assertEquals(d,result.get(3));
}
