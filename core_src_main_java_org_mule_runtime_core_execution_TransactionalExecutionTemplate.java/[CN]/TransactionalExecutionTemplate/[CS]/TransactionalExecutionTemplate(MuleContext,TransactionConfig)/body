{
  if (transactionConfig == null) {
    transactionConfig=new MuleTransactionConfig();
  }
  final boolean processTransactionOnException=false;
  ExecutionInterceptor<T> tempExecutionInterceptor=new ExecuteCallbackInterceptor<T>();
  tempExecutionInterceptor=new BeginAndResolveTransactionInterceptor<T>(tempExecutionInterceptor,transactionConfig,muleContext,processTransactionOnException,false);
  tempExecutionInterceptor=new ResolvePreviousTransactionInterceptor<T>(tempExecutionInterceptor,transactionConfig);
  tempExecutionInterceptor=new SuspendXaTransactionInterceptor<T>(tempExecutionInterceptor,transactionConfig,processTransactionOnException);
  tempExecutionInterceptor=new ValidateTransactionalStateInterceptor<T>(tempExecutionInterceptor,transactionConfig);
  tempExecutionInterceptor=new IsolateCurrentTransactionInterceptor<T>(tempExecutionInterceptor,transactionConfig);
  this.executionInterceptor=new ExternalTransactionInterceptor(tempExecutionInterceptor,transactionConfig,muleContext);
}
