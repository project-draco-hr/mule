{
  if (objectClass == null) {
    throw new InitialisationException(MessageFactory.createStaticMessage("Object factory has not been initialized."),this);
  }
  Class<?> klass=objectClass.get();
  if (klass == null) {
    klass=setupObjectClassFromObjectClassName();
  }
  Object object=ClassUtils.instanciateClass(klass);
  if (properties != null) {
    BeanUtils.populateWithoutFail(object,properties,true);
  }
  fireInitialisationCallbacks(object);
  return object;
}
