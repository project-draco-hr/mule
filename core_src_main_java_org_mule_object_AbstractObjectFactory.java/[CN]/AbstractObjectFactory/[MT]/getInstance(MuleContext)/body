{
  if (objectClass == null || disposed) {
    throw new InitialisationException(MessageFactory.createStaticMessage("Object factory has not been initialized."),this);
  }
  Class<?> klass=objectClass.get();
  if (klass == null) {
    klass=setupObjectClassFromObjectClassName();
  }
  Object object=ClassUtils.instanciateClass(klass);
  if (properties != null) {
    BeanUtils.populateWithoutFail(object,properties,true);
  }
  if (object instanceof FlowConstructAware) {
    ((FlowConstructAware)object).setFlowConstruct(flowConstruct);
  }
  if (object instanceof ServiceAware && flowConstruct instanceof Service) {
    ((ServiceAware)object).setService((Service)flowConstruct);
  }
  if (isAutoWireObject()) {
    muleContext.getRegistry().applyProcessors(object);
  }
  fireInitialisationCallbacks(object);
  return object;
}
