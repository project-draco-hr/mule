{
  final ServiceDiscoverer serviceDiscoverer=mock(ServiceDiscoverer.class);
  final List<Service> services=new ArrayList<>();
  StoppableService service1=mock(StoppableService.class);
  services.add(service1);
  when(serviceDiscoverer.discoverServices()).thenReturn(services);
  final MuleServiceManager muleServiceManager=new MuleServiceManager(serviceDiscoverer);
  muleServiceManager.start();
  assertThat(Proxy.isProxyClass(muleServiceManager.getServices().get(0).getClass()),is(true));
}
