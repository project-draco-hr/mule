{
  MuleConfiguration config=MuleManager.getConfiguration();
  if (threadingProfile == null) {
    threadingProfile=config.getComponentThreadingProfile();
  }
  if (poolingProfile == null) {
    poolingProfile=config.getPoolingProfile();
  }
  if (queueProfile == null) {
    queueProfile=config.getQueueProfile();
  }
  if (exceptionListener == null) {
    exceptionListener=MuleManager.getInstance().getModel().getExceptionListener();
  }
 else   if (exceptionListener instanceof Initialisable) {
    ((Initialisable)exceptionListener).initialise();
  }
  if (inboundEndpoint != null) {
    if (inboundTransformer != null) {
      inboundEndpoint.setTransformer(inboundTransformer);
    }
    ((MuleEndpoint)inboundEndpoint).initialise();
    if (inboundTransformer == null) {
      inboundTransformer=inboundEndpoint.getTransformer();
    }
  }
  if (outboundEndpoint != null) {
    if (outboundTransformer != null) {
      outboundEndpoint.setTransformer(outboundTransformer);
    }
    ((MuleEndpoint)outboundEndpoint).initialise();
    if (outboundTransformer == null) {
      outboundTransformer=outboundEndpoint.getTransformer();
    }
  }
  if (exceptionListener instanceof Initialisable) {
    ((Initialisable)exceptionListener).initialise();
  }
  MuleEndpoint endpoint;
  if (inboundRouter == null) {
    inboundRouter=new InboundMessageRouter();
    inboundRouter.addRouter(new InboundPassThroughRouter());
  }
 else {
    if (inboundRouter.getCatchAllStrategy() != null && inboundRouter.getCatchAllStrategy().getEndpoint() != null) {
      ((MuleEndpoint)inboundRouter.getCatchAllStrategy().getEndpoint()).initialise();
    }
    for (Iterator iterator=inboundRouter.getEndpoints().iterator(); iterator.hasNext(); ) {
      endpoint=(MuleEndpoint)iterator.next();
      endpoint.initialise();
    }
  }
  if (responseRouter != null) {
    for (Iterator iterator=responseRouter.getEndpoints().iterator(); iterator.hasNext(); ) {
      endpoint=(MuleEndpoint)iterator.next();
      endpoint.initialise();
    }
  }
  if (outboundRouter == null) {
    outboundRouter=new OutboundMessageRouter();
    outboundRouter.addRouter(new OutboundPassThroughRouter(this));
  }
 else {
    if (outboundRouter.getCatchAllStrategy() != null && outboundRouter.getCatchAllStrategy().getEndpoint() != null) {
      ((MuleEndpoint)outboundRouter.getCatchAllStrategy().getEndpoint()).initialise();
    }
    UMOOutboundRouter router=null;
    for (Iterator iterator=outboundRouter.getRouters().iterator(); iterator.hasNext(); ) {
      router=(UMOOutboundRouter)iterator.next();
      for (Iterator iterator1=router.getEndpoints().iterator(); iterator1.hasNext(); ) {
        endpoint=(MuleEndpoint)iterator1.next();
        endpoint.initialise();
      }
    }
  }
  if (implementationReference instanceof String) {
    if (DescriptorContainerContext.DESCRIPTOR_CONTIANER_NAME.equals(container)) {
      implementationReference=new DescriptorContainerKeyPair(name,implementationReference);
    }
 else {
      implementationReference=new ContainerKeyPair(container,implementationReference);
    }
  }
}
