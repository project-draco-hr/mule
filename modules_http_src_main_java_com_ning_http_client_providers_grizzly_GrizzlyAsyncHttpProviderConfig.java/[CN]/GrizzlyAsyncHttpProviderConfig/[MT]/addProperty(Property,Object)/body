{
  if (name == null) {
    return this;
  }
  if (value == null) {
    if (name.hasDefaultValue()) {
      value=name.defaultValue;
    }
 else {
      return this;
    }
  }
 else {
    if (!name.type.isAssignableFrom(value.getClass())) {
      throw new IllegalArgumentException(String.format("The value of property [%s] must be of type [%s].  Type of value provided: [%s].",name.name(),name.type.getName(),value.getClass().getName()));
    }
  }
  attributes.put(name,value);
  return this;
}
