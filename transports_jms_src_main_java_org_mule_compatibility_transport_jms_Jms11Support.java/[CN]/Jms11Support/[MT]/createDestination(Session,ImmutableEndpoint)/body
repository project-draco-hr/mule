{
  String address=endpoint.getEndpointURI().toString();
  if (address.contains(JmsConstants.TOPIC_PROPERTY + ":")) {
    address=address.substring((connector.getProtocol() + "://" + JmsConstants.TOPIC_PROPERTY+ ":").length());
    if (address.contains("?")) {
      address=address.substring(0,address.indexOf('?'));
    }
  }
 else {
    address=endpoint.getEndpointURI().getAddress();
  }
  return createDestination(session,address,connector.getTopicResolver().isTopic(endpoint),endpoint);
}
