{
  if (domains.containsKey(artifactName)) {
    return domains.get(artifactName);
  }
  if (artifactName.contains(" ")) {
    throw new IllegalArgumentException("Mule application name may not contain spaces: " + artifactName);
  }
  DomainDescriptor descriptor=findDomain(artifactName);
  DefaultMuleDomain defaultMuleDomain=new DefaultMuleDomain(domainClassLoaderRepository,descriptor);
  defaultMuleDomain.setDeploymentListener(deploymentListener);
  DomainWrapper domainWrapper=new DomainWrapper(defaultMuleDomain,this);
  domains.put(artifactName,domainWrapper);
  return domainWrapper;
}
