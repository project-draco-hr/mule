{
  messageSource.initialise();
  messageSource.start();
  Exception e=new RuntimeException();
  doThrow(e).when((Stoppable)source).stop();
  expectedException.expect(new BaseMatcher<Throwable>(){
    @Override public boolean matches(    Object item){
      Exception exception=(Exception)item;
      return exception.getCause() instanceof MuleException && exception.getCause().getCause() == e;
    }
    @Override public void describeTo(    Description description){
      description.appendText("Exception was not wrapped as expected");
    }
  }
);
  messageSource.stop();
  verify(workManager).dispose();
}
