{
  started=true;
  try {
    RegistryComponent[] components=getComponents();
    for (int i=0; i < components.length; i++) {
      if (components[i].isTransient() && components[i].getComponent() == null) {
        removeComponent(components[i]);
      }
 else {
        components[i].restoreState();
      }
    }
    Assembly[] assemblies=getAssemblies();
    for (int i=0; i < assemblies.length; i++) {
      assemblies[i].restoreState();
    }
  }
 catch (  Exception e) {
    throw new RegistryException(e);
  }
}
