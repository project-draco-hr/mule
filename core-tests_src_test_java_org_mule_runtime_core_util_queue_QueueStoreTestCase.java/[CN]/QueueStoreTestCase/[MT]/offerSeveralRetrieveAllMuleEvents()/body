{
  QueueStore queue=createQueue();
  ArrayList<MuleEvent> events=new ArrayList<MuleEvent>(NUMBER_OF_ITEMS);
  for (int i=0; i < NUMBER_OF_ITEMS; i++) {
    MuleEvent testEvent=getTestEvent("some data");
    events.add(testEvent);
    queue.offer(testEvent,0,NUMBER_OF_ITEMS);
  }
  for (int i=0; i < NUMBER_OF_ITEMS; i++) {
    assertThat(((MuleEvent)queue.poll(NUMBER_OF_ITEMS)).getContext().getId().equals(events.get(i).getContext().getId()),is(true));
  }
}
