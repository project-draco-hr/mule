{
  Service service=muleContext.getRegistry().lookupService("TestComponent4");
  assertNotNull(service);
  OutboundRouterCollection outboundRouter=(OutboundRouterCollection)service.getOutboundMessageProcessor();
  assertNotNull(outboundRouter);
  assertEquals(1,outboundRouter.getRoutes().size());
  OutboundRouter router=(OutboundRouter)outboundRouter.getRoutes().get(0);
  assertEquals(1,router.getRoutes().size());
  ImmutableEndpoint endpoint=(ImmutableEndpoint)router.getRoutes().get(0);
  assertEquals("udp",endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("udp://localhost:56731",endpoint.getEndpointURI().getAddress());
  assertTrue(endpoint instanceof OutboundEndpoint);
}
