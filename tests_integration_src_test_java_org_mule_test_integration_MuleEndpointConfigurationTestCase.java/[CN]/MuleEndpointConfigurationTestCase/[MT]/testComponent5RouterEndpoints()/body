{
  UMODescriptor descriptor=MuleManager.getInstance().getModel().getDescriptor("TestComponent5");
  assertNotNull(descriptor);
  UMOOutboundMessageRouter outboundRouter=descriptor.getOutboundRouter();
  assertNotNull(outboundRouter);
  assertEquals(1,outboundRouter.getRouters().size());
  UMOOutboundRouter router=(UMOOutboundRouter)outboundRouter.getRouters().get(0);
  assertEquals(2,router.getEndpoints().size());
  UMOEndpoint endpoint=(UMOEndpoint)router.getEndpoints().get(0);
  assertEquals("tcp",endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("tcp://localhost:45431",endpoint.getEndpointURI().getAddress());
  assertNotNull(endpoint.getTransformer());
  assertEquals("org.mule.transformers.simple.StringToByteArray",endpoint.getTransformer().getClass().getName());
  assertEquals(UMOEndpoint.ENDPOINT_TYPE_SENDER,endpoint.getType());
  endpoint=(UMOEndpoint)router.getEndpoints().get(1);
  assertEquals("tcp",endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("tcp://localhost:45432",endpoint.getEndpointURI().getAddress());
  assertNotNull(endpoint.getTransformer());
  assertEquals("org.mule.transformers.simple.StringToByteArray",endpoint.getTransformer().getClass().getName());
  assertEquals(UMOEndpoint.ENDPOINT_TYPE_SENDER,endpoint.getType());
}
