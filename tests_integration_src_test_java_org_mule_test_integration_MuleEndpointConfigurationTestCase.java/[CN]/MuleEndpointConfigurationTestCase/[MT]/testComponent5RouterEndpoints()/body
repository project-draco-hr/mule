{
  Service service=muleContext.getRegistry().lookupService("TestComponent5");
  assertNotNull(service);
  OutboundRouterCollection outboundRouter=service.getOutboundRouter();
  assertNotNull(outboundRouter);
  assertEquals(1,outboundRouter.getRouters().size());
  OutboundRouter router=(OutboundRouter)outboundRouter.getRouters().get(0);
  assertEquals(2,router.getEndpoints().size());
  Endpoint endpoint=(Endpoint)router.getEndpoints().get(0);
  assertEquals(TcpConnector.TCP,endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("tcp://localhost:45431",endpoint.getEndpointURI().getAddress());
  assertTrue(TransformerUtils.isDefined(endpoint.getTransformers()));
  assertEquals(Endpoint.ENDPOINT_TYPE_SENDER,endpoint.getType());
  endpoint=(Endpoint)router.getEndpoints().get(1);
  assertEquals(TcpConnector.TCP,endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("tcp://localhost:45432",endpoint.getEndpointURI().getAddress());
  assertTrue(TransformerUtils.isDefined(endpoint.getTransformers()));
  assertEquals(Endpoint.ENDPOINT_TYPE_SENDER,endpoint.getType());
}
