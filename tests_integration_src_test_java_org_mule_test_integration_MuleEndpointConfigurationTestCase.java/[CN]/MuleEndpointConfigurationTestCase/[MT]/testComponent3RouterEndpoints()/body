{
  Component component=muleContext.getRegistry().lookupComponent("TestComponent3");
  assertNotNull(component);
  OutboundRouterCollection outboundRouter=component.getOutboundRouter();
  assertNotNull(outboundRouter);
  assertEquals(2,outboundRouter.getRouters().size());
  OutboundRouter router1=(OutboundRouter)outboundRouter.getRouters().get(0);
  assertEquals(1,router1.getEndpoints().size());
  Endpoint endpoint=(Endpoint)router1.getEndpoints().get(0);
  assertEquals("file",endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("/C:/temp",endpoint.getEndpointURI().getAddress());
  assertTrue(TransformerUtils.isDefined(endpoint.getTransformers()));
  assertEquals(Endpoint.ENDPOINT_TYPE_SENDER,endpoint.getType());
  OutboundRouter router2=(OutboundRouter)outboundRouter.getRouters().get(1);
  assertEquals(2,router2.getEndpoints().size());
  endpoint=(Endpoint)router2.getEndpoints().get(0);
  assertEquals("udp",endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("udp://localhost:56731",endpoint.getEndpointURI().getAddress());
  assertTrue(TransformerUtils.isDefined(endpoint.getTransformers()));
  assertEquals(Endpoint.ENDPOINT_TYPE_SENDER,endpoint.getType());
  endpoint=(Endpoint)router2.getEndpoints().get(1);
  assertEquals("test",endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("test.queue2",endpoint.getEndpointURI().getAddress());
  assertTrue(TransformerUtils.isDefined(endpoint.getTransformers()));
  assertEquals(Endpoint.ENDPOINT_TYPE_SENDER,endpoint.getType());
}
