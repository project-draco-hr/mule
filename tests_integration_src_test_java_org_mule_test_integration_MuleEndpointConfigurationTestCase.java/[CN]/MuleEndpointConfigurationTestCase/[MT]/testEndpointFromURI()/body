{
  ImmutableEndpoint ep=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("test://hello?exchangePattern=request-response&responseTimeout=2002&connector=testConnector1");
  assertEquals(MessageExchangePattern.REQUEST_RESPONSE,ep.getExchangePattern());
  assertEquals(2002,ep.getResponseTimeout());
  assertTrue(ep instanceof InboundEndpoint);
  MuleEvent event=new DefaultMuleEvent(new DefaultMuleMessage("hello",muleContext),ep,MuleTestUtils.getTestSession(muleContext));
  assertEquals(2002,event.getTimeout());
  ImmutableEndpoint ep2=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("test://hello?connector=testConnector1");
  event=new DefaultMuleEvent(new DefaultMuleMessage("hello",muleContext),ep2,MuleTestUtils.getTestSession(muleContext));
  assertEquals(1001,event.getTimeout());
}
