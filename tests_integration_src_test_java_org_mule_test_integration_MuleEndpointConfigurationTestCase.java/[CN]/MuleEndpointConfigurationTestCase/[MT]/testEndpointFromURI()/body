{
  ImmutableEndpoint ep=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("test://hello?remoteSync=true&remoteSyncTimeout=2002");
  assertTrue(ep.isRemoteSync());
  assertEquals(2002,ep.getRemoteSyncTimeout());
  assertTrue(ep.isInbound());
  MuleEvent event=new DefaultMuleEvent(new DefaultMuleMessage("hello"),ep,MuleTestUtils.getTestSession(),false);
  assertEquals(2002,event.getTimeout());
  ImmutableEndpoint ep2=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("test://hello");
  event=new DefaultMuleEvent(new DefaultMuleMessage("hello"),ep2,MuleTestUtils.getTestSession(),true);
  assertEquals(1001,event.getTimeout());
}
