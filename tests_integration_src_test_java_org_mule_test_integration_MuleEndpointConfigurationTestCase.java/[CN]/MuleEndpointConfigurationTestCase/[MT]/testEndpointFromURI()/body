{
  ImmutableEndpoint ep=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("test://hello?synchronous=true&responseTimeout=2002&connector=testConnector1");
  assertTrue(ep.isSynchronous());
  assertEquals(2002,ep.getResponseTimeout());
  assertTrue(ep instanceof InboundEndpoint);
  MuleEvent event=new DefaultMuleEvent(new DefaultMuleMessage("hello"),ep,MuleTestUtils.getTestSession(muleContext),false);
  assertEquals(2002,event.getTimeout());
  ImmutableEndpoint ep2=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("test://hello?connector=testConnector1");
  event=new DefaultMuleEvent(new DefaultMuleMessage("hello"),ep2,MuleTestUtils.getTestSession(muleContext),true);
  assertEquals(1001,event.getTimeout());
}
