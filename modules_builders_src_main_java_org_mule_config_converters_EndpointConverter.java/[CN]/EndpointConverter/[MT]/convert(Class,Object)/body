{
  UMOManager manager=MuleManager.getInstance();
  if (value == null) {
    throw new ConversionException("No value specified");
  }
  if (value instanceof UMOEndpoint) {
    return (value);
  }
  try {
    String endpointString=manager.lookupEndpointIdentifier(value.toString(),value.toString());
    UMOImmutableEndpoint globalEndpoint=(UMOImmutableEndpoint)manager.getEndpoints().get(endpointString);
    if (globalEndpoint == null) {
      UMOEndpointURI endpointUri=new MuleEndpointURI(endpointString);
      if (!endpointString.equals(value.toString())) {
        endpointUri.setEndpointName(value.toString());
      }
      UMOEndpoint endpoint=MuleEndpoint.createEndpointFromUri(endpointUri,null);
      if (endpointUri.getEndpointName() == null && !endpointString.equals(value.toString())) {
        endpoint.setName(value.toString());
      }
      return endpoint;
    }
 else {
      return null;
    }
  }
 catch (  Exception e) {
    throw new ConversionException(e);
  }
}
