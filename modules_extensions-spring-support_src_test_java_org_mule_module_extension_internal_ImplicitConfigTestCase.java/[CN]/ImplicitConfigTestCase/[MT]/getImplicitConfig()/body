{
  final Integer defaultValue=42;
  MuleEvent event=getTestEvent("");
  event.setFlowVariable("optionalWithDefault",defaultValue);
  ImplicitConfigExtension config=(ImplicitConfigExtension)runFlow("implicitConfig",event).getMessage().getPayload();
  assertThat(config,is(notNullValue()));
  assertThat(config.getMuleContext(),is(sameInstance(muleContext)));
  assertThat(config.getInitialise(),is(1));
  assertThat(config.getStart(),is(1));
  assertThat(config.getOptionalNoDefault(),is(nullValue()));
  assertThat(config.getOptionalWithDefault(),is(defaultValue));
}
