{
  if (transactionManagerUsedByThisApp) {
synchronized (BitronixTransactionManagerFactory.class) {
      numberOfAppsUsingTm--;
      if (numberOfAppsUsingTm == 0) {
        TransactionManagerServices.getTransactionManager().shutdown();
      }
    }
    transactionManager=null;
  }
}
