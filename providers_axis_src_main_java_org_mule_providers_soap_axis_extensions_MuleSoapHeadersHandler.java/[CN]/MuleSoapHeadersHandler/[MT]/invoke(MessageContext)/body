{
  boolean setMustUnderstand=msgContext.isPropertyTrue("MULE_HEADER_MUST_UNDERSTAND");
  try {
    if (msgContext.isClient()) {
      if (!msgContext.getPastPivot()) {
        processClientRequest(msgContext,setMustUnderstand);
        if (logger.isDebugEnabled()) {
          logger.debug("After Client Request, Message is:\n" + msgContext.getRequestMessage().getSOAPPartAsString());
        }
      }
 else {
        processClientResponse(msgContext);
        if (logger.isDebugEnabled()) {
          logger.debug("After Client Response, Message is:\n" + msgContext.getRequestMessage().getSOAPPartAsString());
        }
      }
    }
 else {
      if (!msgContext.getPastPivot()) {
        processServerRequest(msgContext);
        if (logger.isDebugEnabled()) {
          logger.debug("After Server Request, Message is:\n" + msgContext.getRequestMessage().getSOAPPartAsString());
        }
      }
 else {
        processServerResponse(msgContext,setMustUnderstand);
        if (logger.isDebugEnabled()) {
          logger.debug("After Server Response, Message is:\n" + msgContext.getRequestMessage().getSOAPPartAsString());
        }
      }
    }
  }
 catch (  Exception e) {
    throw AxisFault.makeFault(e);
  }
}
