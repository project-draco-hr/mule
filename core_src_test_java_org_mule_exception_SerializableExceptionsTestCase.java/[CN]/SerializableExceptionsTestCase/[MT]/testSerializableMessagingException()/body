{
  TestSerializableMessageProcessor processor=new TestSerializableMessageProcessor();
  processor.setValue(value);
  MessagingException e=new MessagingException(MessageFactory.createStaticMessage(message),getTestEvent(""),processor);
  this.os.store(key,e);
  e=(MessagingException)this.os.retrieve(key);
  assertTrue(e.getMessage().contains(message));
  assertNotNull(e.getFailingMessageProcessor());
  assertTrue(e.getFailingMessageProcessor() instanceof TestSerializableMessageProcessor);
  assertEquals(value,((TestSerializableMessageProcessor)e.getFailingMessageProcessor()).getValue());
}
