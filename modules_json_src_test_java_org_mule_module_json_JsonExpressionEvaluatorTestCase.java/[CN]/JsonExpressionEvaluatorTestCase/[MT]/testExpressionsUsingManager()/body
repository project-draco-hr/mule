{
  String json=IOUtils.getResourceAsString("test-data.json",getClass());
  MuleMessage message=new DefaultMuleMessage(json,muleContext);
  assertEquals("test from Mule: 6ffca02b-9d52-475e-8b17-946acdb01492",muleContext.getExpressionManager().evaluate("#[json:[0]->text]",message));
  assertEquals("Mule Test",muleContext.getExpressionManager().evaluate("json:[0]->user->name",message));
  assertEquals("Mule Test9",muleContext.getExpressionManager().evaluate("#[json:[9]->user->name]",message));
  assertNull(muleContext.getExpressionManager().evaluate("json:[9]->user->XXX",message,false));
  try {
    muleContext.getExpressionManager().evaluate("json:[9]->user->XXX",message,true);
    fail("A value was required");
  }
 catch (  ExpressionRuntimeException e) {
  }
}
