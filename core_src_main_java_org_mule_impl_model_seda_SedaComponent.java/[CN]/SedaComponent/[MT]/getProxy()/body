{
  MuleProxy proxy;
  if (proxyPool != null) {
    try {
      proxy=(MuleProxy)proxyPool.borrowObject();
    }
 catch (    Exception e) {
      throw new ComponentException(MessageFactory.createStaticMessage("Unable to retrieve component proxy from pool"),null,null,e);
    }
    ((SedaComponentStatistics)getStatistics()).setComponentPoolSize(proxyPool.getSize());
  }
 else   if (componentPerRequest) {
    proxy=createComponentProxy();
  }
 else {
    proxy=componentProxy;
  }
  proxy.setStatistics(getStatistics());
  return proxy;
}
