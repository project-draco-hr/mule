{
  try {
    int initPolicy=getPoolingProfile().getInitialisationPolicy();
    if (initPolicy == PoolingProfile.INITIALISE_ALL) {
      int numToBorrow=getPoolingProfile().getMaxActive();
      List holderList=new ArrayList(numToBorrow);
      try {
        for (int t=0; t < numToBorrow; t++) {
          holderList.add(proxyPool.borrowObject());
        }
      }
  finally {
        for (int t=0; t < holderList.size(); t++) {
          Object obj=holderList.get(t);
          if (obj != null) {
            try {
              proxyPool.returnObject(obj);
            }
  finally {
            }
          }
        }
      }
    }
 else     if (initPolicy == PoolingProfile.INITIALISE_ONE) {
      Object obj=null;
      try {
        obj=proxyPool.borrowObject();
      }
  finally {
        if (obj != null) {
          proxyPool.returnObject(obj);
        }
      }
    }
    poolInitialised.set(true);
  }
 catch (  Exception e) {
    throw new InitialisationException(CoreMessages.objectFailedToInitialise("Proxy Pool"),e,this);
  }
}
