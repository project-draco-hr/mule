{
  Path source=resolveExistingPath(filePath);
  Path target=source.getParent().resolve(newName);
  if (exists(target)) {
    throw new IllegalArgumentException(format("'%s' cannot be renamed because '%s' already exists",source,target));
  }
  try {
    client.rename(source.toString(),target.toString());
  }
 catch (  Exception e) {
    throw exception(format("Exception was found renaming '%s' to '%s'",source,newName),e);
  }
}
