{
  MessageProcessor processor=nextProcessor();
  preProcess(processor);
  if (copyOnVoidEvent && !(processor instanceof Transformer || processor instanceof MessageFilter || processor instanceof Component|| (processor instanceof LegacyOutboundEndpoint && !((LegacyOutboundEndpoint)processor).mayReturnVoidEvent()))) {
    MuleEvent copy=new DefaultMuleEvent(new DefaultMuleMessage(event.getMessage()),event);
    MuleEvent result=messageProcessorExecutionTemplate.execute(processor,event);
    if (isUseEventCopy(result)) {
      OptimizedRequestContext.unsafeSetEvent(copy);
      result=copy;
    }
    return result;
  }
 else {
    return messageProcessorExecutionTemplate.execute(processor,event);
  }
}
