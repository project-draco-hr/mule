{
  if (!event.isSynchronous()) {
    throw new ConfigurationException(CoreMessages.watermarkRequiresSynchronousProcessing());
  }
  String variableName=this.watermark.resolveVariable(event);
  return MuleEvent.builder(event).addFlowVariable(variableName,sourceEvent.getFlowVariable(variableName)).build();
}
