{
  AssertionMessageProcessor asp=new AssertionMessageProcessor();
  asp.setFlowConstruct(flowConstruct);
  asp.setExpression(TRUE_EXPRESSION);
  asp.setCount(5);
  asp.start();
  for (int i=0; i < 4; i++) {
    asp.process(mock(MuleEvent.class));
  }
  assertFalse(asp.expressionFailed());
  assertTrue(asp.countFailOrNullEvent());
}
