{
  String host=uri.getHost();
  InetAddress inetAddress=null;
  int backlog=((TcpConnector)connector).getBacklog();
  if (host == null || host.length() == 0) {
    host="localhost";
  }
  inetAddress=InetAddress.getByName(host);
  if (inetAddress.equals(InetAddress.getLocalHost()) || inetAddress.isLoopbackAddress() || host.trim().equals("localhost")) {
    return new ServerSocket(uri.getPort(),backlog);
  }
 else {
    return new ServerSocket(uri.getPort(),backlog,inetAddress);
  }
}
