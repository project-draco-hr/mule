{
  TemplateParser tp=TemplateParser.createMuleStyleParser();
  assertTrue(tp.isValid("#[]"));
  assertTrue(tp.isValid("#[]   #[]"));
  assertFalse(tp.isValid("#[]&[]"));
  assertFalse(tp.isValid("[]$[]#"));
  assertTrue(tp.isValid("#[#]#[]"));
  assertFalse(tp.isValid("#[#[]]#[]"));
  assertFalse(tp.isValid("# []"));
  assertTrue(tp.isValid("#[foo:blah[4] = 'foo']"));
  assertTrue(tp.isValid("#[foo:blah[4] = '#foo']"));
  assertFalse(tp.isValid("#[foo:blah4] = '#foo']"));
  assertFalse(tp.isValid("#[foo:blah = '#[foo]']"));
}
