{
  TemplateParser tp=TemplateParser.createAntStyleParser();
  assertNotNull(tp.getStyle());
  assertEquals("${",tp.getStyle().getPrefix());
  assertEquals("}",tp.getStyle().getSuffix());
  Map props=new HashMap();
  props.put("prop1","value1");
  props.put("prop2","value2");
  String string="Some String with ${prop1} and ${prop2} in it";
  String result=tp.parse(props,string);
  assertEquals("Some String with value1 and value2 in it",result);
  string="${prop1}${prop1}${prop2}";
  result=tp.parse(props,string);
  assertEquals("value1value1value2",result);
  String homeDir=System.getProperty("user.home");
  props.put("homeDir",homeDir);
  string="${homeDir}/foo";
  result=tp.parse(props,string);
  assertEquals(homeDir + "/foo",result);
  String whitespaceValue="C:\\Documents and Settings\\";
  props.put("whitespaceValue",whitespaceValue);
  string="start${whitespaceValue}end";
  result=tp.parse(props,string);
  assertEquals("start" + whitespaceValue + "end",result);
}
