{
  TemplateParser tp=TemplateParser.createSquareBracesStyleParser();
  assertNotNull(tp.getStyle());
  assertEquals("[",tp.getStyle().getPrefix());
  assertEquals("]",tp.getStyle().getSuffix());
  Map props=new HashMap();
  props.put("fromAddress","ross.mason@symphonysoft.com");
  String string="smtp://[fromAddress]";
  String result=tp.parse(props,string);
  assertEquals("smtp://ross.mason@symphonysoft.com",result);
  string="smtp://[toAddress]";
  result=tp.parse(props,string);
  assertEquals("smtp://[toAddress]",result);
}
