{
  if (i instanceof ProviderMethod) {
    Class type=((ProviderMethod)i).getKey().getTypeLiteral().getRawType();
    boolean bindRequired=(type.equals(Connector.class) || type.equals(Agent.class));
    Named bindTo=((ProviderMethod)i).getMethod().getAnnotation(Named.class);
    if (bindTo != null) {
      try {
        Object o=((ProviderMethod)i).get();
        if (o instanceof NameableObject) {
          ((NameableObject)o).setName(bindTo.value());
        }
        muleContext.getRegistry().registerObject(bindTo.value(),o);
      }
 catch (      RegistrationException e) {
        throw new MuleRuntimeException(CoreMessages.createStaticMessage("failed to bind " + bindTo.value()));
      }
    }
 else     if (bindRequired) {
      throw new RuntimeException("Provider object type: " + type + ", must have a @Named annotation so that the object can be bound in Mule");
    }
  }
}
