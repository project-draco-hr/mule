{
  Collection<ExtensionModel> capableExtensionModels=extensionManager.getExtensionsCapableOf(XmlCapability.class);
  if (CollectionUtils.isEmpty(capableExtensionModels)) {
    throw new IllegalArgumentException(String.format("Could not find any extensions supporting XML capabilities. Can't process namespace %s",namespace));
  }
  for (  ExtensionModel extensionModel : capableExtensionModels) {
    XmlCapability capability=extensionModel.getCapabilities(XmlCapability.class).iterator().next();
    if (namespace.equals(capability.getSchemaLocation())) {
      return extensionModel;
    }
  }
  throw new IllegalArgumentException(String.format("Could not find extension associated to namespace %s",namespace));
}
