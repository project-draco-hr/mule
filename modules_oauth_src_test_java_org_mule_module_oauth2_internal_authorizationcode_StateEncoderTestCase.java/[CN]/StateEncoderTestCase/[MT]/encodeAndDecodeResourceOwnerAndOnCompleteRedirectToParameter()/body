{
  String encodedState=StateEncoder.encodeResourceOwnerIdInState(ORIGINAL_STATE_VALUE,TEST_RESOURCE_OWNER_ID);
  encodedState=StateEncoder.encodeOnCompleteRedirectToInState(encodedState,TEST_ON_COMPLETE_URL);
  assertThat(StateEncoder.decodeOnCompleteRedirectTo(encodedState),is(TEST_ON_COMPLETE_URL));
  assertThat(StateEncoder.decodeResourceOwnerId(encodedState),is(TEST_RESOURCE_OWNER_ID));
  assertThat(StateEncoder.decodeOriginalState(encodedState),is(ORIGINAL_STATE_VALUE));
}
