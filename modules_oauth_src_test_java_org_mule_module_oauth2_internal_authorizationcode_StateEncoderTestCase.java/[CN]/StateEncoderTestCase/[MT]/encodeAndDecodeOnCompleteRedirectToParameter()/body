{
  final String encodedState=StateEncoder.encodeOnCompleteRedirectToInState(null,TEST_ON_COMPLETE_URL);
  assertThat(StateEncoder.decodeOnCompleteRedirectTo(encodedState),is(TEST_ON_COMPLETE_URL));
  assertThat(StateEncoder.decodeOriginalState(encodedState),nullValue());
}
