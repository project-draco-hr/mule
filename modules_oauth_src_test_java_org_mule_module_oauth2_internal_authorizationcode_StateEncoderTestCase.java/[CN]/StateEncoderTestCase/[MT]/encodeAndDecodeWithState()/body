{
  final StateEncoder stateEncoder=new StateEncoder(ORIGINAL_STATE_VALUE);
  stateEncoder.encodeResourceOwnerIdInState(TEST_RESOURCE_OWNER_ID);
  final String encodedState=stateEncoder.getEncodedState();
  final StateDecoder stateDecoder=new StateDecoder(encodedState);
  assertThat(stateDecoder.decodeResourceOwnerId(),is(TEST_RESOURCE_OWNER_ID));
  assertThat(stateDecoder.decodeOriginalState(),is(ORIGINAL_STATE_VALUE));
}
