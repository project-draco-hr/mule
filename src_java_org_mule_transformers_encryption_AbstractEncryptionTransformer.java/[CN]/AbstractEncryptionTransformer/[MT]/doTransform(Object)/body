{
  byte[] buf;
  if (src instanceof String) {
    buf=src.toString().getBytes();
  }
 else {
    buf=(byte[])src;
  }
  try {
    byte[] result=getTransformedBytes(buf);
    if (getReturnClass().equals(String.class)) {
      return new String(result);
    }
 else {
      return result;
    }
  }
 catch (  CryptoFailureException e) {
    throw new TransformerException(e.getMessage(),e);
  }
}
