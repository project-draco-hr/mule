{
  flow.initialise();
  flow.start();
  MuleEvent response=directInboundMessageSource.process(MuleTestUtils.getTestEvent("hello",REQUEST_RESPONSE,muleContext));
  assertEquals("helloabcdef",response.getMessageAsString(muleContext));
  assertEquals(Thread.currentThread(),response.getFlowVariable("thread"));
  assertEquals("helloabc",sensingMessageProcessor.event.getMessageAsString(muleContext));
  assertEquals(Thread.currentThread(),sensingMessageProcessor.event.getFlowVariable("thread"));
}
