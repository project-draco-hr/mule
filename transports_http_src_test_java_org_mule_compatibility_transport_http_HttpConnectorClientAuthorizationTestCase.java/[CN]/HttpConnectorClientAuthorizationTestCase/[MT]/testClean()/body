{
  when(mockMuleEvent.getMessageSourceURI()).thenReturn(uri);
  when(mockMuleEvent.getMessage()).thenReturn(message);
  when(mockMuleEvent.getCredentials()).thenReturn(null);
  connector.setProxyUsername(null);
  connector.setProxyPassword(null);
  connector.setupClientAuthorization(mockMuleEvent,mockHttpMethod,mockHttpClient,mockImmutableEndpoint);
  verify(mockHttpClient.getParams(),atLeast(1)).setAuthenticationPreemptive(false);
}
