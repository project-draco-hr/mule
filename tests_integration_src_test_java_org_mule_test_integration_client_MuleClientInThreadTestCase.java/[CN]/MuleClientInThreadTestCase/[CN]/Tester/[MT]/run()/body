{
  try {
    for (int i=0; i < numMessages; ++i) {
      runFlowAsync("testFlow",TEST_MESSAGE);
    }
    MuleClient client=new MuleClient(muleContext);
    MuleMessage msg;
    for (int i=0; i < numMessages; ++i) {
      msg=client.request("test://out",RECEIVE_TIMEOUT);
      assertNotNull(msg);
    }
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}
