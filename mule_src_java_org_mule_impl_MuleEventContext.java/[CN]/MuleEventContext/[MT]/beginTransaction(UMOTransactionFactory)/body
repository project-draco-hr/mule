{
  if (getCurrentTransaction() == null) {
    this.factory=factory;
    this.beginTransaction=true;
  }
 else {
    throw new TransactionInProgressException("Transaction already in progress");
  }
}
