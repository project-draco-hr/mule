{
  Object message=getTransformedMessage();
  if (expectedType != null && expectedType.isAssignableFrom(message.getClass())) {
    return message;
  }
 else {
    throw new TransformerException(new Message(Messages.TRANSFORM_ON_X_NOT_OF_SPECIFIED_TYPE_X,this.getComponentDescriptor().getName(),expectedType),this.event.getEndpoint().getTransformer());
  }
}
