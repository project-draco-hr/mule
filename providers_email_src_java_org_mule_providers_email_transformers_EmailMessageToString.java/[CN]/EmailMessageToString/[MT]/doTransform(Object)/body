{
  Message msg=(Message)src;
  try {
    Object result=msg.getContent();
    if (result instanceof String) {
      return (String)result;
    }
 else     if (result instanceof MimeMultipart) {
      MimeMultipart part=(MimeMultipart)result;
      String transMsg=(String)part.getBodyPart(0).getContent();
      return transMsg;
    }
 else {
      throw new TransformerException("Message has an unknown payload: " + result.getClass().getName());
    }
  }
 catch (  Exception e) {
    throw new TransformerException("Failed to read incoming mail message: " + e,e);
  }
}
