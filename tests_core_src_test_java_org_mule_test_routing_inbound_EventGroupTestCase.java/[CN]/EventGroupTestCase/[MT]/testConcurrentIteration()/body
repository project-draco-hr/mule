{
  EventGroup eg=new EventGroup(UUID.getUUID());
  assertFalse(eg.iterator().hasNext());
  eg.addEvent(MuleTestUtils.getTestEvent("foo1"));
  eg.addEvent(MuleTestUtils.getTestEvent("foo2"));
  assertTrue(eg.iterator().hasNext());
  Iterator i=eg.iterator();
  assertNotNull(i.next());
  eg.addEvent(MuleTestUtils.getTestEvent("foo3"));
  assertNotNull(i.next());
  eg.addEvent(MuleTestUtils.getTestEvent("foo4"));
  assertFalse(i.hasNext());
  assertEquals(4,eg.size());
}
