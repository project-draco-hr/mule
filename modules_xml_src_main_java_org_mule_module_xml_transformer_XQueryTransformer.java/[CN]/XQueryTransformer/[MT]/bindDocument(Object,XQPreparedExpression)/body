{
  if (src instanceof byte[]) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),new InputSource(new ByteArrayInputStream((byte[])src)));
  }
 else   if (src instanceof InputStream) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),new InputSource((InputStream)src));
  }
 else   if (src instanceof String) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),new InputSource(new StringReader((String)src)));
  }
 else   if (src instanceof Document) {
    transformer.bindNode(new QName(SOURCE_DOCUMENT_NAMESPACE),(Document)src,null);
  }
 else   if (src instanceof Element) {
    transformer.bindNode(new QName(SOURCE_DOCUMENT_NAMESPACE),(Element)src,null);
  }
 else   if (src instanceof org.dom4j.Document) {
    try {
      DOMWriter domWriter=new DOMWriter();
      Document dom=domWriter.write((org.dom4j.Document)src);
      transformer.bindNode(new QName(SOURCE_DOCUMENT_NAMESPACE),dom,null);
    }
 catch (    DocumentException e) {
      throw new TransformerException(this,e);
    }
  }
 else   if (src instanceof DocumentSource) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),((DocumentSource)src).getInputSource());
  }
 else {
    throw new TransformerException(CoreMessages.transformUnexpectedType(src.getClass(),null),this);
  }
}
