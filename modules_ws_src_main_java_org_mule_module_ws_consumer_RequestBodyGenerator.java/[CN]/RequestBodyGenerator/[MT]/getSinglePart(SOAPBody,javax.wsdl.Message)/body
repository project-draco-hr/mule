{
  if (soapBody.getParts() == null || soapBody.getParts().isEmpty()) {
    Map parts=inputMessage.getParts();
    if (parts.size() == 1) {
      return (Part)parts.values().iterator().next();
    }
  }
 else {
    if (soapBody.getParts().size() == 1) {
      String partName=(String)soapBody.getParts().get(0);
      return inputMessage.getPart(partName);
    }
  }
  return null;
}
