{
  final String queueName=RandomStringUtils.randomAlphanumeric(129);
  final Serializable payload="Hello World!";
  final int txId=1;
  TransactionJournalFile<Integer,LocalQueueTxJournalEntry> journal=openJournal();
  journal.logOperation(new LocalQueueTxJournalEntry(txId,(byte)6,queueName,payload));
  journal.close();
  journal=openJournal();
  Collection<LocalQueueTxJournalEntry> entries=journal.getLogEntries(txId);
  assertThat(entries,is(notNullValue()));
  assertThat(entries.size(),equalTo(1));
  LocalQueueTxJournalEntry entry=entries.iterator().next();
  assertThat(entry.getQueueName(),equalTo(queueName));
  assertThat(entry.getValue(),equalTo(payload));
}
