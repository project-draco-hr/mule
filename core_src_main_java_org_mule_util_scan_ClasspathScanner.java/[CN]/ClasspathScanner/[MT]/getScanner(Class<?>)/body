{
  if (clazz.isInterface()) {
    if (clazz.isAnnotation()) {
      @SuppressWarnings("unchecked") Class<? extends Annotation> annotationClass=(Class<? extends Annotation>)clazz;
      AnnotationFilter filter=null;
      Annotation[] annos=clazz.getDeclaredAnnotations();
      for (int i=0; i < annos.length; i++) {
        Annotation anno=annos[i];
        if (anno instanceof Target) {
          if (((Target)anno).value()[0] == ElementType.ANNOTATION_TYPE) {
            filter=new MetaAnnotationTypeFilter(annotationClass,classLoader);
          }
        }
      }
      if (filter == null) {
        filter=new AnnotationTypeFilter(annotationClass);
      }
      return new AnnotationsScanner(filter);
    }
 else {
      return new InterfaceClassScanner(clazz);
    }
  }
 else {
    return new ImplementationClassScanner(clazz);
  }
}
