{
  DbConfig delegate;
  Object expressionResult=configRef;
  MuleContext muleContext=muleEvent.getMuleContext();
  if (muleContext.getExpressionManager().isExpression((String)expressionResult)) {
    expressionResult=muleContext.getExpressionManager().evaluate((String)expressionResult,muleEvent);
  }
  if (expressionResult instanceof DbConfig) {
    delegate=(DbConfig)expressionResult;
  }
 else {
    delegate=muleContext.getRegistry().get((String)expressionResult);
  }
  if (delegate == null) {
    throw new UnresolvableDbConfigException("Cannot resolve dynamic JDBC config reference: " + configRef);
  }
  return delegate;
}
