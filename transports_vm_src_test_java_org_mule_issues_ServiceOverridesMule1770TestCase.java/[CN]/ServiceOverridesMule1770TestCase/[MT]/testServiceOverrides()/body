{
  AbstractConnector c=(AbstractConnector)lookupConnector(muleContext.getRegistry(),"test");
  assertNotNull("Connector should not be null",c);
  assertNotNull("Service overrides should not be null",c.getServiceOverrides());
  String temp=(String)c.getServiceOverrides().get(MuleProperties.CONNECTOR_DISPATCHER_FACTORY);
  assertNotNull("DispatcherFactory override should not be null",temp);
  assertEquals(TestMessageDispatcherFactory.class.getName(),temp);
  Transformer transformer=TransformerUtils.firstOrNull(c.getDefaultInboundTransformers(null));
  assertNotNull("InboundTransformer should not be null",transformer);
  assertEquals(DefaultEndpointAwareTransformer.class,transformer.getClass());
  assertEquals(NoActionTransformer.class,((DefaultEndpointAwareTransformer)transformer).getTransformer().getClass());
}
