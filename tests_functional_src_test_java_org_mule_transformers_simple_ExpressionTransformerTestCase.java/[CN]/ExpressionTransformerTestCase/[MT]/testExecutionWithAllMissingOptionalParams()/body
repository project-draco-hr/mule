{
  ExpressionTransformer transformer=(ExpressionTransformer)RegistryContext.getRegistry().lookupTransformer("testTransformer");
  Properties props=new Properties();
  MuleMessage message=new DefaultMuleMessage(new FruitBowl(new Apple(),new Banana()),props);
  Object result=transformer.transform(message);
  assertNotNull(result);
  assertTrue(result.getClass().isArray());
  Object o1=((Object[])result)[0];
  assertTrue(o1 instanceof FruitBasket);
  assertNull(((Object[])result)[1]);
}
