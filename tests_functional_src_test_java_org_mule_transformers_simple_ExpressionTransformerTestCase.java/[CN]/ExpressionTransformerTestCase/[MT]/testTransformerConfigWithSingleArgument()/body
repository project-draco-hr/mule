{
  ExpressionTransformer transformer=(ExpressionTransformer)RegistryContext.getRegistry().lookupTransformer("testTransformer2");
  Properties props=new Properties();
  props.setProperty("foo","moo");
  props.setProperty("bar","mar");
  MuleMessage message=new DefaultMuleMessage(new FruitBowl(new Apple(),new Banana()),props);
  Object result=transformer.transform(message);
  assertNotNull(result);
  assertFalse(result.getClass().isArray());
  assertTrue(result instanceof List);
  assertTrue(((List)result).contains("moo"));
  assertTrue(((List)result).contains("mar"));
}
