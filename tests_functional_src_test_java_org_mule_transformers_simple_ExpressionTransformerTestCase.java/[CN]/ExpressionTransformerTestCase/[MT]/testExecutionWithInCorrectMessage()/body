{
  ExpressionTransformer transformer=(ExpressionTransformer)RegistryContext.getRegistry().lookupTransformer("testTransformer2");
  Properties props=new Properties();
  props.setProperty("foo","moo");
  MuleMessage message=new DefaultMuleMessage(new FruitBowl(new Apple(),new Banana()),props);
  try {
    Object result=transformer.transform(message);
    fail("Not all headers present, the transform should have failed");
  }
 catch (  TransformerException e) {
  }
}
