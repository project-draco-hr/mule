{
  try {
    if (notifier != null) {
      notifier.notify(SFTP_PUT_ACTION,currentDirectory + "/" + fileName);
    }
    if (logger.isDebugEnabled()) {
      logger.debug("Sending to SFTP service: Stream = " + stream + " , filename = "+ fileName);
    }
    channelSftp.put(stream,fileName,mode.intValue());
  }
 catch (  SftpException e) {
    logger.error("Error writing data over SFTP service, error was: " + e.getMessage(),e);
    throw new IOException(e.getMessage());
  }
}
