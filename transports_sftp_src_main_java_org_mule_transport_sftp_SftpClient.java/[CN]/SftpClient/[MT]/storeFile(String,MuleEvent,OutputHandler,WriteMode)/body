{
  OutputStream os=null;
  try {
    notifyAction(SFTP_PUT_ACTION,fileName);
    if (logger.isDebugEnabled()) {
      logger.debug("Sending to SFTP service: OutputHandler = " + outputHandler + " , filename = "+ fileName);
    }
    os=channelSftp.put(fileName,mode.intValue());
    outputHandler.write(event,os);
  }
 catch (  SftpException e) {
    throw new IOException(e.getMessage());
  }
 finally {
    if (os != null) {
      os.close();
    }
  }
}
