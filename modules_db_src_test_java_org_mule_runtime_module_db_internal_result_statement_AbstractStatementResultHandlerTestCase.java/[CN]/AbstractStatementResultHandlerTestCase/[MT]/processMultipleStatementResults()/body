{
  StatementResult result1=mock(StatementResult.class);
  when(result1.getName()).thenReturn("result1");
  StatementResult result2=mock(StatementResult.class);
  when(result2.getName()).thenReturn("result2");
  when(statementResultIterator.hasNext()).thenReturn(true,true,false);
  when(statementResultIterator.next()).thenReturn(result1,result2);
  Object statementResults=statementResultHandler.processStatement(connection,statement,queryTemplate,autoGeneratedKeyStrategy);
  assertThat(statementResults,is(instanceOf(Map.class)));
  Map mapResults=(Map)statementResults;
  assertThat(mapResults.size(),equalTo(2));
  assertThat(mapResults.containsKey("result1"),is(true));
  assertThat(mapResults.containsKey("result2"),is(true));
}
