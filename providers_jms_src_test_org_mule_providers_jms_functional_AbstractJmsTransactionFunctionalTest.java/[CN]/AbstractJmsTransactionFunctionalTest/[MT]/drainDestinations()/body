{
  if (cnn instanceof QueueConnection) {
    JmsTestUtils.drainQueue((QueueConnection)cnn,DEFAULT_IN_QUEUE);
    assertNull(receive());
    JmsTestUtils.drainQueue((QueueConnection)cnn,DEFAULT_OUT_QUEUE);
    assertNull(receive());
  }
 else {
    JmsTestUtils.drainTopic((TopicConnection)cnn,DEFAULT_IN_TOPIC);
    assertNull(receive());
    JmsTestUtils.drainTopic((TopicConnection)cnn,DEFAULT_OUT_TOPIC);
    assertNull(receive());
  }
}
