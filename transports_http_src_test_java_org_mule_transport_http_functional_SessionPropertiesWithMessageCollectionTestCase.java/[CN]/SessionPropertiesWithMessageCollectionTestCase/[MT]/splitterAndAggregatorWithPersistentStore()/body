{
  Flow flow=(Flow)getFlowConstruct("synchronousCollectionAggregatorFlow");
  List<String> inputData=new ArrayList<String>();
  int numberOfElements=10;
  for (int i=0; i < numberOfElements; i++) {
    inputData.add(String.valueOf(i));
  }
  MuleEvent responseEvent=flow.process(getTestEvent(inputData));
  assertThat(responseEvent.<List>getSessionVariable("recordsToUpdate").size(),is(numberOfElements));
}
