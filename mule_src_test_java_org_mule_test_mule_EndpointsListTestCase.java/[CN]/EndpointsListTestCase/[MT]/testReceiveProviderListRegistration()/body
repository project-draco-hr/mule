{
  EndpointList list=new EndpointList();
  list.remove(null);
  UMOEndpoint test1=getTestEndpoint("test1",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  test1.setTransformer(new DefaultTransformer());
  list.add(test1);
  assertEquals("There should be 1 endpoint registered",1,list.getTotalSize());
  assertNotNull("The default Receive endpoint should be set",list.getDefaultReceiveProvider());
  assertEquals("Default Receive endpoint should be test1","test1",list.getDefaultReceiveProvider().getName());
  UMOEndpoint test2=getTestEndpoint("test2",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  list.add(test2);
  assertEquals("There should be 2 endpoints registered",list.getTotalSize(),2);
  assertNotNull("The  Receive endpoint should be obtainable",list.getReceiveProvider("test2"));
  assertEquals("Default Receive endpoint should be test1","test1",list.getDefaultReceiveProvider().getName());
  UMOEndpoint test3=getTestEndpoint("test3",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  list.add(test3);
  assertEquals("There should be 3 endpoints registered",3,list.getTotalSize());
  assertNotNull("The Receive endpoint should be obtainable",list.getReceiveProvider("test3"));
  assertEquals("Default Receive endpoint should be test1","test1",list.getDefaultReceiveProvider().getName());
}
