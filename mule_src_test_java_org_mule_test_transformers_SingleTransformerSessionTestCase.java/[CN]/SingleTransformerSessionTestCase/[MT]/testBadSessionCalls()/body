{
  SingleTransformerSession sts=new SingleTransformerSession(trans);
  sts.begin();
  assertTrue(sts.isInSession());
  try {
    sts.begin();
    fail("Should throw exception session is already in a transaction");
  }
 catch (  TransformerException e) {
  }
  sts.rollback();
  try {
    sts.rollback();
    fail("Transformer should not be in a session");
  }
 catch (  TransformerException e1) {
  }
  try {
    sts.commit();
    fail("Transformer should not be in a session");
  }
 catch (  TransformerException e2) {
  }
}
