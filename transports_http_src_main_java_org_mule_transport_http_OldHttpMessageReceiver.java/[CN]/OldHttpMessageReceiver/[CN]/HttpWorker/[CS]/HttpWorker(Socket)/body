{
  String encoding=endpoint.getEncoding();
  if (encoding == null) {
    encoding=connector.getMuleContext().getConfiguration().getDefaultEncoding();
  }
  conn=new HttpServerConnection(socket,encoding,(HttpConnector)connector);
  final SocketAddress clientAddress=socket.getRemoteSocketAddress();
  if (clientAddress != null) {
    remoteClientAddress=clientAddress.toString();
  }
}
