{
  QueueManager queueManager=(QueueManager)getRegistry().lookupObject(MuleProperties.OBJECT_QUEUE_MANAGER);
  if (queueManager == null) {
    Collection temp=getRegistry().lookupObjects(QueueManager.class);
    if (temp.size() > 0) {
      queueManager=((QueueManager)temp.iterator().next());
    }
  }
  return queueManager;
}
