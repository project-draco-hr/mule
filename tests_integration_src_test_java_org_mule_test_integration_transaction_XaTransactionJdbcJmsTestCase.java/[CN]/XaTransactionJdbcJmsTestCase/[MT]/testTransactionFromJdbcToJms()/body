{
  final Latch latch=new Latch();
  MuleClient muleClient=new MuleClient(muleContext);
  muleContext.start();
  FunctionalTestComponent ftc=getFunctionalTestComponent("JdbcToJms");
  ftc.setEventCallback(new EventCallback(){
    public void eventReceived(    MuleEventContext context,    Object component) throws Exception {
      latch.release();
    }
  }
);
  execSqlUpdate("INSERT INTO TEST(TYPE, DATA) VALUES (1, 'Test1')");
  latch.await(TIMEOUT,TimeUnit.MILLISECONDS);
  MuleMessage muleMessage=muleClient.request("myQueueNotXa",TIMEOUT);
  assertThat("a message should be commit to jms",muleMessage,IsNull.<Object>notNullValue());
  assertThat("no exception should happen",muleMessage.getExceptionPayload(),IsNull.<Object>nullValue());
}
