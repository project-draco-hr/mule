{
  try {
    if (!lock.tryLock(0,TimeUnit.SECONDS)) {
      throw new IOException(ANOTHER_DEPLOYMENT_OPERATION_IS_IN_PROGRESS);
    }
    return deployer.installFromAppDir(zipFileName);
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    throw new IOException(INSTALL_OPERATION_HAS_BEEN_INTERRUPTED);
  }
 finally {
    if (lock.isHeldByCurrentThread()) {
      lock.unlock();
    }
  }
}
