{
  ConfigurationInstance<Object> configuration=getConfiguration(event);
  OperationContext operationContext=createOperationContext(configuration,event);
  Object result=executeOperation(operationContext,event);
  if (result instanceof MuleEvent) {
    return (MuleEvent)result;
  }
 else   if (result instanceof MuleMessage) {
    event.setMessage((MuleMessage)result);
  }
 else {
    event.getMessage().setPayload(result);
  }
  return event;
}
