{
  try {
    runFlow(flowName,event);
    fail("Was expecting a failure");
  }
 catch (  Exception e) {
    Throwable rootCause=ExceptionUtils.getRootCause(e);
    assertThat(rootCause,is(instanceOf(ValidationException.class)));
    assertThat(rootCause.getMessage(),is(expectedMessage.getMessage()));
    assertThat(rootCause.getMessage(),not(containsString("${")));
  }
}
