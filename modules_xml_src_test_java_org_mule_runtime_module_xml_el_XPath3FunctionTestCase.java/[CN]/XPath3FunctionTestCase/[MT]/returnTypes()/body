{
  Map<XPathReturnType,Class<?>> types=new HashMap<>();
  types.put(XPathReturnType.BOOLEAN,Boolean.class);
  types.put(XPathReturnType.NODE,Node.class);
  types.put(XPathReturnType.NODESET,NodeList.class);
  types.put(XPathReturnType.NUMBER,Double.class);
  types.put(XPathReturnType.STRING,String.class);
  MuleEvent event=getTestEvent(ROOT_FOO_BAR);
  for (  Map.Entry<XPathReturnType,Class<?>> entry : types.entrySet()) {
    String expression=String.format("xpath3('/root/@foo', payload, '%s')",entry.getKey().name());
    assertThat(doEvaluate(expression,event,MuleEvent.builder(event)),instanceOf(entry.getValue()));
  }
}
