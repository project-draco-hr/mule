{
  checkArgument(identifier != null,"identifier cannot be null");
  if (!temporaryArtifact.isStarted()) {
    try {
      temporaryArtifact.start();
    }
 catch (    InitialisationException e) {
      return failure(e.getMessage(),UNKNOWN,e);
    }
catch (    ConfigurationException e) {
      return failure(e.getMessage(),UNKNOWN,e);
    }
catch (    Exception e) {
      throw new MuleRuntimeException(e);
    }
  }
  Object connectivityTestingObject=temporaryArtifact.getMuleContext().getRegistry().get(identifier);
  if (connectivityTestingObject == null) {
    throw new ConnectivityTestingObjectNotFoundException(createStaticMessage("It was not possible to find an object to do connectivity testing"));
  }
  Collection<ConnectivityTestingStrategy> connectivityTestingStrategies=temporaryArtifact.getMuleContext().getRegistry().lookupObjects(ConnectivityTestingStrategy.class);
  for (  ConnectivityTestingStrategy connectivityTestingStrategy : connectivityTestingStrategies) {
    if (connectivityTestingStrategy.accepts(connectivityTestingObject)) {
      try {
        return connectivityTestingStrategy.testConnectivity(connectivityTestingObject);
      }
 catch (      Exception e) {
        return failure(e.getMessage(),UNKNOWN,e);
      }
    }
  }
  throw new UnsupportedConnectivityTestingObjectException(createStaticMessage("Could not do connectivity testing over object of type " + connectivityTestingObject.getClass().getName()));
}
