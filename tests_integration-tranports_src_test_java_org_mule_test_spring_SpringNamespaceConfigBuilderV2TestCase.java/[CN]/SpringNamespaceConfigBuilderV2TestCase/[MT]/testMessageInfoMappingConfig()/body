{
  Flow d=(Flow)muleContext.getRegistry().lookupFlowConstruct("msgInfoMappingTestComponent");
  assertNotNull(d);
  final MessageInfoMapping mapping=d.getMessageInfoMapping();
  assertTrue(mapping instanceof ExpressionMessageInfoMapping);
  Map props=new HashMap();
  props.put("id","myID123");
  props.put("correlation","myCorrelationID456");
  MuleMessage msg=new DefaultMuleMessage("foo",props);
  MuleEvent event=new DefaultMuleEvent(msg,MessageExchangePattern.ONE_WAY,getTestFlow());
  assertEquals("myID123",mapping.getMessageId(event));
  assertEquals("myCorrelationID456",mapping.getCorrelationId(event));
}
