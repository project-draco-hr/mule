{
  ArgumentCaptor<ConnectionHandler> connectionCaptor=ArgumentCaptor.forClass(ConnectionHandler.class);
  interceptor.before(operationContext);
  verify(operationContext,atLeastOnce()).setVariable(same(CONNECTION_PARAM),connectionCaptor.capture());
  ConnectionHandler<PetStoreClient> connectionHandler=connectionCaptor.getValue();
  return connectionHandler.getConnection();
}
