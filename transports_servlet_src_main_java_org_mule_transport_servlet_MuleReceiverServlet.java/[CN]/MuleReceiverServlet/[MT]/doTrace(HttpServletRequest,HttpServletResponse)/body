{
  try {
    MessageReceiver receiver=getReceiverForURI(request);
    MuleMessage responseMessage;
    MuleMessage requestMessage=new DefaultMuleMessage(new HttpRequestMessageAdapter(request));
    requestMessage.setProperty(HttpConnector.HTTP_METHOD_PROPERTY,"TRACE");
    setupRequestMessage(request,requestMessage);
    responseMessage=receiver.routeMessage(requestMessage,true);
    if (responseMessage != null) {
      writeResponse(response,responseMessage);
    }
  }
 catch (  Exception e) {
    handleException(e,e.getMessage(),response);
  }
}
