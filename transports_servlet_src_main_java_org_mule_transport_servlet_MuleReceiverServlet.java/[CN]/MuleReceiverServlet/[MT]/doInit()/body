{
  String servletConnectorName=getServletConfig().getInitParameter(SERVLET_CONNECTOR_NAME_PROPERTY);
  if (servletConnectorName == null) {
    connector=(ServletConnector)new TransportFactory(muleContext).getConnectorByProtocol("servlet");
    if (connector == null) {
      connector=new ServletConnector();
      connector.setName("_generatedServletConnector");
      try {
        muleContext.getRegistry().registerConnector(connector);
      }
 catch (      MuleException e) {
        throw new ServletException("Failed to register the ServletConnector",e);
      }
    }
  }
 else {
    connector=(ServletConnector)muleContext.getRegistry().lookupConnector(servletConnectorName);
    if (connector == null) {
      throw new ServletException(ServletMessages.noServletConnectorFound(servletConnectorName).toString());
    }
  }
}
