{
  ServletConnector servletConnector;
  if (name == null) {
    servletConnector=(ServletConnector)new TransportFactory(muleContext).getConnectorByProtocol("servlet");
    if (servletConnector == null) {
      servletConnector=new ServletConnector(muleContext);
      servletConnector.setName("_generatedServletConnector");
      try {
        muleContext.getRegistry().registerConnector(servletConnector);
      }
 catch (      MuleException e) {
        throw new ServletException("Failed to register the ServletConnector",e);
      }
    }
  }
 else {
    servletConnector=(ServletConnector)muleContext.getRegistry().lookupConnector(name);
    if (servletConnector == null) {
      throw new ServletException(ServletMessages.noServletConnectorFound(name).toString());
    }
  }
  this.useCachedHttpServletRequest=connector.isUseCachedHttpServletRequest();
  return servletConnector;
}
