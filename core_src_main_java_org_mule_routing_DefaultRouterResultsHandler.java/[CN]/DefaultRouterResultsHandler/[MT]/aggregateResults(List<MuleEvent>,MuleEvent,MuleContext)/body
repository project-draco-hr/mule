{
  if (results == null) {
    return null;
  }
 else   if (results.size() == 1) {
    MuleEvent event=results.get(0);
    if (event != null && event.getMessage() != null) {
      return event;
    }
 else {
      return null;
    }
  }
 else {
    List<MuleEvent> nonNullResults=(List<MuleEvent>)CollectionUtils.select(results,new Predicate(){
      public boolean evaluate(      Object object){
        return object != null;
      }
    }
);
    if (nonNullResults.size() == 0) {
      return null;
    }
 else     if (nonNullResults.size() == 1) {
      return nonNullResults.get(0);
    }
 else {
      return createMessageCollection(nonNullResults,previous,muleContext);
    }
  }
}
