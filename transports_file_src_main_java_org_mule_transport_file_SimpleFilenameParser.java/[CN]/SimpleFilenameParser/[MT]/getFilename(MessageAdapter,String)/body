{
  if (pattern == null) {
    return UUID.getUUID() + ".dat";
  }
 else {
    if (pattern.contains(ExpressionManager.DEFAULT_EXPRESSION_PREFIX)) {
      return getFilename(adapter,pattern,wigglyMuleParser);
    }
 else     if (pattern.contains("{")) {
      logger.warn("Found " + pattern + ". Using ${} style has been deprecated for Mule placeholders and won't be supported in the future,"+ " please switch to #[] and ExpressionFilenameParser");
      return getFilename(adapter,pattern,antParser);
    }
 else {
      return getFilename(adapter,pattern,squareParser);
    }
  }
}
