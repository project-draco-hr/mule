{
  RegistryFacade registry=RegistryContext.getRegistry();
  if (registry == null)   throw new RegistrationException("No registry available");
  Registerable parent=null;
  if (endpoint != null) {
    parent=endpoint;
  }
 else {
    parent=null;
  }
  registryId=registry.registerMuleObject(parent,this).getId();
}
