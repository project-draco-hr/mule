{
  Registry registry=MuleManager.getInstance().getRegistry();
  if (registry == null)   throw new RegistrationException("No registry available");
  Registerable parent=null;
  if (endpoint != null) {
    parent=endpoint;
  }
 else {
    parent=MuleManager.getInstance();
  }
  registryId=MuleManager.getInstance().getRegistry().registerMuleObject(parent,this).getId();
}
