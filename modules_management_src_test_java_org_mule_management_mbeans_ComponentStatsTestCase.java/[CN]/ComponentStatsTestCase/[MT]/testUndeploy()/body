{
  final String domainOriginal="TEST_DOMAIN_1";
  final ComponentStatistics statistics=new ComponentStatistics("TEST_IN",0,0);
  statistics.setInboundRouterStat(new RouterStatistics(RouterStatistics.TYPE_INBOUND));
  statistics.setOutboundRouterStat(new RouterStatistics(RouterStatistics.TYPE_OUTBOUND));
  ComponentStats stats=new ComponentStats(statistics);
  final ObjectName name=ObjectName.getInstance(domainOriginal + ":type=TEST_NAME");
  mBeanServer.registerMBean(stats,name);
  Set mbeans=mBeanServer.queryMBeans(ObjectName.getInstance(domainOriginal + ":*"),null);
  assertEquals("Unexpected components registered in the domain.",3,mbeans.size());
  mBeanServer.unregisterMBean(name);
  mbeans=mBeanServer.queryMBeans(ObjectName.getInstance(domainOriginal + ":*"),null);
  assertEquals("There should be no MBeans left in the domain",0,mbeans.size());
}
