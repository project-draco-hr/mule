{
  ImmutableEndpoint endpoint=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("waterMelonEndpoint");
  assertNotNull(endpoint);
  assertEquals("test.queue",endpoint.getEndpointURI().getAddress());
  Service service=muleContext.getRegistry().lookupService("orangeComponent");
  ImmutableEndpoint ep=((ServiceCompositeMessageSource)service.getMessageSource()).getEndpoint("Orange");
  assertNotNull(ep);
  final List responseTransformers=ep.getResponseTransformers();
  assertNotNull(responseTransformers);
  assertFalse(responseTransformers.isEmpty());
  final Object responseTransformer=responseTransformers.get(0);
  assertTrue(responseTransformer instanceof TestCompressionTransformer);
}
