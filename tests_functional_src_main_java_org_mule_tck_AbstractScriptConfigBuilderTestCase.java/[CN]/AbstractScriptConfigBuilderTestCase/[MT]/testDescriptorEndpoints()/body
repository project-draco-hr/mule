{
  Component component=muleContext.getRegistry().lookupComponent("orangeComponent");
  assertEquals(1,component.getOutboundRouter().getRouters().size());
  OutboundRouter router=(OutboundRouter)component.getOutboundRouter().getRouters().get(0);
  assertEquals(1,router.getEndpoints().size());
  ImmutableEndpoint endpoint=(ImmutableEndpoint)router.getEndpoints().get(0);
  assertNotNull(endpoint);
  assertEquals("appleInEndpoint",endpoint.getName());
  assertNotNull(endpoint.getTransformers());
  assertTrue(TransformerUtils.firstOrNull(endpoint.getTransformers()) instanceof TestCompressionTransformer);
  try {
    endpoint=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("appleInEndpoint");
  }
 catch (  MuleException e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
  assertNotNull(endpoint);
  assertTrue(TransformerUtils.isDefined(endpoint.getTransformers()));
  assertTrue(endpoint.getTransformers().get(0) instanceof TestInboundTransformer);
  assertEquals(2,component.getInboundRouter().getEndpoints().size());
  assertNotNull(component.getInboundRouter().getCatchAllStrategy());
  assertTrue(component.getInboundRouter().getCatchAllStrategy() instanceof ForwardingCatchAllStrategy);
  assertNotNull(component.getInboundRouter().getCatchAllStrategy().getEndpoint());
  assertEquals("test://catch.all",component.getInboundRouter().getCatchAllStrategy().getEndpoint().getEndpointURI().toString());
  endpoint=component.getInboundRouter().getEndpoint("orangeEndpoint");
  assertNotNull(endpoint);
  assertEquals("orangeEndpoint",endpoint.getName());
  assertEquals("orangeQ",endpoint.getEndpointURI().getAddress());
  assertNotNull(endpoint.getTransformers());
  assertTrue(TransformerUtils.firstOrNull(endpoint.getTransformers()) instanceof TestCompressionTransformer);
  try {
    endpoint=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("orangeEndpoint");
  }
 catch (  MuleException e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
  assertNotNull(endpoint);
  assertTrue(TransformerUtils.isDefined(endpoint.getTransformers()));
  assertTrue(endpoint.getTransformers().get(0) instanceof TestInboundTransformer);
}
