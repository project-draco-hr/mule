{
  UMODescriptor descriptor=managementContext.getRegistry().lookupService("orangeComponent");
  assertEquals(1,descriptor.getOutboundRouter().getRouters().size());
  UMOOutboundRouter router=(UMOOutboundRouter)descriptor.getOutboundRouter().getRouters().get(0);
  assertEquals(1,router.getEndpoints().size());
  UMOImmutableEndpoint endpoint=(UMOImmutableEndpoint)router.getEndpoints().get(0);
  assertNotNull(endpoint);
  assertEquals("appleInEndpoint",endpoint.getName());
  assertNotNull(endpoint.getTransformer());
  assertTrue(endpoint.getTransformer() instanceof TransformerChain);
  assertTrue(((TransformerChain)endpoint.getTransformer()).getDelegateClass().equals(TestCompressionTransformer.class));
  endpoint=managementContext.getRegistry().lookupEndpoint("appleInEndpoint");
  assertNotNull(endpoint);
  assertNull(endpoint.getTransformer());
  assertEquals(2,descriptor.getInboundRouter().getEndpoints().size());
  assertNotNull(descriptor.getInboundRouter().getCatchAllStrategy());
  assertTrue(descriptor.getInboundRouter().getCatchAllStrategy() instanceof ForwardingCatchAllStrategy);
  assertNotNull(descriptor.getInboundRouter().getCatchAllStrategy().getEndpoint());
  assertEquals("test2://catch.all",descriptor.getInboundRouter().getCatchAllStrategy().getEndpoint().getEndpointURI().toString());
  endpoint=descriptor.getInboundRouter().getEndpoint("orangeEndpoint");
  assertNotNull(endpoint);
  assertEquals("orangeEndpoint",endpoint.getName());
  assertEquals("orangeQ",endpoint.getEndpointURI().getAddress());
  assertNotNull(endpoint.getTransformer());
  assertTrue(endpoint.getTransformer() instanceof TransformerChain);
  assertTrue(((TransformerChain)endpoint.getTransformer()).getDelegateClass().equals(TestCompressionTransformer.class));
  endpoint=managementContext.getRegistry().lookupEndpoint("orangeEndpoint");
  assertNotNull(endpoint);
  assertNull(endpoint.getTransformer());
}
