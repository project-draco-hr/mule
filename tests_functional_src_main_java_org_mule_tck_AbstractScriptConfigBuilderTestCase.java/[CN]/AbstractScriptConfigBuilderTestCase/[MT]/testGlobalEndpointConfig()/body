{
  ImmutableEndpoint endpoint=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("fruitBowlEndpoint");
  assertNotNull(endpoint);
  assertEquals(endpoint.getEndpointURI().getAddress(),"fruitBowlPublishQ");
  MessagePropertyFilter filter=(MessagePropertyFilter)endpoint.getFilter();
  assertNotNull(filter);
  assertEquals("foo=bar",filter.getExpression());
  ImmutableEndpoint ep=muleContext.getRegistry().lookupEndpointFactory().getInboundEndpoint("testEPWithCS");
  assertNotNull(ep);
  assertNotNull(ep.getConnectionStrategy());
  assertTrue(ep.getConnectionStrategy() instanceof SimpleRetryConnectionStrategy);
  assertEquals(4,((SimpleRetryConnectionStrategy)ep.getConnectionStrategy()).getRetryCount());
  assertEquals(3000,((SimpleRetryConnectionStrategy)ep.getConnectionStrategy()).getRetryFrequency());
}
