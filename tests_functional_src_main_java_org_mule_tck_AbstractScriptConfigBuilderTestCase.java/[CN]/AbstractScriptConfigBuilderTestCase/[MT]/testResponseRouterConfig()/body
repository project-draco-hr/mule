{
  Service service=muleContext.getRegistry().lookupService("orangeComponent");
  assertNotNull(service.getAsyncReplyMessageSource());
  ServiceAsyncReplyCompositeMessageSource messageRouter=service.getAsyncReplyMessageSource();
  assertNull(messageRouter.getCatchAllStrategy());
  assertEquals(10001,messageRouter.getTimeout().longValue());
  assertEquals(1,messageRouter.getMessageProcessors().size());
  MessageProcessor router=messageRouter.getMessageProcessors().get(0);
  assertTrue(router instanceof TestResponseAggregator);
  assertNotNull(messageRouter.getEndpoints());
  assertEquals(2,messageRouter.getEndpoints().size());
  InboundEndpoint ep=messageRouter.getEndpoints().get(0);
  assertEquals("response1",ep.getEndpointURI().getAddress());
  ep=messageRouter.getEndpoints().get(1);
  assertEquals("AppleResponseQueue",ep.getEndpointURI().getAddress());
}
