{
  if (transformer != null) {
    try {
      Object payload=transformer.transform(message.getPayload());
      message=new MuleMessage(payload,message);
    }
 catch (    TransformerException e) {
      throw new RoutingException(CoreMessages.transformFailedBeforeFilter(),message,(UMOImmutableEndpoint)endpoints.get(0),e);
    }
  }
  return message;
}
