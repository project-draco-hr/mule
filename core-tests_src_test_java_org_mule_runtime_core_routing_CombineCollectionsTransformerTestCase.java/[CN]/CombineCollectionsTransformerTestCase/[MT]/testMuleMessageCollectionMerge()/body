{
  MuleEvent event=getTestEvent("hello");
  List list=new ArrayList<>();
  list.add(new DefaultMuleMessage(Arrays.asList("1","2","3")));
  list.add(new DefaultMuleMessage("4"));
  list.add(new DefaultMuleMessage(Arrays.asList("5","6","7")));
  MuleMessage collection=new DefaultMuleMessage(list,DataType.MULE_MESSAGE_COLLECTION);
  event=new DefaultMuleEvent(collection,event);
  MuleEvent response=merger.process(event);
  assertTrue(response.getMessage().getPayload() instanceof List);
  assertEquals(7,((List)response.getMessage().getPayload()).size());
}
