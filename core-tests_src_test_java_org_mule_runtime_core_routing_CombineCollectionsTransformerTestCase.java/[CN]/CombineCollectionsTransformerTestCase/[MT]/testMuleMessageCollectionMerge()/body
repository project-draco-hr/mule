{
  MuleEvent event=getTestEvent("hello");
  List list=new ArrayList<>();
  list.add(new DefaultMuleMessage(Arrays.asList("1","2","3"),muleContext));
  list.add(new DefaultMuleMessage("4",muleContext));
  list.add(new DefaultMuleMessage(Arrays.asList("5","6","7"),muleContext));
  MuleMessage collection=new DefaultMuleMessage(list,muleContext);
  event=new DefaultMuleEvent(collection,event);
  MuleEvent response=merger.process(event);
  assertTrue(response.getMessage().getPayload() instanceof List);
  assertEquals(7,((List)response.getMessage().getPayload()).size());
}
