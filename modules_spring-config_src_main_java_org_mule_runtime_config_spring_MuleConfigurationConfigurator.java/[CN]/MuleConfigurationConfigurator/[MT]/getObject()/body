{
  MuleConfiguration configuration=muleContext.getConfiguration();
  if (configuration instanceof DefaultMuleConfiguration) {
    DefaultMuleConfiguration defaultConfig=(DefaultMuleConfiguration)configuration;
    defaultConfig.setDefaultResponseTimeout(config.getDefaultResponseTimeout());
    defaultConfig.setDefaultTransactionTimeout(config.getDefaultTransactionTimeout());
    defaultConfig.setShutdownTimeout(config.getShutdownTimeout());
    defaultConfig.setDefaultExceptionStrategyName(config.getDefaultExceptionStrategyName());
    defaultConfig.setExtensions(config.getExtensions());
    defaultConfig.setMaxQueueTransactionFilesSize(config.getMaxQueueTransactionFilesSizeInMegabytes());
    determineDefaultProcessingStrategy(defaultConfig);
    validateDefaultExceptionStrategy();
    applyDefaultIfNoObjectSerializerSet(defaultConfig);
    return configuration;
  }
 else {
    throw new ConfigurationException(MessageFactory.createStaticMessage("Unable to set properties on read-only MuleConfiguration: " + configuration.getClass()));
  }
}
