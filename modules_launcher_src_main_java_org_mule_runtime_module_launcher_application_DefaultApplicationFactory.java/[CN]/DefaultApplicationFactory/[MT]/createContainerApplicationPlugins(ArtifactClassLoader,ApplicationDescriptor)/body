{
  final List<ApplicationPlugin> plugins=new LinkedList<>();
  for (  ApplicationPluginDescriptor appPluginDescriptor : applicationPluginRepository.getContainerApplicationPluginDescriptors()) {
    if (appDescriptor.containsApplicationPluginDescriptor(appPluginDescriptor)) {
      final String msg=String.format("Failed to deploy artifact [%s], plugin [%s] is already bundled within the container and cannot be included in artifact",appDescriptor.getName(),appPluginDescriptor.getName());
      throw new DeploymentException(createStaticMessage(msg));
    }
    plugins.add(applicationPluginFactory.create(appPluginDescriptor,parentClassLoader));
  }
  return plugins;
}
