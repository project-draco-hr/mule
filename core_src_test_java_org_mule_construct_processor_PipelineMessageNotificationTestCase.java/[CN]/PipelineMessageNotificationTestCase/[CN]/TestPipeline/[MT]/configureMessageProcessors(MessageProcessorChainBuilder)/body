{
  builder.chain(new AbstractInterceptingMessageProcessor(){
    @Override public MuleEvent process(    MuleEvent event) throws MuleException {
      event.getMessage().setPayload("request-processed");
      MuleEvent result=processNext(event);
      event.getMessage().setPayload("response-processed");
      latch.countDown();
      return result;
    }
  }
);
  super.configureMessageProcessors(builder);
}
