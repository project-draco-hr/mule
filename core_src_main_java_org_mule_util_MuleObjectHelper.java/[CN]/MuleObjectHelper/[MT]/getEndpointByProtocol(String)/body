{
  UMOImmutableEndpoint iprovider;
  Collection endpoints=RegistryContext.getRegistry().getEndpoints();
  for (Iterator iterator=endpoints.iterator(); iterator.hasNext(); ) {
    iprovider=(UMOImmutableEndpoint)iterator.next();
    if (iprovider.getProtocol().equals(protocol)) {
      return new MuleEndpoint(iprovider);
    }
  }
  return null;
}
