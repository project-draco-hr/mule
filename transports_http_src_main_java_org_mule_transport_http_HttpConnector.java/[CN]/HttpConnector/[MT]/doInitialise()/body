{
  super.doInitialise();
  if (clientConnectionManager == null) {
    clientConnectionManager=new MultiThreadedHttpConnectionManager();
    HttpConnectionManagerParams params=new HttpConnectionManagerParams();
    if (getSendBufferSize() != INT_VALUE_NOT_SET) {
      params.setSendBufferSize(getSendBufferSize());
    }
    if (getReceiveBufferSize() != INT_VALUE_NOT_SET) {
      params.setReceiveBufferSize(getReceiveBufferSize());
    }
    if (getClientSoTimeout() != INT_VALUE_NOT_SET) {
      params.setSoTimeout(getClientSoTimeout());
    }
    if (getSocketSoLinger() != INT_VALUE_NOT_SET) {
      params.setLinger(getSocketSoLinger());
    }
    params.setTcpNoDelay(isSendTcpNoDelay());
    params.setMaxTotalConnections(dispatchers.getMaxActive());
    params.setDefaultMaxConnectionsPerHost(dispatchers.getMaxActive());
    clientConnectionManager.setParams(params);
  }
}
