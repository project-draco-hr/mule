{
  InboundEndpoint endpoint=createTestInboundEndpoint(null,new TestSecurityFilter(true),MessageExchangePattern.REQUEST_RESPONSE,null);
  InterceptingMessageProcessor mp=new InboundSecurityFilterMessageProcessor(endpoint);
  TestListener listner=new TestListener();
  mp.setListener(listner);
  MuleEvent inEvent=createTestInboundEvent(endpoint);
  MuleEvent resultEvent=mp.process(inEvent);
  assertNotNull(listner.sensedEvent);
  assertSame(inEvent,listner.sensedEvent);
  assertEquals(inEvent,resultEvent);
}
