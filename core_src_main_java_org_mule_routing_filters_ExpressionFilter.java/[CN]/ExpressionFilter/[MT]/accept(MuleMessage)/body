{
  String expr=getFullExpression();
  if (delegateFilter != null) {
    return delegateFilter.accept(message);
  }
  Object result=ExpressionEvaluatorManager.evaluate(expr,message);
  if (result == null) {
    return nullReturnsTrue;
  }
 else   if (result instanceof Boolean) {
    return ((Boolean)result).booleanValue();
  }
 else   if (result instanceof String) {
    return ((String)result).toLowerCase().equals(TRUE);
  }
 else {
    logger.warn("Expression: " + expr + ", returned an non-boolean result. Returning: "+ !nullReturnsTrue);
    return !nullReturnsTrue;
  }
}
