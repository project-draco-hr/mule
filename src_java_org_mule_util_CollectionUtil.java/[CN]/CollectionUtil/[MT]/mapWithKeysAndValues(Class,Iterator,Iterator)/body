{
  Map m=null;
  if (mapClass == null) {
    throw new IllegalArgumentException("Map class must not be null!");
  }
  try {
    m=(Map)mapClass.newInstance();
  }
 catch (  Exception ex) {
    throw new RuntimeException(ex);
  }
  if (keys != null && values != null) {
    while (keys.hasNext() && values.hasNext()) {
      m.put(keys.next(),values.next());
    }
  }
  return m;
}
