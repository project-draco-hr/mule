{
  MVELExpressionLanguageContext factory=new MVELExpressionLanguageContext(parserContext,muleContext);
  factory.appendFactory(new MessageVariableResolverFactory(parserContext,muleContext,message));
  factory.appendFactory(new VariableVariableResolverFactory(parserContext,muleContext,message));
  factory.appendFactory(new RegistryVariableResolverFactory(parserContext,muleContext));
  return (T)evaluateInternal(expression,factory);
}
