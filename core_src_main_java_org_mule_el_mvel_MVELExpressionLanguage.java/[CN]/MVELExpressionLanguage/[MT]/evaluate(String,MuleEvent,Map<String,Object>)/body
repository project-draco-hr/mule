{
  MVELExpressionLanguageContext context=createExpressionLanguageContext(vars);
  context.addChildContext(staticContext);
  context.addChildContext(new EventVariableResolverFactory(event));
  context.addChildContext(globalContext);
  if (autoResolveVariables) {
    context.addChildContext(createVariableVariableResolverFactory(event));
  }
  return evaluateInternal(expression,context);
}
