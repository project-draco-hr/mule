{
  MVELExpressionLanguageContext context=createExpressionLanguageContext(vars);
  context.addChildContext(staticContext);
  context.addChildContext(new MessageVariableResolverFactory(message));
  context.addChildContext(globalContext);
  if (autoResolveVariables) {
    context.addChildContext(createVariableVariableResolverFactory(message));
  }
  return evaluateInternal(expression,context);
}
