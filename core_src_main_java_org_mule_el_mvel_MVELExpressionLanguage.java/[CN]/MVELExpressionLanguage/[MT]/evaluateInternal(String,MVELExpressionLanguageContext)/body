{
  try {
    variableResolverFactory.addFinalVariable("server",serverContext);
    variableResolverFactory.addFinalVariable("mule",muleInstanceContext);
    variableResolverFactory.addFinalVariable("app",appContext);
    addExtensions(variableResolverFactory);
    return (T)expressionExecutor.execute(expression,variableResolverFactory);
  }
 catch (  Exception e) {
    throw new ExpressionRuntimeException(CoreMessages.expressionEvaluationFailed(expression),e);
  }
}
