{
  digester.addRule(path,new Rule(){
    public void begin(    String s,    String s1,    Attributes attributes) throws Exception {
      attributes=processor.processAttributes(attributes,s1);
      String name=attributes.getValue("name");
      String key=attributes.getValue("key");
      String defaultValue=attributes.getValue("defaultValue");
      String value=System.getProperty(key,defaultValue);
      if (value != null) {
        Object props=digester.peek();
        if (props instanceof Map) {
          ((Map)props).put(name,value);
        }
 else {
          ((List)props).add(value);
        }
      }
    }
  }
);
}
