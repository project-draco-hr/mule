{
  DefaultMessageProcessorChain chain=new DefaultMessageProcessorChain();
  chain.add(new TestPolicy("test"));
  try {
    chain.add(new TestPolicy("test"));
    fail("Should've thrown an exception, no duplicates allowed");
  }
 catch (  IllegalArgumentException e) {
    System.out.println(e);
  }
}
