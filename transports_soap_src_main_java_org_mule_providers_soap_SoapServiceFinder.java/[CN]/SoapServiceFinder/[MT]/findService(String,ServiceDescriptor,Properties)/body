{
  Map finders=new TreeMap();
  PropertiesUtils.getPropertiesWithPrefix(props,"finder.class",finders);
  StringBuffer buf=new StringBuffer();
  for (Iterator iterator=finders.entrySet().iterator(); iterator.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iterator.next();
    try {
      ClassUtils.loadClass(entry.getValue().toString(),getClass());
      return getProtocolFromKey(entry.getKey().toString());
    }
 catch (    ClassNotFoundException e1) {
      buf.append(entry.getValue().toString()).append("(").append(entry.getKey().toString()).append(")").append(", ");
    }
  }
  throw new ServiceException(new Message(Messages.COULD_NOT_FIND_SOAP_PROVIDER_X,buf.toString()));
}
