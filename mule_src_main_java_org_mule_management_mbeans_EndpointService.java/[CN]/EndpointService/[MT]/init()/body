{
  if (endpoint == null) {
    throw new NullPointerException(new Message(Messages.X_IS_NULL,"Endpoint").getMessage());
  }
  if (receiver == null && !UMOEndpoint.ENDPOINT_TYPE_RECEIVER.equals(endpoint.getType())) {
    throw new IllegalArgumentException("Recevier is null for Endpoint MBean but the endpoint itself is a receiving endpoint");
  }
  name=endpoint.getConnector().getProtocol().toLowerCase() + "#";
  if (endpoint.getName().startsWith(name)) {
    name=endpoint.getName().replaceAll(":","#");
  }
 else {
    name+=endpoint.getName().replaceAll(":","#");
  }
}
