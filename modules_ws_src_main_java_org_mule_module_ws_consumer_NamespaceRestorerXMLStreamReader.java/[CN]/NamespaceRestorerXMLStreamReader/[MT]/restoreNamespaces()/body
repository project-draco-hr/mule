{
  if (getEventType() == START_ELEMENT) {
    namespaces=new ArrayList<Namespace>();
    Set<String> prefixes=new HashSet<String>();
    for (    StartElement elem : scopes()) {
      Iterator<Namespace> iter=elem.getNamespaces();
      while (iter.hasNext()) {
        Namespace ns=iter.next();
        if (prefixes.add(ns.getPrefix()) && !nsBlacklist.contains(ns.getNamespaceURI())) {
          namespaces.add(ns);
        }
      }
    }
  }
}
