{
  try {
    final String flowName="OAuthRedirectUrlFlow" + getOauthConfig().getRedirectionUrl();
    final Flow redirectUrlFlow=DynamicFlowFactory.createDynamicFlow(getMuleContext(),flowName,Arrays.asList(createRedirectUrlProcessor()));
    final HttpListenerBuilder httpListenerBuilder=new HttpListenerBuilder(getMuleContext()).setSuccessStatusCode("#[flowVars['statusCode']]").setUrl(new URL(getOauthConfig().getRedirectionUrl())).setFlow(redirectUrlFlow);
    if (getOauthConfig().getTlsContextFactory() != null) {
      httpListenerBuilder.setTlsContextFactory(getOauthConfig().getTlsContextFactory());
    }
    this.redirectUrlListener=httpListenerBuilder.build();
    this.redirectUrlListener.initialise();
    this.redirectUrlListener.start();
  }
 catch (  MalformedURLException e) {
    logger.warn("Could not parse provided url %s. Validate that the url is correct",getOauthConfig().getRedirectionUrl());
    throw new DefaultMuleException(e);
  }
}
