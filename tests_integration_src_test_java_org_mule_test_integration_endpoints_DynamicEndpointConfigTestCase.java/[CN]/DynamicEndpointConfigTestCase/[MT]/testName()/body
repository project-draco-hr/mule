{
  MuleMessage msg=new DefaultMuleMessage("Data",muleContext);
  msg.setOutboundProperty("testProp","testPath");
  MuleMessage response=muleContext.getClient().send("vm://in1",msg);
  assertNotNull(response);
  assertNull(response.getExceptionPayload());
  assertEquals("Data Received",response.getPayload(DataType.STRING_DATA_TYPE));
  response=muleContext.getClient().send("vm://in2",msg);
  assertNotNull(response);
  assertNull(response.getExceptionPayload());
  assertEquals("Data Received",response.getPayload(DataType.STRING_DATA_TYPE));
  response=muleContext.getClient().send("vm://in3",msg);
  assertNotNull(response);
  assertNull(response.getExceptionPayload());
  String payload=response.getPayload(DataType.STRING_DATA_TYPE);
  assertEquals("Data Also Received",payload);
}
