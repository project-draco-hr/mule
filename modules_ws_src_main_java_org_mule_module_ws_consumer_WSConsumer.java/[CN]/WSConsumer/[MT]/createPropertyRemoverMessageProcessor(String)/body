{
  return new AbstractRequestResponseMessageProcessor(){
    private Object propertyValue;
    @Override protected MuleEvent processRequest(    MuleEvent event) throws MuleException {
      propertyValue=event.getMessage().removeProperty(propertyName,PropertyScope.INVOCATION);
      return super.processRequest(event);
    }
    @Override protected MuleEvent processResponse(    MuleEvent event) throws MuleException {
      if (propertyValue != null) {
        event.getMessage().setInvocationProperty(propertyName,propertyValue);
      }
      return super.processResponse(event);
    }
  }
;
}
