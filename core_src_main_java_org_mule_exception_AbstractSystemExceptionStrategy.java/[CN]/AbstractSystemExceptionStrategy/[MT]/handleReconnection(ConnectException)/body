{
  AbstractConnector connector=(AbstractConnector)ex.getFailed();
  if (connector.isReconnecting()) {
    return;
  }
  logger.info("Exception caught is a ConnectException, attempting to reconnect...");
  connector.setReconnecting(true);
  try {
    logger.debug("Disconnecting " + connector.getName());
    connector.disconnect();
  }
 catch (  Exception e1) {
    logger.error(e1.getMessage());
  }
  try {
    logger.debug("Reconnecting " + connector.getName());
    connector.connect();
    connector.setReconnecting(false);
  }
 catch (  Exception e2) {
    logger.error(e2.getMessage());
  }
}
