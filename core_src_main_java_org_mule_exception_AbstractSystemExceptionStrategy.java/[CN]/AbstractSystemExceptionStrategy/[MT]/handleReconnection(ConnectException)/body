{
  AbstractConnector connector=(AbstractConnector)ex.getFailed();
  if (connector.isConnecting()) {
    return;
  }
  logger.info("Exception caught is a ConnectException, attempting to reconnect...");
  try {
    logger.debug("Disconnecting " + connector.getName());
    connector.stop();
    connector.disconnect();
  }
 catch (  Exception e1) {
    logger.error(e1.getMessage());
  }
  try {
    logger.debug("Reconnecting " + connector.getName());
    connector.connect();
    connector.start();
  }
 catch (  Exception e2) {
    logger.error(e2.getMessage());
  }
}
