{
  Object impl=descriptor.getService();
  Object component=null;
  if (impl instanceof ContainerKeyPair) {
    component=managementContext.getRegistry().lookupObject(((ContainerKeyPair)impl).getKey());
    if (descriptor.isSingleton()) {
      descriptor.setService(component);
    }
  }
 else {
    component=impl;
  }
  descriptor.fireInitialisationCallbacks(component);
  return component;
}
