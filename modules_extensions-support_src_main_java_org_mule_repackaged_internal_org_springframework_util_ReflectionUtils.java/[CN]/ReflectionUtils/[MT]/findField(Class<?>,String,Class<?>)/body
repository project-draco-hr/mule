{
  Preconditions.checkArgument(clazz != null,"Class must not be null");
  Preconditions.checkArgument(name != null || type != null,"Either name or type of the field must be specified");
  Class<?> searchType=clazz;
  while (!Object.class.equals(searchType) && searchType != null) {
    Field[] fields=searchType.getDeclaredFields();
    for (    Field field : fields) {
      if ((name == null || name.equals(field.getName())) && (type == null || type.equals(field.getType()))) {
        return field;
      }
    }
    searchType=searchType.getSuperclass();
  }
  return null;
}
