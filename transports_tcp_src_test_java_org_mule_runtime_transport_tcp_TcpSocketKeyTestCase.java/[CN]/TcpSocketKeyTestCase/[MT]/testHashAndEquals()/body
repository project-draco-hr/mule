{
  final TcpConnector tcpConnector=mock(TcpConnector.class);
  final ImmutableEndpoint endpoint1in=createEndpoint(tcpConnector,"localhost",8080);
  final TcpSocketKey key1in=new TcpSocketKey(endpoint1in);
  final ImmutableEndpoint endpoint1out=createEndpoint(tcpConnector,"localhost",8080);
  final TcpSocketKey key1out=new TcpSocketKey(endpoint1out);
  final ImmutableEndpoint endpoint2in=createEndpoint(tcpConnector,"localhost",9080);
  final TcpSocketKey key2in=new TcpSocketKey(endpoint2in);
  assertEquals(key1in,key1in);
  assertEquals(key1in,key1out);
  assertNotSame(key1in,key2in);
  assertEquals(key1in.hashCode(),key1in.hashCode());
  assertEquals(key1in.hashCode(),key1out.hashCode());
  assertFalse(key1in.hashCode() == key2in.hashCode());
}
