{
  flowRunner("exceptionHandlingBlock").runExpectingException();
  LocalMuleClient client=muleContext.getClient();
  MuleMessage response=client.request("test://dlq",RECEIVE_TIMEOUT);
  assertThat(response,IsNull.<Object>notNullValue());
  assertThat(response.<String>getOutboundProperty("mainEs"),Is.is("yes"));
  assertThat(response.<String>getOutboundProperty("flowRefEs"),Is.is("yes"));
}
