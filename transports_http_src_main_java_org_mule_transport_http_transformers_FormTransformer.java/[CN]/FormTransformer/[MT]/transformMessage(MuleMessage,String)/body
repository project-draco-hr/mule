{
  try {
    String v=message.getPayloadAsString();
    Map<String,Object> values=new HashMap<String,Object>();
    final StringTokenizer tokenizer=new StringTokenizer(v,"&");
    String token;
    while (tokenizer.hasMoreTokens()) {
      token=tokenizer.nextToken();
      int idx=token.indexOf('=');
      if (idx < 0) {
        add(values,URLDecoder.decode(token,encoding),null);
      }
 else       if (idx > 0) {
        add(values,URLDecoder.decode(token.substring(0,idx),encoding),URLDecoder.decode(token.substring(idx + 1),encoding));
      }
    }
    return values;
  }
 catch (  Exception e) {
    throw new TransformerException(this,e);
  }
}
