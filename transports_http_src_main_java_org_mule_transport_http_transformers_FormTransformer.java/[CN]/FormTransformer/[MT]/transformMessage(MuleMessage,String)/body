{
  try {
    String v=message.getPayloadAsString();
    Map<String,Object> values=new HashMap<String,Object>();
    for (StringTokenizer st=new StringTokenizer(v,"&"); st.hasMoreTokens(); ) {
      String token=st.nextToken();
      int idx=token.indexOf('=');
      if (idx < 0) {
        add(values,URLDecoder.decode(token,outputEncoding),null);
      }
 else       if (idx > 0) {
        add(values,URLDecoder.decode(token.substring(0,idx),outputEncoding),URLDecoder.decode(token.substring(idx + 1),outputEncoding));
      }
    }
    return values;
  }
 catch (  Exception e) {
    throw new TransformerException(this,e);
  }
}
