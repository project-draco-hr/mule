{
  TransactionProxy proxy=(TransactionProxy)transactions.get();
  if (proxy != null) {
    logger.debug("Binding transaction to existing (" + txCounter + ")");
    proxy.setTransaction(transaction);
  }
 else {
    proxy=new TransactionProxy(transaction,constraint);
    transactions.set(proxy);
    incrementCounter();
    logger.debug("Binding new transaction (" + txCounter + ")");
  }
  return proxy;
}
