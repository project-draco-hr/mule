{
  MuleMessage messageToRoute=createMuleMessage(data,endpoint.getEncoding());
  messageToRoute.setInvocationProperty(AjaxConnector.COMETD_CLIENT,client);
  Object replyTo=messageToRoute.getReplyTo();
  MuleEvent event=AjaxMessageReceiver.this.routeMessage(messageToRoute);
  MuleMessage message=event == null ? null : event.getMessage();
  if ((message != null && message.getExceptionPayload() == null) && replyTo != null) {
    AbstractConnector conn=(AbstractConnector)getConnector();
    conn.getReplyToHandler(endpoint).processReplyTo(RequestContext.getEvent(),message,replyTo);
  }
  return null;
}
