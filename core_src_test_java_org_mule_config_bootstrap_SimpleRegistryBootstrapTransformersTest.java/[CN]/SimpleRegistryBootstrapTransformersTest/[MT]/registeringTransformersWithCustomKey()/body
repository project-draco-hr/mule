{
  Properties properties=new Properties();
  properties.setProperty("core.transformer.1",ExpectedKeyTransformer.class.getName());
  properties.setProperty("custom1",CustomKeyTransformer.class.getName());
  TestTransformerResolver transformerResolver=new TestTransformerResolver();
  muleContext.getRegistry().registerObject("testTransformerResolver",transformerResolver);
  SimpleRegistryBootstrap registryBootstrap=new SimpleRegistryBootstrap(new SinglePropertiesRegistryBootstrapDiscoverer(properties));
  registryBootstrap.setMuleContext(muleContext);
  registryBootstrap.initialise();
  assertEquals(2,transformerResolver.getTransformersCount());
  assertTrue(transformerResolver.contains(ExpectedKeyTransformer.class));
  assertTrue(transformerResolver.contains(CustomKeyTransformer.class));
}
