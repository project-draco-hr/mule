{
  if (component.getId().equals("0")) {
    logger.info("Setting root");
    root=component;
  }
 else {
    Registration parent=null;
    if (component.getParentId() != null) {
      parent=(Registration)store.get(component.getParentId());
    }
 else {
      parent=root;
      component.setParentId(root.getId());
    }
    logger.info("About to add component " + component.getId() + " ("+ component.getProperty("sourceObjectClassName")+ ")"+ " to parent "+ component.getParentId());
    if (parent != null) {
      parent.addChild(component);
    }
  }
  logger.info("Received registration of " + component.getType() + "/"+ component.getId()+ " under parent "+ component.getParentId());
  store.put(component.getId(),component);
}
