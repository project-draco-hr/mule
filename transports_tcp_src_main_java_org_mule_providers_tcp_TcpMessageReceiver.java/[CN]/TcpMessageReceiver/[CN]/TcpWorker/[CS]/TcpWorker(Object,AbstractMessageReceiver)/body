{
  super(resource,receiver,new ResponseOutputStream((Socket)resource));
  this.socket=(Socket)resource;
  final TcpConnector tcpConnector=((TcpConnector)connector);
  this.protocol=tcpConnector.getTcpProtocol();
  try {
    tcpConnector.configureSocket(TcpConnector.SERVER,socket);
    dataIn=new DataInputStream(new BufferedInputStream(socket.getInputStream()));
    dataOut=new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));
  }
 catch (  IOException e) {
    logger.error("Failed to set Socket properties: " + e.getMessage(),e);
  }
}
