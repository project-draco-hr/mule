{
  while (!socket.isClosed() && !disposing.get()) {
    try {
      Object readMsg=protocol.read(dataIn);
      if (readMsg == null) {
        return null;
      }
 else {
        return readMsg;
      }
    }
 catch (    SocketTimeoutException e) {
      if (!socket.getKeepAlive()) {
        return null;
      }
    }
  }
  return null;
}
