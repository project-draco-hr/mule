{
  logger.info("================================");
  logger.info("Running test: " + this.getName());
  logger.info("================================");
  TransactionalQueueManager mgr=createQueueManager();
  try {
    mgr.start();
    QueueSession s=mgr.getQueueSession();
    Queue q=s.getQueue("queue1");
    assertEquals(q.size(),0);
    Object o=q.peek();
    assertEquals(q.size(),0);
    assertNull(o);
    q.put("String1");
    assertEquals(q.size(),1);
    o=q.peek();
    assertEquals(q.size(),1);
    assertEquals("String1",o);
  }
  finally {
    mgr.stop(AbstractResourceManager.SHUTDOWN_MODE_NORMAL);
  }
}
