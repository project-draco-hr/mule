{
  UMOTransaction oldTx=(UMOTransaction)transactions.get();
  if (oldTx != null) {
    throw new IllegalTransactionStateException(new Message(Messages.TX_CANT_BIND_ALREADY_BOUND));
  }
  transactions.set(transaction);
synchronized (this) {
    txCounter++;
    if (logger.isDebugEnabled()) {
      logger.debug("Binding new transaction (" + txCounter + ")");
    }
  }
}
