{
  sendMessage(event);
  if (event.getEndpoint().isRemoteSync() || event.getBooleanProperty(MuleProperties.MULE_REMOTE_SYNC_PROPERTY,false)) {
    Message response=null;
    if (groupChat != null) {
      response=groupChat.nextMessage(event.getEndpoint().getRemoteSyncTimeout());
    }
 else {
      response=chat.nextMessage(event.getEndpoint().getRemoteSyncTimeout());
    }
    if (response != null) {
      logger.debug("Got a response from chat: " + chat);
      return new MuleMessage(connector.getMessageAdapter(response));
    }
  }
  return null;
}
