{
  sendMessage(event);
  if (useRemoteSync(event)) {
    Message response=null;
    if (groupChat != null) {
      response=groupChat.nextMessage(event.getTimeout());
    }
 else {
      response=chat.nextMessage(event.getTimeout());
    }
    if (response != null) {
      logger.debug("Got a response from chat: " + chat);
      return new MuleMessage(connector.getMessageAdapter(response));
    }
  }
  return null;
}
