{
  if (outputType == null) {
    throw new TransformerException(CoreMessages.objectIsNull("outputType"));
  }
  InternalMessage transformedMessage=muleContext.getTransformationService().transform(message,outputType);
  if (message.getPayload().getDataType().isStreamType()) {
    setMessage(transformedMessage);
  }
  return transformedMessage.getPayload().getValue();
}
