{
  MuleMessage result=flowRunner("SINGLE").withPayload("").run().getMessage();
  assertThat(result,is(notNullValue()));
  assertThat(result.getPayload(),instanceOf(Set.class));
  assertThat((Set<String>)result.getPayload(),containsInAnyOrder("SINGLE"));
  DataHandler attachment=result.getOutboundAttachment("SINGLE");
  assertThat(attachment,is(notNullValue()));
  assertThat(attachment.getContent().toString(),is(ATTACHMENT_CONTENT));
}
