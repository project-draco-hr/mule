{
  ImmutableEndpoint endpoint=muleContext.getRegistry().lookupObject("endpoint");
  assertFalse(endpoint.getMessageProcessors().isEmpty());
  assertEquals(2,endpoint.getMessageProcessors().size());
  checkNames("normal",endpoint.getMessageProcessors());
  assertFalse(endpoint.getResponseMessageProcessors().isEmpty());
  final List<MessageProcessor> messageProcessors=((InterceptingChainLifecycleWrapper)endpoint.getResponseMessageProcessors().get(0)).getMessageProcessors();
  assertEquals(2,messageProcessors.size());
  checkNames("response",messageProcessors);
}
