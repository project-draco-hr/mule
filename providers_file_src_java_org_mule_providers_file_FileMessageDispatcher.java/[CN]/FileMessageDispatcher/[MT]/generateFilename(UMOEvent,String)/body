{
  if (pattern == null) {
    pattern=connector.getOutputPattern();
  }
  UMOMessage message=new MuleMessage(event.getTransformedMessage(),event.getMessage());
  return connector.getFilenameParser().getFilename(message,pattern);
}
