{
  MuleClient client=muleContext.getClient();
  exceptionHolder.set(new IOException());
  client.dispatch("jms://in",PAYLOAD,null);
  if (!exceptionLatch.await(TIMEOUT,TimeUnit.MILLISECONDS)) {
    fail("exception should be thrown");
  }
  if (!commitLatch.await(TIMEOUT,TimeUnit.MILLISECONDS)) {
    fail("transaction should be commit");
  }
}
