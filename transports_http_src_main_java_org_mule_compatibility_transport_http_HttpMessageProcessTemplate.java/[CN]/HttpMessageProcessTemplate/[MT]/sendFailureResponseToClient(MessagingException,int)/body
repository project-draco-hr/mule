{
  MuleEvent response=exception.getEvent();
  MutableMuleMessage message=(MutableMuleMessage)response.getMessage();
  message.setPayload(exception.getMessage());
  httpStatus=message.getOutboundProperty(HTTP_STATUS_PROPERTY) != null ? Integer.valueOf(response.getMessage().getOutboundProperty(HTTP_STATUS_PROPERTY).toString()) : httpStatus;
  message.setOutboundProperty(HTTP_STATUS_PROPERTY,httpStatus);
  HttpResponse httpResponse=transformResponse(response.getMessage());
  httpServerConnection.writeResponse(httpResponse,getThrottlingHeaders());
}
