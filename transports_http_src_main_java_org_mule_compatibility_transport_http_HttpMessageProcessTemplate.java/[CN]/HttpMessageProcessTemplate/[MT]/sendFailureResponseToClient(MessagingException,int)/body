{
  MuleEvent response=exception.getEvent();
  response.getMessage().setPayload(exception.getMessage());
  httpStatus=response.getMessage().getOutboundProperty(HTTP_STATUS_PROPERTY) != null ? Integer.valueOf(response.getMessage().getOutboundProperty(HTTP_STATUS_PROPERTY).toString()) : httpStatus;
  response.getMessage().setOutboundProperty(HTTP_STATUS_PROPERTY,httpStatus);
  HttpResponse httpResponse=transformResponse(response.getMessage());
  httpServerConnection.writeResponse(httpResponse,getThrottlingHeaders());
}
