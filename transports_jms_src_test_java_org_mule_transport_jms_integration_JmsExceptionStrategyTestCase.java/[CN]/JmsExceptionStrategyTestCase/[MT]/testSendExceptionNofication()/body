{
  muleClient=muleContext.getClient();
  muleClient.dispatch("jms://in4",MESSAGE,null);
  latch.await(LATCH_AWAIT_TIMEOUT,MILLISECONDS);
  Flow flow=muleContext.getRegistry().get("flowWithExceptionNotification");
  flow.stop();
  MuleMessage muleMessage=muleClient.request("jms://in4",TIMEOUT);
  assertThat(muleMessage,IsNull.<Object>notNullValue());
  MuleMessage exceptionMessage=muleClient.request("jms://exception4",TIMEOUT);
  assertThat(exceptionMessage,IsNull.<Object>notNullValue());
  assertThat(exceptionMessage.getPayload(),IsNull.<Object>notNullValue());
  MuleMessage outboundMessage=muleClient.request("jms://out4",SHORT_TIMEOUT);
  assertThat(outboundMessage,IsNull.<Object>nullValue());
}
