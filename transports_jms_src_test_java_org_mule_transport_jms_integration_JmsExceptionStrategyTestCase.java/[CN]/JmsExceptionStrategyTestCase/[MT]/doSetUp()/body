{
  latch=new Latch();
  muleClient=new MuleClient(muleContext);
  DefaultMessagingExceptionStrategy exceptionStrategy=(DefaultMessagingExceptionStrategy)muleContext.getRegistry().lookupFlowConstruct("flowWithoutExceptionStrategyAndTx").getExceptionListener();
  exceptionStrategy.getMessageProcessors().add(new MessageProcessor(){
    public MuleEvent process(    MuleEvent event) throws MuleException {
      latch.countDown();
      return event;
    }
  }
);
}
