{
  latch=new Latch();
  muleClient=muleContext.getClient();
  DefaultMessagingExceptionStrategy exceptionStrategy=(DefaultMessagingExceptionStrategy)muleContext.getRegistry().lookupFlowConstruct("flowWithoutExceptionStrategyAndTx").getExceptionListener();
  exceptionStrategy.getMessageProcessors().add(new MessageProcessor(){
    @Override public MuleEvent process(    MuleEvent event) throws MuleException {
      latch.countDown();
      return event;
    }
  }
);
}
