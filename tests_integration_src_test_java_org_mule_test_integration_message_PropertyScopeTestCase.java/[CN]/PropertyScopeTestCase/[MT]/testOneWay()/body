{
  flowRunner("oneWay").withPayload(TEST_PAYLOAD).withInboundProperty("foo","fooValue").asynchronously().run();
  LocalMuleClient client=muleContext.getClient();
  MuleMessage result=client.request("test://queueOut",RECEIVE_TIMEOUT);
  assertThat(result.getPayload(),is("test bar"));
  assertThat(result.<Object>getOutboundProperty("foo2"),is("fooValue"));
}
