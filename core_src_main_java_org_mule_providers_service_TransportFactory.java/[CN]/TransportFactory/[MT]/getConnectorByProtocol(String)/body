{
  UMOConnector connector;
  UMOConnector resultConnector=null;
  Collection connectors=RegistryContext.getRegistry().getConnectors();
  for (Iterator iterator=connectors.iterator(); iterator.hasNext(); ) {
    connector=(UMOConnector)iterator.next();
    if (connector.supportsProtocol(protocol)) {
      if (resultConnector == null) {
        resultConnector=connector;
      }
 else {
        throw new IllegalStateException(CoreMessages.moreThanOneConnectorWithProtocol(protocol).getMessage());
      }
    }
  }
  return resultConnector;
}
