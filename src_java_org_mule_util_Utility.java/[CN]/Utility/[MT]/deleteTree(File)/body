{
  if (dir == null)   return true;
  File[] files=dir.listFiles();
  for (int i=0; i < files.length; i++) {
    if (files[i].isDirectory()) {
      if (!deleteTree(files[i])) {
        return false;
      }
    }
 else {
      if (!files[i].delete()) {
        return false;
      }
    }
  }
  return dir.delete();
}
