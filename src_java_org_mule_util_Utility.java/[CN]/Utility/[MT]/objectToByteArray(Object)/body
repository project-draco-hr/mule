{
  if (src instanceof byte[]) {
    return (byte[])src;
  }
 else   if (src instanceof String) {
    return ((String)src).getBytes();
  }
  byte[] dest=null;
  ByteArrayOutputStream bs=null;
  ObjectOutputStream os=null;
  try {
    bs=new ByteArrayOutputStream();
    os=new ObjectOutputStream(bs);
    os.writeObject(src);
    os.flush();
    dest=bs.toByteArray();
  }
 catch (  IOException e) {
    IOUtils.closeQuietly(os);
    IOUtils.closeQuietly(bs);
    throw e;
  }
  return dest;
}
