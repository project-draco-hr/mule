{
  MuleClient client=new MuleClient();
  FruitBowl bowl=new FruitBowl(new Apple(),new Banana());
  bowl.getApple().setWashed(true);
  client.dispatch("clientEndpoint2",bowl,null);
  MuleMessage result=client.request("vm://middle2",5000L);
  assertTrue(result.getPayload() instanceof FruitBowl);
  assertTrue(((FruitBowl)result.getPayload()).hasApple());
  assertTrue(((FruitBowl)result.getPayload()).getApple().isWashed());
  assertTrue(((FruitBowl)result.getPayload()).hasBanana());
}
