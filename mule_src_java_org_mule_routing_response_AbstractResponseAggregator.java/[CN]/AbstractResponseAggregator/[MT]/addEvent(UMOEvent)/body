{
  String cId=(String)correlationExtractor.getPropertry(MuleProperties.MULE_CORRELATION_ID_PROPERTY,event.getMessage());
  if (cId == null) {
    throw new RoutingException("There is no Correlation Id set on the current event: " + event);
  }
  EventGroup eg=(EventGroup)eventGroups.get(cId);
  logger.debug("\n\nAdding event to response aggregator group: " + cId);
  if (eg == null) {
    eg=new EventGroup(cId);
    eg.addEvent(event);
    eventGroups.put(eg.getGroupId(),eg);
  }
 else {
    eg.addEvent(event);
  }
  return eg;
}
