{
  HttpResponseBuilder httpResponseBuilder=createHttpResponseBuilder();
  DefaultMuleMessage muleMessage=new DefaultMuleMessage(HTTP_BODY,muleContext);
  when(mockEvent.getMessage()).thenReturn(muleMessage);
  mockParse();
  HttpResponse httpResponse=(HttpResponse)httpResponseBuilder.process(mockEvent).getMessage().getPayload();
  assertEquals(HTTP_BODY,httpResponse.getBodyAsString());
  assertEquals(HttpConstants.HTTP11,httpResponse.getHttpVersion().toString());
  assertEquals(HttpConstants.SC_OK,httpResponse.getStatusCode());
  validateHeader(httpResponse.getHeaders(),HttpConstants.HEADER_CONTENT_TYPE,HttpConstants.DEFAULT_CONTENT_TYPE);
}
