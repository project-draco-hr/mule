{
  InputStream is=ClassHelper.getResourceAsStream(configResource,getClass());
  if (is == null) {
    File file=new File(configResource);
    if (file.exists()) {
      try {
        is=new FileInputStream(file);
      }
 catch (      FileNotFoundException e) {
        throw new ConfigurationException(new Message(Messages.CANT_LOAD_X_FROM_CLASSPATH_FILE,configResource),e);
      }
    }
 else {
      try {
        URL url=new URL(configResource);
        is=url.openStream();
      }
 catch (      Exception e) {
        throw new ConfigurationException(new Message(Messages.CANT_LOAD_X_FROM_CLASSPATH_FILE,configResource));
      }
    }
  }
  return is;
}
