{
  Mock session=MuleTestUtils.getMockSession();
  FilteringXmlMessageSplitter splitter=new FilteringXmlMessageSplitter();
  UMOMessage message=new MuleMessage("This is not XML.");
  try {
    splitter.route(message,(UMOSession)session.proxy(),false);
    fail("No exception thrown.");
  }
 catch (  IllegalArgumentException iaex) {
    assertTrue("Wrong exception message.",iaex.getMessage().startsWith("Failed to initialise the payload: "));
  }
}
