{
  Object accessTokenId=null;
  if (processor instanceof DevkitBasedMessageProcessor) {
    accessTokenId=((DevkitBasedMessageProcessor)processor).getAccessTokenId();
  }
  if (accessTokenId == null) {
    if (oauthManager.getDefaultAccessTokenId() != null) {
      accessTokenId=oauthManager.getDefaultAccessTokenId();
    }
 else {
      accessTokenId=oauthManager.getDefaultUnauthorizedConnector().getName();
    }
  }
  try {
    return (String)this.evaluateAndTransform(event.getMuleContext(),event,String.class,null,accessTokenId);
  }
 catch (  Exception e) {
    throw new UnableToAcquireConnectionException(String.format("Could not transform accessTokenId %s",accessTokenId),e);
  }
}
