{
  super();
  if (socket == null) {
    throw new IllegalArgumentException("Socket may not be null");
  }
  this.socket=socket;
  this.socket.setTcpNoDelay(true);
  this.in=socket.getInputStream();
  this.out=new DataOutputStream(socket.getOutputStream());
  this.encoding=encoding;
}
