{
  TransformerFactory factory=TransformerFactory.newInstance();
  factory.setErrorListener(new ErrorListener(){
    public void warning(    TransformerException exception) throws TransformerException {
      logger.warn("failed to create transformer: " + exception.getMessage(),exception);
    }
    public void error(    TransformerException exception) throws TransformerException {
      logger.error("failed to create transformer: " + exception.getMessage(),exception);
    }
    public void fatalError(    TransformerException exception) throws TransformerException {
      logger.fatal("failed to create transformer: " + exception.getMessage(),exception);
    }
  }
);
  if (logger.isDebugEnabled()) {
    logger.debug("Creating transformer from source: " + source);
  }
  Transformer transformer=factory.newTransformer(source);
  return transformer;
}
