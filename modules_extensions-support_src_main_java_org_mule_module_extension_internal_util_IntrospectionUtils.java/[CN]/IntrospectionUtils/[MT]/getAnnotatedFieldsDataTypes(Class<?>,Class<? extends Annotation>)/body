{
  Set<Field> fields=getAllFields(declaringClass,withAnnotation(annotationClass));
  if (CollectionUtils.isEmpty(fields)) {
    return ImmutableMap.of();
  }
  ImmutableMap.Builder<Field,DataType> map=ImmutableMap.builder();
  for (  Field field : fields) {
    if (isIgnored(field)) {
      continue;
    }
    map.put(field,getFieldDataType(field));
  }
  return map.build();
}
