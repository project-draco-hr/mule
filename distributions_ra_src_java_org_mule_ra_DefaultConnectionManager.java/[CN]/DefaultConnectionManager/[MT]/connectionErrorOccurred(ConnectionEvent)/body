{
  log.warn("Managed connection experiened an error: ",event.getException());
  try {
    ((ManagedConnection)event.getSource()).cleanup();
  }
 catch (  ResourceException e) {
    log.warn("Error occured during the cleanup of a managed connection: ",e);
  }
  try {
    ((ManagedConnection)event.getSource()).destroy();
  }
 catch (  ResourceException e) {
    log.warn("Error occured during the destruction of a managed connection: ",e);
  }
}
