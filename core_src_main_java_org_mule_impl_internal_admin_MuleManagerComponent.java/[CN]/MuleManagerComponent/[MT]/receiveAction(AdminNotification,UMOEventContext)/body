{
  UMOMessage result=null;
  try {
    UMOEndpointURI endpointUri=new MuleEndpointURI(action.getResourceIdentifier());
    UMOEndpoint endpoint=context.getManagementContext().getRegistry().getOrCreateEndpointForUri(endpointUri,UMOEndpoint.ENDPOINT_TYPE_SENDER);
    long timeout=MapUtils.getLongValue(action.getProperties(),MuleProperties.MULE_EVENT_TIMEOUT_PROPERTY,getSynchronousEventTimeout());
    UMOEndpointURI ep=new MuleEndpointURI(action.getResourceIdentifier());
    result=endpoint.getConnector().receive(ep,timeout);
    if (result != null) {
      UMOTransformer trans=((AbstractConnector)endpoint.getConnector()).getDefaultInboundTransformer();
      if (trans != null) {
        Object payload=trans.transform(result.getPayload());
        result=new MuleMessage(payload,result);
      }
      ByteArrayOutputStream out=new ByteArrayOutputStream();
      wireFormat.write(out,result,getEncoding());
      return out.toByteArray();
    }
 else {
      return null;
    }
  }
 catch (  Exception e) {
    return handleException(result,e);
  }
}
