{
  if (durableName == null) {
    return session.createConsumer(destination,messageSelector,noLocal);
  }
 else   if (destination instanceof Topic) {
    return session.createDurableSubscriber((Topic)destination,durableName,messageSelector,noLocal);
  }
 else {
    throw new JMSException("adurable subscriber name was set but the destination was not a Topic");
  }
}
