{
  Service service1=muleContext.getRegistry().lookupService("testService1");
  assertNotNull(service1);
  assertNotNull(service1.getExceptionListener());
  assertTrue(service1.getExceptionListener() instanceof DefaultServiceExceptionStrategy);
  assertEquals(1,((DefaultServiceExceptionStrategy)service1.getExceptionListener()).getEndpoints().size());
  MuleClient mc=new MuleClient();
  mc.dispatch("vm://in1","test",null);
  assertExceptionMessage(mc.request("vm://out1",FunctionalTestCase.RECEIVE_TIMEOUT));
}
