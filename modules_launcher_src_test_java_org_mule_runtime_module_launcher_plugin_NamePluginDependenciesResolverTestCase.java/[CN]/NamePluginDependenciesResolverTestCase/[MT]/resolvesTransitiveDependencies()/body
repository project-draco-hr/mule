{
  final List<ArtifactPluginDescriptor> pluginDescriptors=createPluginDescriptors(fooPlugin,barPlugin,bazPlugin);
  barPlugin.setPluginDependencies(singleton("baz"));
  bazPlugin.setPluginDependencies(singleton("foo"));
  final List<ArtifactPluginDescriptor> resolvedPluginDescriptors=dependenciesResolver.resolve(pluginDescriptors);
  assertResolvedPlugins(resolvedPluginDescriptors,fooPlugin,bazPlugin,barPlugin);
}
