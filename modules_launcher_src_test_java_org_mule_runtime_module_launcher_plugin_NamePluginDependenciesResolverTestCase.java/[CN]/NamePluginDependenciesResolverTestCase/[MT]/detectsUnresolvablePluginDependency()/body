{
  final List<ArtifactPluginDescriptor> pluginDescriptors=new ArrayList<>();
  fooPlugin.setPluginDependencies(singleton("bar"));
  pluginDescriptors.add(fooPlugin);
  expectedException.expect(PluginResolutionError.class);
  expectedException.expectMessage(createResolutionErrorMessage(singletonList(fooPlugin)));
  dependenciesResolver.resolve(pluginDescriptors);
}
