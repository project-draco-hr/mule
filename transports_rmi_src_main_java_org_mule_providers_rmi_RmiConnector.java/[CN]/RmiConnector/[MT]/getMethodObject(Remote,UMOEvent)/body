{
  UMOEndpointURI endpointUri=event.getEndpoint().getEndpointURI();
  String methodName=MapUtils.getString(endpointUri.getParams(),MuleProperties.MULE_METHOD_PROPERTY,null);
  if (null == methodName) {
    methodName=(String)event.getMessage().removeProperty(MuleProperties.MULE_METHOD_PROPERTY);
    if (null == methodName) {
      throw new DispatchException(RmiMessages.messageParamServiceMethodNotSet(),event.getMessage(),event.getEndpoint());
    }
  }
  Class[] argTypes;
  Object args=event.getMessage().getProperty(RmiConnector.PROPERTY_SERVICE_METHOD_PARAM_TYPES);
  if (args instanceof List) {
    argTypes=stringsToClasses((List)args);
  }
 else   if (args instanceof String) {
    argTypes=stringsToClasses(Arrays.asList(((String)args).split(",")));
  }
 else {
    argTypes=ClassUtils.getClassTypes(event.transformMessage());
  }
  try {
    return remoteObject.getClass().getMethod(methodName,argTypes);
  }
 catch (  NoSuchMethodException e) {
    throw new NoSuchMethodException(CoreMessages.methodWithParamsNotFoundOnObject(methodName,ArrayUtils.toString(argTypes),remoteObject.getClass()).toString());
  }
catch (  SecurityException e) {
    throw e;
  }
}
