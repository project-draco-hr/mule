{
  if (PropertyScope.INBOUND.equals(propertyScope)) {
    throw new UnsupportedOperationException(CoreMessages.inboundMessagePropertiesImmutable(key).getMessage());
  }
 else {
    Object previousValue=get(key);
    event.getMessage().setProperty(key,value,propertyScope);
    return previousValue;
  }
}
