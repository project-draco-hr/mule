{
  MuleMessage muleMessage;
  muleMessage=new DefaultMuleMessage(payload,muleContext);
  MuleEvent muleEvent;
  muleEvent=new DefaultMuleEvent(muleMessage,event);
  for (  String property : properties.keySet()) {
    muleEvent.setFlowVariable(property,properties.get(property));
  }
  return chain.process(muleEvent).getMessage().getPayload();
}
