{
  makeArchiveReadOnly();
  try {
    executeBaseTest(INBOUND_ENDPOINT3,"vm://test.upload3",FILE3_TXT,SEND_SIZE,"receiving3",TIMEOUT,"sftp");
    fail("Expected error");
  }
 catch (  Exception e) {
    assertNotNull(e);
    assertTrue(e instanceof IOException);
    assertEquals("Destination folder is not writeable: " + archiveCanonicalPath,e.getMessage());
  }
  MuleClient mc=new MuleClient(muleContext);
  assertNoFilesInEndpoint(mc,INBOUND_ENDPOINT3);
  assertNoFilesInEndpoint(mc,INBOUND_ENDPOINT3,TMP_RECEIVING);
  assertFilesInEndpoint(mc,INBOUND_ENDPOINT3,TMP_SENDING,FILE3_TMP_REGEXP);
  assertNoFilesInLocalFilesystem(archive);
}
