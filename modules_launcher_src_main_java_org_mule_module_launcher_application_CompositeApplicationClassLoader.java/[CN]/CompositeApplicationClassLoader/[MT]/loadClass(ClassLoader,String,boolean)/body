{
  try {
    Method findLibraryMethod=classLoader.getClass().getDeclaredMethod("loadClass",String.class,boolean.class);
    findLibraryMethod.setAccessible(true);
    return (Class<?>)findLibraryMethod.invoke(classLoader,s,b);
  }
 catch (  Exception e) {
    if (logger.isDebugEnabled()) {
      logger.debug(String.format("Error loading class '%s' from classloader",s,classLoader),e);
    }
  }
  throw new ClassNotFoundException(String.format("Cannot load class '%s'",s));
}
