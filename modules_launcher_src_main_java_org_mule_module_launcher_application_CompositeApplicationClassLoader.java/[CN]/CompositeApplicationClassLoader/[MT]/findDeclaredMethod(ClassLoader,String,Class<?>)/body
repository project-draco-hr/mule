{
  Class clazz=classLoader.getClass();
  while (clazz != null) {
    try {
      Method findLibraryMethod=clazz.getDeclaredMethod(methodName,params);
      findLibraryMethod.setAccessible(true);
      return findLibraryMethod;
    }
 catch (    NoSuchMethodException e) {
      clazz=clazz.getSuperclass();
    }
  }
  throw new NoSuchMethodException(String.format("Cannot find a method '%s' with the given parameter types '%s'",methodName,Arrays.toString(params)));
}
