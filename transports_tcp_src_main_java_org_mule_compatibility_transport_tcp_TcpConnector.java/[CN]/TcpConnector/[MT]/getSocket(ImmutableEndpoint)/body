{
  TcpSocketKey socketKey=new TcpSocketKey(endpoint);
  if (logger.isDebugEnabled()) {
    logger.debug("borrowing socket for " + socketKey + "/"+ socketKey.hashCode());
    if (null != lastSocketKey) {
      logger.debug("same as " + lastSocketKey.hashCode() + "? "+ lastSocketKey.equals(socketKey));
    }
  }
  Socket socket=(Socket)socketsPool.borrowObject(socketKey);
  if (logger.isDebugEnabled()) {
    logger.debug("borrowed socket, " + (socket.isClosed() ? "closed" : "open") + "; debt "+ socketsPool.getNumActive());
  }
  return socket;
}
