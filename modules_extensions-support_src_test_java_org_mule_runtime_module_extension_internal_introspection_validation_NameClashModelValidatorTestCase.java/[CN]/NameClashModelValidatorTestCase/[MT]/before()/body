{
  when(extensionModel.getName()).thenReturn("extensionName");
  when(extensionModel.getConfigurationModels()).thenReturn(singletonList(configurationModel));
  when(extensionModel.getOperationModels()).thenReturn(singletonList(operationModel));
  when(extensionModel.getConnectionProviders()).thenReturn(singletonList(connectionProviderModel));
  simpleConfigParam=getParameter(SIMPLE_PARAM_NAME,String.class);
  topLevelConfigParam=getParameter("topLevelConfigParam",Apple.class);
  simpleOperationParam=getParameter(SIMPLE_PARAM_NAME,String.class);
  topLevelOperationParam=getParameter(TOP_LEVEL_OPERATION_PARAM_NAME,Apple.class);
  simpleConnectionProviderParam=getParameter(SIMPLE_PARAM_NAME,String.class);
  topLevelConnectionProviderParam=getParameter("topLevelConnectionProviderParam",Apple.class);
  when(configurationModel.getName()).thenReturn(CONFIG_NAME);
  when(configurationModel.getParameterModels()).thenReturn(asList(simpleConfigParam,topLevelConfigParam));
  when(configurationModel.getOperationModels()).thenReturn(ImmutableList.of());
  when(configurationModel.getConnectionProviders()).thenReturn(ImmutableList.of());
  when(operationModel.getName()).thenReturn(OPERATION_NAME);
  when(operationModel.getParameterModels()).thenReturn(asList(simpleOperationParam,topLevelOperationParam));
  when(connectionProviderModel.getName()).thenReturn(CONNECTION_PROVIDER_NAME);
  when(connectionProviderModel.getParameterModels()).thenReturn(asList(simpleConnectionProviderParam,topLevelConnectionProviderParam));
}
