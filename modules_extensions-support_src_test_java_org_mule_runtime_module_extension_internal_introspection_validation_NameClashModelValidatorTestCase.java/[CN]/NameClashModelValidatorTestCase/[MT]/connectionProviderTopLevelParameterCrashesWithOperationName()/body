{
  exception.expect(IllegalModelDefinitionException.class);
  ParameterModel offending=getParameter(TOP_LEVEL_OPERATION_PARAM_NAME,Banana.class);
  when(connectionProviderModel.getParameterModels()).thenReturn(asList(simpleConnectionProviderParam,topLevelConnectionProviderParam,offending));
  validate();
}
