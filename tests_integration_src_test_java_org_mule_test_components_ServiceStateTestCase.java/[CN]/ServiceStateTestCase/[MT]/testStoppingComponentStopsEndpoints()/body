{
  Service c=muleContext.getRegistry().lookupService("startedComponent");
  assertTrue(c.isStarted());
  assertFalse(c.isStopped());
  assertFalse(c.isPaused());
  AbstractConnector connector=(AbstractConnector)muleContext.getRegistry().lookupConnector("connector.test.mule.default");
  assertNotNull(connector);
  assertTrue(connector.isStarted());
  MessageReceiver[] receivers=connector.getReceivers("*started*");
  assertEquals(1,receivers.length);
  assertTrue(receivers[0].isConnected());
  c.stop();
  assertFalse(c.isStarted());
  assertFalse(c.isPaused());
  assertTrue(c.isStopped());
  assertTrue(connector.isStarted());
  receivers=connector.getReceivers("*started*");
  assertEquals(0,receivers.length);
}
