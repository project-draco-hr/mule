{
  Service c=muleContext.getRegistry().lookupService("stoppedComponent");
  assertEquals("stopped",c.getInitialState());
  assertFalse(c.isStarted());
  assertTrue(c.isStopped());
  assertFalse(c.isPaused());
  AbstractConnector connector=(AbstractConnector)muleContext.getRegistry().lookupConnector("connector.test.mule.default");
  assertNotNull(connector);
  assertTrue(connector.isStarted());
  MessageReceiver[] receivers=connector.getReceivers("*stopped*");
  assertEquals(0,receivers.length);
  c.start();
  assertTrue(c.isStarted());
  assertFalse(c.isStopped());
  assertFalse(c.isPaused());
  assertTrue(connector.isStarted());
  receivers=connector.getReceivers("*stopped*");
  assertEquals(1,receivers.length);
  assertTrue(receivers[0].isConnected());
}
