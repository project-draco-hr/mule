{
  Path directoryPath=directory == null ? Paths.get(fileSystem.getBasePath()) : Paths.get(fileSystem.getBasePath()).resolve(directory).toAbsolutePath();
  return resolveExistingPath(directoryPath.toAbsolutePath().toString());
}
