{
  Service service=createUninitializedService();
  TestComponent component=(TestComponent)service.getComponent();
  List<Interceptor> interceptors=new ArrayList<Interceptor>();
  interceptors.add(new TestInterceptor(INTERCEPTOR_ONE));
  List<Interceptor> stackInterceptors=new ArrayList<Interceptor>();
  stackInterceptors.add(new TestInterceptor(INTERCEPTOR_TWO));
  stackInterceptors.add(new TestInterceptor(INTERCEPTOR_THREE));
  interceptors.add(new InterceptorStack(stackInterceptors));
  component.setInterceptors(interceptors);
  service.initialise();
  service.start();
  MuleEvent result=component.process(getTestEvent(""));
  assertEquals(MULTIPLE_INTERCEPTOR_RESULT,result.getMessageAsString());
}
