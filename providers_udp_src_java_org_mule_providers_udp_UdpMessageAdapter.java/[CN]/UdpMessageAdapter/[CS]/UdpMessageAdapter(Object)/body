{
  if (message instanceof DatagramPacket) {
    DatagramPacket dp=(DatagramPacket)message;
    this.message=new byte[dp.getLength()];
    ByteArrayInputStream bais=new ByteArrayInputStream(dp.getData());
    bais.read(this.message,0,dp.getLength());
    try {
      bais.close();
    }
 catch (    IOException e) {
    }
    setProperty(ADDRESS_PROPERTY,dp.getAddress());
    setProperty(PORT_PROPERTY,Integer.valueOf(dp.getPort()));
  }
 else {
    throw new MessageTypeNotSupportedException(message,getClass());
  }
}
