{
  validateMuleVersion(declaration);
  ValueHolder<ExtensionModel> extensionModelValueHolder=new ValueHolder<>();
  ExtensionModel extensionModel=new ImmutableExtensionModel(declaration.getName(),declaration.getDescription(),declaration.getVersion(),declaration.getVendor(),sortConfigurations(toConfigurations(declaration.getConfigurations(),extensionModelValueHolder)),alphaSortDescribedList(toOperations(declaration.getOperations())),toConnectionProviders(declaration.getConnectionProviders()),alphaSortDescribedList(toMessageSources(declaration.getMessageSources())),declaration.getModelProperties(),declaration.getExceptionEnricherFactory());
  extensionModelValueHolder.set(extensionModel);
  return extensionModel;
}
