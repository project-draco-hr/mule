{
  validateMuleVersion(declaration);
  ValueHolder<RuntimeExtensionModel> extensionModelValueHolder=new ValueHolder<>();
  RuntimeExtensionModel extensionModel=new ImmutableRuntimeExtensionModel(declaration.getName(),declaration.getDescription(),declaration.getVersion(),declaration.getVendor(),sortConfigurations(toConfigurations(declaration.getConfigurations(),extensionModelValueHolder)),alphaSortDescribedList(toOperations(declaration.getOperations())),toConnectionProviders(declaration.getConnectionProviders()),alphaSortDescribedList(toMessageSources(declaration.getMessageSources())),declaration.getModelProperties(),declaration.getExceptionEnricherFactory());
  extensionModelValueHolder.set(extensionModel);
  return extensionModel;
}
