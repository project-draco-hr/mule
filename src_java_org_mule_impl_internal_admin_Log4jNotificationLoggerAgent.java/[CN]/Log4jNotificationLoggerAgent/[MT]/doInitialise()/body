{
  if (logConfigFile != null) {
    if (logConfigFile.endsWith(".xml")) {
      DOMConfigurator.configure(logConfigFile);
    }
 else {
      PropertyConfigurator.configure(logConfigFile);
    }
  }
 else {
    try {
      eventLogger=Logger.getLogger(logName);
      if (logFile != null) {
        File f=new File(logFile);
        if (!f.exists()) {
          Utility.createFile(logFile);
        }
        Appender file=new RollingFileAppender(new PatternLayout("%5p %m%n"),logFile,true);
        eventLogger.addAppender(file);
      }
      if (chainsawPort > -1) {
        Appender chainsaw=new SocketAppender(chainsawHost,chainsawPort);
        eventLogger.addAppender(chainsaw);
      }
    }
 catch (    IOException e) {
      throw new InitialisationException(new Message(Messages.FAILED_LOAD_X,"Log4j configuration"),e,this);
    }
  }
}
