{
  String name=generateChildBeanName(element);
  element.setAttribute(ATTRIBUTE_NAME,name);
  if (getPropertyName(element) == null) {
    return;
  }
  PropertyValue pv;
  try {
    pv=getParentPropertyValue(element);
  }
 catch (  Exception e) {
    logger.warn("Skipping process for " + element,e);
    return;
  }
  if (isMap(element)) {
    if (pv == null) {
      pv=newParentPropertyValue(element,new ManagedMap());
    }
    ChildMapEntryDefinitionParser.KeyValuePair pair=(ChildMapEntryDefinitionParser.KeyValuePair)builder.getBeanDefinition().getSource();
    ((Map)pv.getValue()).put(pair.getKey(),pair.getValue());
  }
 else   if (isCollection(element)) {
    if (pv == null) {
      pv=newParentPropertyValue(element,new ManagedList());
    }
    List list=(List)pv.getValue();
    Object source=builder.getBeanDefinition().getSource();
    if (source instanceof ChildListEntryDefinitionParser.ListEntry) {
      ChildListEntryDefinitionParser.ListEntry listEntry=(ChildListEntryDefinitionParser.ListEntry)source;
      list.add(listEntry.getProxiedObject());
    }
 else {
      list.add(builder.getBeanDefinition());
    }
  }
 else {
    pv=newParentPropertyValue(element,builder.getBeanDefinition());
  }
  addParentPropertyValue(element,pv);
}
