{
  OutboundEndpoint endpoint=createRequestResponseEndpoint("test://localhost:#[message.outboundProperties.port]");
  assertTrue(endpoint instanceof DynamicOutboundEndpoint);
  MuleEvent event=getTestEvent("test",getTestInboundEndpoint("test1"));
  event.getMessage().setOutboundProperty("port",12345);
  MuleEvent response=endpoint.process(event);
  assertEquals("test://test",response.getMessageSourceURI().toString());
}
