{
  Mockito.reset(this.adapter);
  final String consumerKey="consumerKey";
  final String consumerSecret="consumerSecret";
  final OAuthMessageSigner signer=new HmacSha1MessageSigner();
  final SigningStrategy signingStrategy=new AuthorizationHeaderSigningStrategy();
  Mockito.when(this.adapter.getConsumerKey()).thenReturn(consumerKey);
  Mockito.when(this.adapter.getConsumerSecret()).thenReturn(consumerSecret);
  Mockito.when(this.adapter.getSigningStrategy()).thenReturn(signingStrategy);
  Mockito.when(this.adapter.getMessageSigner()).thenReturn(signer);
  DefaultOAuthConsumer consumer=(DefaultOAuthConsumer)this.manager.getConsumer(this.adapter);
  Assert.assertEquals(consumer.getConsumerKey(),consumerKey);
  Assert.assertEquals(consumer.getConsumerSecret(),consumerSecret);
  Mockito.verify(this.adapter).setConsumer(consumer);
}
