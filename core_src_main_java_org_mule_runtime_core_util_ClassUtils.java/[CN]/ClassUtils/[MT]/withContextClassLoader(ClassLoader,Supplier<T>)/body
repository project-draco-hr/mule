{
  final Thread currentThread=Thread.currentThread();
  final ClassLoader currentClassLoader=currentThread.getContextClassLoader();
  currentThread.setContextClassLoader(classLoader);
  try {
    return supplier.get();
  }
  finally {
    currentThread.setContextClassLoader(currentClassLoader);
  }
}
