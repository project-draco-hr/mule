{
  List<Method> result=new ArrayList<Method>();
  if (ignoredMethodNames == null) {
    ignoredMethodNames=Collections.emptySet();
  }
  Method[] methods=implementation.getMethods();
  for (int i=0; i < methods.length; i++) {
    Method method=methods[i];
    Class returns=method.getReturnType();
    if (compare(new Class[]{returns},new Class[]{returnType},matchOnObject)) {
      if (!ignoredMethodNames.contains(method.getName())) {
        result.add(method);
      }
    }
  }
  return result;
}
