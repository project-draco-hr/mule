{
  String tempDir=getTempDirOutbound();
  String tempDirAbs=sftpClient.getAbsolutePath(endpointDir + "/" + tempDir);
synchronized (lock) {
    try {
      sftpClient.changeWorkingDirectory(tempDirAbs);
    }
 catch (    IOException e) {
      logger.info("Got an exception when trying to change the working directory to the temp dir. " + "Will try to create the directory " + tempDirAbs);
      sftpClient.changeWorkingDirectory(endpointDir);
      sftpClient.mkdir(tempDir);
      sftpClient.changeWorkingDirectory(tempDirAbs);
    }
  }
}
