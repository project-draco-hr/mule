{
  if (connector != null && endpointUri != null && !connector.supportsProtocol(endpointUri.getFullScheme())) {
    throw new IllegalArgumentException(CoreMessages.connectorSchemeIncompatibleWithEndpointScheme(connector.getProtocol(),endpointUri).getMessage());
  }
  if (endpointUri == null) {
    throw new NullPointerException(CoreMessages.objectIsNull("endpointURI").getMessage());
  }
  this.endpointUri=endpointUri;
  if (endpointUri != null) {
    properties.putAll(endpointUri.getParams());
  }
  try {
    endpointUri.initialise();
  }
 catch (  InitialisationException e) {
    throw new EndpointException(e);
  }
}
