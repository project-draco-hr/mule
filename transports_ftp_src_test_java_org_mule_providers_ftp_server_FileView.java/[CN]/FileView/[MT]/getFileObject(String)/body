{
  logger.debug("request for: " + name);
  if (state.getDownloadNames().contains(name)) {
    return new DownloadFile(name,state);
  }
 else   if (null != name && name.endsWith("/")) {
    return new Directory(name,state);
  }
 else {
    return new UploadFile(name,state);
  }
}
