{
  OutboundEndpoint endpoint=createTestOutboundEndpoint(null,null);
  MessageProcessor mp=new OutboundEndpointPropertyMessageProcessor(endpoint);
  MuleEvent event=mp.process(createTestOutboundEvent());
  assertEquals(endpoint.getEndpointURI().getUri().toString(),event.getMessage().getOutboundProperty(MuleProperties.MULE_ENDPOINT_PROPERTY));
  assertSame(event,RequestContext.getEvent());
}
