{
  Set<ConnectionProviderModel> globalConnectionProviders=new HashSet<>();
  Multimap<ConfigurationModel,ConnectionProviderModel> configLevelConnectionProviders=HashMultimap.create();
  new ExtensionWalker(){
    @Override public void onConnectionProvider(    HasConnectionProviderModels owner,    ConnectionProviderModel model){
      validateTransactions(extensionModel,(RuntimeConnectionProviderModel)model);
      if (owner instanceof ConfigurationModel) {
        configLevelConnectionProviders.put((ConfigurationModel)owner,model);
      }
 else {
        globalConnectionProviders.add(model);
      }
    }
  }
.walk(extensionModel);
  validateGlobalConnectionTypes(extensionModel,globalConnectionProviders);
  validateConfigLevelConnectionTypes(extensionModel,configLevelConnectionProviders);
}
