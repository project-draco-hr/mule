{
  CopyPropertiesTransformer copyPropertiesTransformer=createCopyPropertiesTransformer("MULE_*");
  muleMessage.setInboundProperty("MULE_ID",PROPERTY_VALUE,PROPERTY_DATA_TYPE);
  muleMessage.setInboundProperty("MULE_CORRELATION_ID",PROPERTY_VALUE,PROPERTY_DATA_TYPE);
  muleMessage.setInboundProperty("MULE_GROUP_ID",PROPERTY_VALUE,PROPERTY_DATA_TYPE);
  muleMessage.setInboundProperty("SomeVar",PROPERTY_VALUE,PROPERTY_DATA_TYPE);
  final MuleMessage transformed=(MuleMessage)copyPropertiesTransformer.transform(muleMessage,ENCODING);
  assertThat(transformed.getOutboundProperty("SomeVar"),is(nullValue()));
  assertThat(transformed.getOutboundProperty("MULE_ID"),is(PROPERTY_VALUE));
  assertThat(transformed.getOutboundProperty("MULE_CORRELATION_ID"),is(PROPERTY_VALUE));
  assertThat(transformed.getOutboundProperty("MULE_GROUP_ID"),is(PROPERTY_VALUE));
}
