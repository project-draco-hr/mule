{
  MuleDescriptor descriptor=new MuleDescriptor();
  descriptor.setName(name);
  descriptor.setImplementationInstance(component);
  descriptor.setOutboundRouter(new OutboundRouterCollection());
  OutboundPassThroughRouter router=new OutboundPassThroughRouter();
  router.addEndpoint(listenerEndpoint);
  descriptor.getOutboundRouter().addRouter(router);
  descriptor.setInboundRouter(new InboundRouterCollection());
  descriptor.getInboundRouter().addEndpoint(sendEndpoint);
  managementContext.getRegistry().registerService(descriptor);
  return descriptor;
}
