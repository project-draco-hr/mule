{
  MuleDescriptor descriptor=new MuleDescriptor();
  descriptor.setImplementation(implementation);
  descriptor.setName(name);
  if (properties != null) {
    descriptor.getProperties().putAll(properties);
  }
  descriptor.setOutboundRouter(new OutboundRouterCollection());
  OutboundPassThroughRouter router=new OutboundPassThroughRouter();
  router.addEndpoint(outboundEndpoint);
  descriptor.getOutboundRouter().addRouter(router);
  descriptor.setInboundRouter(new InboundRouterCollection());
  descriptor.getInboundRouter().addEndpoint(inboundEndpoint);
  return descriptor;
}
