{
  Object enrichedContent=event.getMessage().getInvocationProperty("enrichedContent");
  assertThat((String)enrichedContent,is("some message received by subflow"));
  assertThat(event.getSession().<String>getProperty("subFlowSessionProperty"),is("someValue"));
  assertThat(event.getMessage().<String>getProperty("subFlowSessionProperty",SESSION),is("someValue"));
  assertThat(event.getSession().<String>getProperty("mainFlowSessionProperty"),is("someValue"));
  return event;
}
