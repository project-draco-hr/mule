{
  if (bpms == null) {
    try {
      bpms=muleContext.getRegistry().lookupObject(BPMS.class);
    }
 catch (    Exception e) {
      throw new InitialisationException(e,this);
    }
  }
  if (bpms == null) {
    throw new InitialisationException(MessageFactory.createStaticMessage("The bpms property must be set for this component."),this);
  }
  if (bpms instanceof Initialisable) {
    ((Initialisable)bpms).initialise();
  }
  process=new Process(bpms,name,resource,flowConstruct);
  process.initialise();
  bpms.setMessageService(process);
}
