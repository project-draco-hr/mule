{
  DefaultMuleEvent event=getTestHttpEvent("");
  MuleMessage message=event.getMessage();
  MuleHttpServletResponse response=new MuleHttpServletResponse(event);
  response.setStatus(404);
  assertEquals(404,message.getOutboundProperty(HttpConnector.HTTP_STATUS_PROPERTY));
  response.setStatus(200,"status message");
  assertEquals(200,message.getOutboundProperty(HttpConnector.HTTP_STATUS_PROPERTY));
  response.setContentType("application/octet-stream");
  assertEquals("application/octet-stream",message.getOutboundProperty(HttpConstants.HEADER_CONTENT_TYPE));
  assertEquals("application/octet-stream",response.getContentType());
  response.setHeader("X-Test","value");
  assertTrue(response.containsHeader("X-Test"));
  assertEquals("value",message.getOutboundProperty("X-Test"));
  response.setDateHeader("X-Date",0);
  assertEquals("Wed, 31 Dec 1969 00:00:00 GMT",message.getOutboundProperty("X-Date"));
  response.sendRedirect("http://anotherplace");
  assertEquals("http://anotherplace",message.getOutboundProperty("Location"));
  assertEquals(302,message.getOutboundProperty(HttpConnector.HTTP_STATUS_PROPERTY));
}
