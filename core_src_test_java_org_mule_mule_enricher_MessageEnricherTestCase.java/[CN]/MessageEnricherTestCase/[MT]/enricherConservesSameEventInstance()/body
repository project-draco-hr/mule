{
  MessageEnricher enricher=new MessageEnricher();
  enricher.setMuleContext(muleContext);
  enricher.addEnrichExpressionPair(new EnrichExpressionPair("#[sessionVars['foo']]"));
  SensingNullMessageProcessor sensingNullMessageProcessor=new SensingNullMessageProcessor();
  enricher.setEnrichmentMessageProcessor(sensingNullMessageProcessor);
  MuleEvent in=new DefaultMuleEvent(new DefaultMuleMessage(TEST_MESSAGE,muleContext),MessageExchangePattern.REQUEST_RESPONSE,mock(Flow.class));
  MuleEvent out=enricher.process(in);
  assertThat(out,is(sameInstance(in)));
  assertThat(sensingNullMessageProcessor.event,not(sameInstance(in)));
}
