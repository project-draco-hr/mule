{
  File tempJar=File.createTempFile(ackJarName,null);
  File licenseFile=new File(muleHome,licenseFileName);
  JarOutputStream newJar=null;
  String ackData="LicenseType=" + licenseType + "\n";
  ackData+="LicenseVersion=" + licenseVersion + "\n";
  ackData+="LicenseDate=" + (new java.util.Date()).toString() + "\n";
  try {
    newJar=new JarOutputStream(new FileOutputStream(tempJar));
  }
 catch (  IOException ioe) {
    throw new Exception("Unable to create temporary jar file");
  }
  byte buffer[]=new byte[1024];
  int bytesRead;
  FileInputStream fis=null;
  try {
    fis=new FileInputStream(licenseFile);
    JarEntry entry=new JarEntry(ackFileName);
    newJar.putNextEntry(entry);
    newJar.write(ackData.getBytes(),0,ackData.getBytes().length);
    entry=new JarEntry(ackLicenseName);
    newJar.putNextEntry(entry);
    while ((bytesRead=fis.read(buffer)) != -1) {
      newJar.write(buffer,0,bytesRead);
    }
  }
 catch (  IOException ioe) {
    throw new Exception("Unable to write " + ackFileName + " to temporary jar file");
  }
 finally {
    if (fis != null) {
      try {
        fis.close();
      }
 catch (      Exception e) {
      }
    }
  }
  try {
    newJar.close();
  }
 catch (  IOException ioe) {
    throw new Exception("Unable to close temporary jar file");
  }
  return tempJar;
}
