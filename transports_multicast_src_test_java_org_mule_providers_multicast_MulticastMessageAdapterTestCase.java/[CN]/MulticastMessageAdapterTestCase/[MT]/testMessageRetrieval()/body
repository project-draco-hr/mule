{
  Object message=getValidMessage();
  UMOMessageAdapter adapter=createAdapter(message);
  assertEquals(new String(((DatagramPacket)message).getData()),adapter.getPayloadAsString());
  byte[] bytes=adapter.getPayloadAsBytes();
  assertNotNull(bytes);
  String stringMessage=adapter.getPayloadAsString();
  assertNotNull(stringMessage);
  assertNotNull(adapter.getPayload());
  try {
    adapter=createAdapter(getInvalidMessage());
    fail("Message adapter should throw exception if an invalid messgae is set");
  }
 catch (  Exception e) {
  }
}
