{
  errorFilter.jsonErrorFilter("<message>hello</message>",MimeTypes.XML);
  try {
    errorFilter.jsonErrorFilter("<message><error>1234</error><errorMsg>it didnt work dude</errorMsg></message>",MimeTypes.XML);
    fail("Error should have been caught");
  }
 catch (  CallException e) {
    assertEquals("1234",e.getErrorCode());
    assertTrue(e.getMessage().contains("it didnt work dude"));
  }
  try {
    errorFilter.jsonErrorFilter("<message><errorMsg>it didnt work dude</errorMsg></message>",MimeTypes.XML);
    fail("Error should have been caught");
  }
 catch (  CallException e) {
    assertTrue(e.getMessage().contains("it didnt work dude"));
  }
}
