{
  errorFilter.jsonErrorFilter("{\"message\" : \"hello\"}",MimeTypes.JSON);
  try {
    errorFilter.jsonErrorFilter("{\"message\" : {\"error\" : 1234, \"errorMsg\" : \"it didnt work dude\"}}",MimeTypes.JSON);
    fail("Error should have been caught");
  }
 catch (  CallException e) {
    assertEquals("1234",e.getErrorCode());
    assertTrue(e.getMessage().contains("it didnt work dude"));
  }
  try {
    errorFilter.jsonErrorFilter("{\"message\" : {\"errorMsg\" : \"it didnt work dude\"}}",MimeTypes.JSON);
    fail("Error should have been caught");
  }
 catch (  CallException e) {
    assertTrue(e.getMessage().contains("it didnt work dude"));
  }
}
