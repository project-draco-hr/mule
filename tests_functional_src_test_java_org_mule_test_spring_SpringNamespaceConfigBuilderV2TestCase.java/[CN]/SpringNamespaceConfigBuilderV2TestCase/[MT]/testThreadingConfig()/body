{
  ThreadingProfile tp=RegistryContext.getConfiguration().getDefaultThreadingProfile();
  assertEquals(0,tp.getMaxBufferSize());
  assertEquals(8,tp.getMaxThreadsActive());
  assertEquals(4,tp.getMaxThreadsIdle());
  assertEquals(0,tp.getPoolExhaustedAction());
  assertEquals(60001,tp.getThreadTTL());
  tp=RegistryContext.getConfiguration().getDefaultComponentThreadingProfile();
  assertEquals(0,tp.getMaxBufferSize());
  assertEquals(8,tp.getMaxThreadsActive());
  assertEquals(4,tp.getMaxThreadsIdle());
  assertEquals(0,tp.getPoolExhaustedAction());
  assertEquals(60001,tp.getThreadTTL());
  AbstractConnector c=(AbstractConnector)managementContext.getRegistry().lookupConnector("dummyConnector");
  tp=c.getDispatcherThreadingProfile();
  assertEquals(2,tp.getMaxBufferSize());
  assertEquals(8,tp.getMaxThreadsActive());
  assertEquals(4,tp.getMaxThreadsIdle());
  assertEquals(0,tp.getPoolExhaustedAction());
  assertEquals(60001,tp.getThreadTTL());
  MuleDescriptor descriptor=(MuleDescriptor)managementContext.getRegistry().lookupService("appleComponent2");
  tp=descriptor.getThreadingProfile();
  assertEquals(6,tp.getMaxBufferSize());
  assertEquals(12,tp.getMaxThreadsActive());
  assertEquals(6,tp.getMaxThreadsIdle());
  assertEquals(0,tp.getPoolExhaustedAction());
  assertEquals(60001,tp.getThreadTTL());
}
