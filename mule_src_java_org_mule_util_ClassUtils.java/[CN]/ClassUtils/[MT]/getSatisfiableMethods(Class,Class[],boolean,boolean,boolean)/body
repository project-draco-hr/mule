{
  List result=new ArrayList();
  List methods=Arrays.asList(implementation.getMethods());
  for (Iterator iterator=methods.iterator(); iterator.hasNext(); ) {
    Method method=(Method)iterator.next();
    Class[] methodParams=method.getParameterTypes();
    if (compare(methodParams,parameterTypes,matchOnObject)) {
      if ((method.getName().equals("equals") && !ignoreEquals) || !method.getName().equals("equals")) {
        if ((method.getReturnType().getName().equals("void") && voidOk) || !method.getReturnType().getName().equals("void")) {
          result.add(method);
        }
      }
    }
  }
  return result;
}
