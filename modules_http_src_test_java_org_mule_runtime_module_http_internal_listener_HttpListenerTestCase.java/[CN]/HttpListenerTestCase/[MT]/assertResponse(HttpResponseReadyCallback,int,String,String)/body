{
  ArgumentCaptor<HttpResponse> responseCaptor=ArgumentCaptor.<HttpResponse>forClass(HttpResponse.class);
  verify(responseCallback).responseReady(responseCaptor.capture(),any(ResponseStatusCallback.class));
  assertThat(responseCaptor.getValue().getStatusCode(),is(statusCode));
  assertThat(responseCaptor.getValue().getReasonPhrase(),is(reason));
  assertThat(((ByteArrayHttpEntity)responseCaptor.getValue().getEntity()).getContent(),is(body.getBytes()));
}
