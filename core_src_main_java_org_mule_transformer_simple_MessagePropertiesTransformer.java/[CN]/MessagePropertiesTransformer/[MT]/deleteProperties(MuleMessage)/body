{
  final Set<String> props=new HashSet<String>(message.getPropertyNames(scope));
  for (  String expression : deleteProperties) {
    for (    String name : props) {
      if (name.matches(expression)) {
        if (logger.isDebugEnabled()) {
          logger.debug(String.format("Removing property: '%s' from scope: '%s'",name,scope.getScopeName()));
        }
        message.removeProperty(name,scope);
      }
 else {
        WildcardFilter filter=new WildcardFilter(expression);
        if (filter.accept(name)) {
          message.removeProperty(name,scope);
        }
      }
    }
  }
}
