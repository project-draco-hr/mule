{
  Set<String> propNameSet=getPropertiesFromMessage(message);
  for (Iterator iterator=deleteProperties.iterator(); iterator.hasNext(); ) {
    String expression=iterator.next().toString();
    for (    String propName : propNameSet) {
      if (Pattern.matches(expression,propName)) {
        if (logger.isDebugEnabled()) {
          logger.debug(String.format("Removing property: '%s' from scope: '%s'",propName,(scope == null) ? "all" : scope.getScopeName()));
        }
        message.removeProperty(propName,scope);
      }
    }
  }
}
