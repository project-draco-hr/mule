{
  if (returnType != null) {
    DataType dt=dataTypeFactory.create(object.getClass());
    if (!returnType.isCompatibleWith(dt)) {
      throw new TransformerException(CoreMessages.transformUnexpectedType(dt,returnType),this);
    }
  }
  if (logger.isDebugEnabled()) {
    logger.debug("The transformed object is of expected type. Type is: " + ClassUtils.getSimpleName(object.getClass()));
  }
  return object;
}
