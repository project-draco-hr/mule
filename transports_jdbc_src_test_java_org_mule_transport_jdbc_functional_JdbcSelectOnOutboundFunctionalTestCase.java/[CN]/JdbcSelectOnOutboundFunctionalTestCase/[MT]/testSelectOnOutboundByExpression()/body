{
  MuleClient client=muleContext.getClient();
  MyMessage payload=new MyMessage(2);
  MuleMessage reply=client.send("vm://terra",new DefaultMuleMessage(payload,muleContext));
  assertNotNull(reply.getPayload());
  assertTrue(reply.getPayload() instanceof List);
  List<?> resultList=(List<?>)reply.getPayload();
  assertTrue(resultList.size() == 1);
  assertTrue(resultList.get(0) instanceof Map);
  Map<?,?> resultMap=(Map<?,?>)resultList.get(0);
  assertEquals(new Integer(2),resultMap.get("TYPE"));
  assertEquals(TEST_VALUES[1],resultMap.get("DATA"));
}
