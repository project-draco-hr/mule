{
  boolean ok=super.performOk();
  if (ok) {
    String newExternalMuleRoot=getPreferenceStore().getString(IPreferenceConstants.EXTERNAL_MULE_ROOT);
    boolean externalMuleRootChanged=((getInitialExternalMuleRoot() == null) || (!getInitialExternalMuleRoot().equals(newExternalMuleRoot)));
    if (externalMuleRootChanged) {
      try {
        MuleCorePlugin.getDefault().updateExternalMuleRootVariable();
      }
 catch (      MuleModelException e) {
        MulePlugin.getDefault().showError(e.getMessage(),e.getStatus());
      }
    }
    String newClasspathType=getPreferenceStore().getString(IPreferenceConstants.MULE_CLASSPATH_TYPE);
    boolean classpathTypeChanged=((getInitialClasspathType() == null) || (!getInitialClasspathType().equals(newClasspathType)));
    if (classpathTypeChanged) {
      updateClasspathForMuleProjects();
    }
  }
  return ok;
}
