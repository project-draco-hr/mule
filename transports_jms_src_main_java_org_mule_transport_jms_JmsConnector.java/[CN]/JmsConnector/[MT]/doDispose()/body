{
  if (connection != null) {
    try {
      connection.close();
    }
 catch (    JMSException e) {
      logger.error("Jms connector failed to dispose properly: ",e);
    }
    connection=null;
  }
  if (connectionFactory != null && connectionFactory instanceof BitronixConnectionFactoryWrapper) {
    ((BitronixConnectionFactoryWrapper)connectionFactory).close();
  }
  if (jndiNameResolver != null) {
    jndiNameResolver.dispose();
  }
}
