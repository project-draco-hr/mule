{
  if (connection != null) {
    try {
      connection.close();
    }
 catch (    JMSException e) {
      logger.error("Jms connector failed to dispose properly: ",e);
    }
    connection=null;
  }
  if (connectionFactory instanceof Disposable) {
    ((Disposable)connectionFactory).dispose();
  }
  if (jndiNameResolver != null) {
    jndiNameResolver.dispose();
  }
}
