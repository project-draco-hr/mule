{
  if (muleContext.isPrimaryPollingInstance() || clientId == null) {
    super.connect();
  }
 else {
    muleContext.registerListener(new ClusterNodeNotificationListener<ClusterNodeNotification>(){
      @Override public void onNotification(      ClusterNodeNotification notification){
        try {
          JmsConnector.this.connect();
        }
 catch (        Exception e) {
          throw new MuleRuntimeException(e);
        }
      }
    }
);
  }
}
