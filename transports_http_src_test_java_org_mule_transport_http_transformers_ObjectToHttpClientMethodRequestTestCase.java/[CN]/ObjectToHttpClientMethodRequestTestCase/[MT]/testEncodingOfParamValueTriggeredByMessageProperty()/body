{
  String encodedPayload="encoded%20payload";
  MuleMessage message=setupRequestContext("http://mycompany.com/","GET");
  message.setOutboundProperty(HttpConnector.HTTP_ENCODE_PARAMVALUE,false);
  message.setOutboundProperty(HttpConnector.HTTP_GET_BODY_PARAM_PROPERTY,"body");
  message.setPayload(encodedPayload);
  ObjectToHttpClientMethodRequest transformer=createTransformer();
  Object result=transformer.transform(message);
  assertTrue(result instanceof GetMethod);
  String expected="body=" + encodedPayload;
  assertEquals(expected,((GetMethod)result).getQueryString());
}
