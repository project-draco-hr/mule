{
  logger.info("Tomcat init start");
  try {
    tomcat=new Embedded();
    Engine engine=tomcat.createEngine();
    engine.setName("MuleTestTomcatEngine");
    engine.setDefaultHost("localhost");
    host=(StandardHost)tomcat.createHost("localhost",baseDir + "/apps");
    host.setWorkDir(workDir);
    engine.addChild(host);
    tomcat.addEngine(engine);
    Connector connector=tomcat.createConnector((InetAddress)null,port,false);
    tomcat.addConnector(connector);
    logger.info("Tomcat is ready to start");
    readyToStart=true;
  }
 catch (  Exception e) {
    logger.error(e);
  }
}
