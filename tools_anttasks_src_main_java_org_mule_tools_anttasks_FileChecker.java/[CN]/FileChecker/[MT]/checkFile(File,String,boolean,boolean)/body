{
  if (file == null) {
    throw new BuildException(MessageFormat.format("No {0} specified",parameterName),getLocation());
  }
  if (!file.exists()) {
    throw new BuildException(MessageFormat.format("{0} \"{1}\" does not exist",parameterName,file),getLocation());
  }
  if (!file.canRead()) {
    throw new BuildException(MessageFormat.format("{0} \"{1}\" is not readable",parameterName,file),getLocation());
  }
  if (needWrite && !file.canWrite()) {
    throw new BuildException(MessageFormat.format("{0} \"{1}\" is not writable",parameterName,file),getLocation());
  }
  if (isDirectory) {
    if (!file.isDirectory()) {
      throw new BuildException(MessageFormat.format("{0} \"{1}\" is not a directory",parameterName,file),getLocation());
    }
  }
 else {
    if (file.isDirectory()) {
      throw new BuildException(MessageFormat.format("{0} \"{1}\" is a directory",parameterName,file),getLocation());
    }
  }
}
