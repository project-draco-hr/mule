{
  try {
    EndpointMessageNotification beginNotification=null;
    if (connector.isEnableMessageEvents()) {
      MuleMessage dummyMessage=MuleMessage.builder().payload(NullPayload.getInstance()).build();
      beginNotification=new EndpointMessageNotification(dummyMessage,endpoint,null,MESSAGE_REQUEST_BEGIN);
    }
    connect();
    MuleMessage result=doRequest(timeout);
    MuleMessage.Builder builder;
    if (result != null) {
      builder=MuleMessage.builder(result);
    }
 else {
      builder=MuleMessage.builder().payload(NullPayload.getInstance());
    }
    if (result != null) {
      String rootId=result.getInboundProperty(MULE_ROOT_MESSAGE_ID_PROPERTY);
      if (rootId != null) {
        builder.rootId(rootId);
        builder.removeInboundProperty(MULE_ROOT_MESSAGE_ID_PROPERTY);
      }
      if (beginNotification != null) {
        builder.rootId(beginNotification.getSource().getMessageRootId());
      }
      result=builder.build();
      if (!endpoint.isDisableTransportTransformer()) {
        result=applyInboundTransformers(result);
      }
      if (beginNotification != null) {
        connector.fireNotification(beginNotification);
        connector.fireNotification(new EndpointMessageNotification(result,endpoint,null,MESSAGE_REQUEST_END));
      }
    }
    return result;
  }
 catch (  ReceiveException e) {
    disposeAndLogException();
    throw e;
  }
catch (  Exception e) {
    disposeAndLogException();
    throw new ReceiveException(endpoint,timeout,e);
  }
}
