{
  final Object message=ctx.getMessage();
  if (message instanceof HttpTransactionContext) {
    ctx.setMessage(null);
    if (!sendAsGrizzlyRequest((HttpTransactionContext)message,ctx)) {
      return ctx.getSuspendAction();
    }
 else {
      return ctx.getStopAction();
    }
  }
  return ctx.getInvokeAction();
}
