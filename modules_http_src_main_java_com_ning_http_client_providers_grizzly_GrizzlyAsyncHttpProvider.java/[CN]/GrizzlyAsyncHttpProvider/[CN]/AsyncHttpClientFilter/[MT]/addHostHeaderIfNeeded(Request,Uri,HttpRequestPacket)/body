{
  if (!requestPacket.containsHeader(Header.Host)) {
    String host=request.getVirtualHost();
    if (host != null) {
      requestPacket.addHeader(Header.Host,host);
    }
 else {
      if (uri.getPort() == -1) {
        requestPacket.addHeader(Header.Host,uri.getHost());
      }
 else {
        requestPacket.addHeader(Header.Host,uri.getHost() + ':' + uri.getPort());
      }
    }
  }
}
