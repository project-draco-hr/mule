{
  Flow flowService=muleContext.getRegistry().lookupObject("service");
  InboundEndpoint endpoint=(InboundEndpoint)flowService.getMessageSource();
  assertFalse(endpoint.getMessageProcessors().isEmpty());
  assertEquals(2,endpoint.getMessageProcessors().size());
  checkNames("normal",endpoint.getMessageProcessors());
  assertFalse(endpoint.getResponseMessageProcessors().isEmpty());
  final List<Processor> messageProcessors=((InterceptingChainLifecycleWrapper)endpoint.getResponseMessageProcessors().get(0)).getMessageProcessors();
  assertEquals(2,messageProcessors.size());
  checkNames("response",messageProcessors);
}
