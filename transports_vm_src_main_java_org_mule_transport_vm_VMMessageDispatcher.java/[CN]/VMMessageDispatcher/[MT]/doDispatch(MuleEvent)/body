{
  EndpointURI endpointUri=endpoint.getEndpointURI();
  event.transformMessage();
  if (endpointUri == null) {
    throw new DispatchException(CoreMessages.objectIsNull("Endpoint"),event.getMessage(),event.getEndpoint());
  }
  QueueSession session=connector.getQueueSession();
  Queue queue=session.getQueue(endpointUri.getAddress());
  if (!queue.offer(event,connector.getQueueTimeout())) {
    throw new DispatchException(VMMessages.queueIsFull(queue.getName(),queue.size()),event.getMessage(),event.getEndpoint());
  }
  if (logger.isDebugEnabled()) {
    logger.debug("dispatched MuleEvent on endpointUri: " + endpointUri);
  }
}
