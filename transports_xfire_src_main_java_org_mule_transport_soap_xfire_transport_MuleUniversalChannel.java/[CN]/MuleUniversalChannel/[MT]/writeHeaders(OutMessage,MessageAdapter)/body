{
  msg.setProperty(HttpConstants.HEADER_CONTENT_TYPE,getSoapMimeType(message));
  msg.setProperty(SoapConstants.SOAP_ACTION,message.getProperty(SoapConstants.SOAP_ACTION));
  for (Iterator iterator=msg.getPropertyNames().iterator(); iterator.hasNext(); ) {
    String headerName=(String)iterator.next();
    Object headerValue=msg.getStringProperty(headerName,null);
    if ((!headerName.startsWith(MuleProperties.PROPERTY_PREFIX) || (MuleProperties.MULE_USER_PROPERTY.compareTo(headerName) == 0)) && (!HttpConstants.HEADER_CONTENT_TYPE.equalsIgnoreCase(headerName)) && (!HttpConstants.HEADER_CONTENT_LENGTH.equalsIgnoreCase(headerName))) {
      msg.setProperty(headerName,headerValue);
    }
  }
}
