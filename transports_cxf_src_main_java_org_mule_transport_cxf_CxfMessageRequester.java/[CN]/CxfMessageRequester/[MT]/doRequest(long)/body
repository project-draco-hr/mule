{
  ((ClientImpl)wrapper.getClient()).setSynchronousTimeout((int)timeout);
  String method=(String)endpoint.getProperty(MuleProperties.MULE_METHOD_PROPERTY);
  if (method == null) {
    method=(String)endpoint.getProperty(CxfConstants.OPERATION);
  }
  Properties params=endpoint.getEndpointURI().getUserParams();
  Object args[]=new Object[params.size()];
  int i=0;
  for (Iterator<Object> iterator=params.values().iterator(); iterator.hasNext(); i++) {
    args[i]=iterator.next().toString();
  }
  Object[] response=wrapper.getClient().invoke(method,args);
  if (response != null && response.length == 1) {
    return new DefaultMuleMessage(response[0]);
  }
 else {
    return new DefaultMuleMessage(response);
  }
}
