{
  EndpointURI endpointUri=new MuleEndpointURI("http://admin:pwd@localhost:8080/app/path?${foo}",muleContext);
  endpointUri.initialise();
  assertEquals("http",endpointUri.getScheme());
  assertEquals("http://localhost:8080/app/path?$[foo]",endpointUri.getAddress());
  assertNull(endpointUri.getEndpointName());
  assertEquals(8080,endpointUri.getPort());
  assertEquals("localhost",endpointUri.getHost());
  assertEquals(endpointUri.getPath(),"/app/path");
  assertEquals(endpointUri.getQuery(),"$[foo]");
  assertEquals(1,endpointUri.getParams().size());
  assertEquals("admin:pwd",endpointUri.getUserInfo());
  assertEquals("admin",endpointUri.getUser());
  assertEquals("pwd",endpointUri.getPassword());
  assertEquals("http://admin:****@localhost:8080/app/path?$[foo]",endpointUri.toString());
}
