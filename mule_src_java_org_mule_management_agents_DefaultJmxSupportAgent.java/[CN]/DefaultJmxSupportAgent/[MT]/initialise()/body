{
  try {
    UMOAgent agent=createRmiAgent();
    if (!isAgentRegistered(agent)) {
      MuleManager.getInstance().registerAgent(agent);
    }
    agent=createJmxAgent();
    if (!isAgentRegistered(agent)) {
      MuleManager.getInstance().registerAgent(agent);
    }
    agent=createLog4jAgent();
    if (!isAgentRegistered(agent)) {
      MuleManager.getInstance().registerAgent(agent);
    }
    agent=createJmxNotificationAgent();
    if (!isAgentRegistered(agent)) {
      MuleManager.getInstance().registerAgent(agent);
    }
    if (loadJmdkAgent) {
      agent=createJdmkAgent();
      if (!isAgentRegistered(agent)) {
        MuleManager.getInstance().registerAgent(agent);
      }
    }
    if (loadMX4JAgent) {
      agent=createMx4jAgent();
      if (!isAgentRegistered(agent)) {
        MuleManager.getInstance().registerAgent(agent);
      }
    }
    MuleManager.getInstance().unregisterAgent(name);
  }
 catch (  UMOException e) {
    throw new InitialisationException(e,this);
  }
}
