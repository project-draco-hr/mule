{
  if (domainArtifactClassLoaders.containsKey(domain)) {
    return domainArtifactClassLoaders.get(domain);
  }
  ArtifactClassLoader classLoader=new MuleSharedDomainClassLoader(StringUtils.isBlank(domain) ? DomainFactory.DEFAULT_DOMAIN_NAME : domain,getClass().getClassLoader());
  classLoader=createClassLoaderUnregisterWrapper(classLoader);
  domainArtifactClassLoaders.put(domain,classLoader);
  return classLoader;
}
