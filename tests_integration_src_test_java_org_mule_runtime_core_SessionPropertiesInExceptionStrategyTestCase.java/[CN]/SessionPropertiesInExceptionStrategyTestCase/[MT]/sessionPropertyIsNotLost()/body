{
  List<String> list=new ArrayList<String>();
  list.add("one");
  list.add("two");
  list.add("three");
  MuleEvent event=flowRunner("test").withPayload(list).run();
  assertNull(event.getMessage().getExceptionPayload());
  assertFalse(event.getMessage().getPayload() instanceof NullPayload);
  assertThat(event.getSession().getProperty("ErrorCount"),is(list.size()));
}
