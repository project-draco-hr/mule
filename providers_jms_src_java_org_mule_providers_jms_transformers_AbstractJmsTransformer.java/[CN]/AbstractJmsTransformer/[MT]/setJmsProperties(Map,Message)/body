{
  props=PropertiesHelper.getPropertiesWithoutPrefix(props,"JMS");
  Map.Entry entry;
  String key;
  for (Iterator iterator=props.entrySet().iterator(); iterator.hasNext(); ) {
    entry=(Map.Entry)iterator.next();
    key=entry.getKey().toString();
    if (MuleProperties.MULE_CORRELATION_ID_PROPERTY.equals(key)) {
      msg.setJMSCorrelationID(entry.getValue().toString());
    }
    if (!(MuleProperties.MULE_REPLY_TO_PROPERTY.equals(key) && entry.getValue() instanceof Destination)) {
      try {
        msg.setObjectProperty(encodeHeader(key),entry.getValue());
      }
 catch (      JMSException e) {
        if (logger.isDebugEnabled())         logger.debug("Unable to set property '" + encodeHeader(key) + "' of type "+ entry.getValue().getClass().getName()+ "': "+ e.getMessage());
      }
    }
  }
}
