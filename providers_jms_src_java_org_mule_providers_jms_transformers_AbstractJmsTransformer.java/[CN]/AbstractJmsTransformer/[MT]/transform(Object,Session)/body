{
  if (session == null && this.session == null) {
    throw new TransformerException("AbstractMessageDispatcher cannot be null when transforming to a JMS payload");
  }
  if (session != null) {
    this.session=session;
  }
  if (src == null) {
    throw new TransformerException("Cannot transform 'null' JMS Message into an object");
  }
  Object ret=transform(src);
  if (logger.isDebugEnabled()) {
    logger.debug("Transformed message from type: " + src.getClass().getName() + " to type: "+ ret.getClass().getName());
  }
  return ret;
}
