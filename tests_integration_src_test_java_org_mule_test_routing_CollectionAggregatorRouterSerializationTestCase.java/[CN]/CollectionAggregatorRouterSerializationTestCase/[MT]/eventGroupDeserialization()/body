{
  muleContext.getRegistry().registerObject(MuleProperties.OBJECT_STORE_DEFAULT_IN_MEMORY_NAME,new EventGroupSerializerObjectStore<Serializable>());
  List<String> list=Arrays.asList("first","second");
  flowRunner("splitter").withPayload(list).asynchronously().run();
  MuleClient client=muleContext.getClient();
  MuleMessage request=client.request("test://out",RECEIVE_TIMEOUT);
  assertNotNull(request);
  assertThat(request.getPayload(),instanceOf(List.class));
  assertThat(((List<MuleMessage>)request.getPayload()),hasSize(list.size()));
}
