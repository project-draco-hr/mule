{
  if (session == null) {
    session=new DefaultMuleSession(flow);
  }
  MuleEvent result=process(new DefaultMuleEvent(message,endpoint.getExchangePattern(),flow,session));
  if (result != null) {
    return result.getMessage();
  }
 else {
    return null;
  }
}
