{
  EndpointURI uri=getEndpointURIForMessage(event);
  if (endpoint instanceof NullInboundEndpoint) {
    builder.setURIBuilder(new URIBuilder(uri));
    endpoint=builder.buildInboundEndpoint();
  }
  InboundEndpoint inboundEndpoint=new DynamicURIInboundEndpoint(endpoint,uri);
  if (event.getMessage().getInvocationProperty(MuleProperties.MULE_CREDENTIALS_PROPERTY) != null) {
    inboundEndpoint.getProperties().put(MuleProperties.MULE_CREDENTIALS_PROPERTY,event.getMessage().getInvocationProperty(MuleProperties.MULE_CREDENTIALS_PROPERTY));
  }
  return super.request(timeout);
}
