{
  MuleClient muleClient=muleContext.getClient();
  bayeuxClient.publish("/test2","Ross",null);
  final MuleMessage msg=muleClient.request("vm://in2",RECEIVE_TIMEOUT * 2);
  Prober prober=new PollingProber();
  prober.check(new Probe(){
    @Override public boolean isSatisfied(){
      return msg != null;
    }
    @Override public String describeFailure(){
      return "No message was returned from request";
    }
  }
);
  assertNotNull(msg);
  assertEquals("Ross Received",msg.getPayloadAsString());
}
