{
  Map<String,Serializable> props=new HashMap<>();
  props.put("prop1","value1");
  props.put("port",12345);
  Flow flow=getTestFlow();
  if (exceptionListener != null) {
    flow.setExceptionListener(exceptionListener);
  }
  final MuleEvent event=MuleEvent.builder(DefaultMessageContext.create(flow,TEST_CONNECTOR)).message(MuleMessage.builder().payload(TEST_MESSAGE).outboundProperties(props).build()).flow(flow).session(getTestSession(null,muleContext)).build();
  return populateFieldsFromInboundEndpoint(event,getTestInboundEndpoint(REQUEST_RESPONSE));
}
