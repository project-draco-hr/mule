{
  Map<String,Serializable> props=new HashMap<>();
  props.put("prop1","value1");
  props.put("port",12345);
  Flow flow=getTestFlow();
  if (exceptionListener != null) {
    flow.setExceptionListener(exceptionListener);
  }
  final DefaultMuleEvent event=new DefaultMuleEvent(DefaultMessageContext.create(flow,TEST_CONNECTOR),MuleMessage.builder().payload(TEST_MESSAGE).outboundProperties(props).build(),flow,getTestSession(null,muleContext));
  DefaultMuleEventEndpointUtils.populateFieldsFromInboundEndpoint(event,getTestInboundEndpoint(MessageExchangePattern.REQUEST_RESPONSE));
  return event;
}
