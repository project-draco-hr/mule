{
  Object payload=buildGetRequestWithHeaders();
  MuleMessage message=factory.create(payload,encoding,muleContext);
  assertInboundScopedProperty("foo-value",message,"foo-header");
  assertInboundScopedProperty("MULE_HEADER_VALUE",message,"MULE_HEADER");
  assertInboundScopedProperty("localhost:8080",message,HttpConstants.HEADER_HOST);
  Object[] expected=new Object[]{"value-one","value-two"};
  assertTrue(Arrays.equals(expected,(Object[])message.getInboundProperty("multi-value")));
}
