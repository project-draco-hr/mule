{
  Object obj=null;
  if (isSourceTypeSupported(UMOMessage.class,true)) {
    obj=context.getMessage();
  }
 else {
    obj=src;
    if (obj instanceof byte[]) {
      return obj;
    }
  }
  byte[] dest=null;
  ByteArrayOutputStream bs=null;
  ObjectOutputStream os=null;
  try {
    bs=new ByteArrayOutputStream();
    os=new ObjectOutputStream(bs);
    os.writeObject(obj);
    os.flush();
    dest=bs.toByteArray();
  }
 catch (  Exception e) {
    throw new TransformerException(this,e);
  }
 finally {
    try {
      if (os != null) {
        os.close();
      }
    }
 catch (    IOException e) {
    }
  }
  return dest;
}
