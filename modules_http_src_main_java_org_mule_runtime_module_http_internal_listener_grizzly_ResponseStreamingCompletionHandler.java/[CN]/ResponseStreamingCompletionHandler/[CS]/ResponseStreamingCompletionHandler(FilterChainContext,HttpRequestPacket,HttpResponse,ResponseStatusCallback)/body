{
  Preconditions.checkArgument((httpResponse.getEntity() instanceof InputStreamHttpEntity),"http response must have an input stream entity");
  this.ctx=ctx;
  httpResponsePacket=buildHttpResponsePacket(request,httpResponse);
  inputStream=((InputStreamHttpEntity)httpResponse.getEntity()).getInputStream();
  memoryManager=ctx.getConnection().getTransport().getMemoryManager();
  this.responseStatusCallback=responseStatusCallback;
}
