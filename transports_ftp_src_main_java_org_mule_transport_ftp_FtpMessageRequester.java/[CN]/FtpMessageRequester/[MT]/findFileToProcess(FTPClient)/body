{
  FTPFile[] files=listFiles(client);
  if (files != null) {
    FilenameFilter filenameFilter=getFilenameFilter();
    for (int i=0; i < files.length; i++) {
      FTPFile file=files[i];
      if (file.isFile()) {
        if (filenameFilter.accept(null,file.getName())) {
          if (connector.validateFile(file)) {
            return file;
          }
        }
      }
    }
  }
  return null;
}
