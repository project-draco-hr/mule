{
  MetadataResult<MetadataType> outputMetadataResult=getOutputMetadata(context,key);
  MetadataResult<MetadataType> attributesMetadataResult=getOutputAttributesMetadata(context,key);
  OutputMetadataDescriptor descriptor=outputDescriptor().withReturnType(outputMetadataResult.get()).withAttributesType(attributesMetadataResult.get()).build();
  if (!outputMetadataResult.isSuccess() || !attributesMetadataResult.isSuccess()) {
    return mergeFailures(descriptor,outputMetadataResult,attributesMetadataResult);
  }
  return success(descriptor);
}
