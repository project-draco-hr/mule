{
  EndpointURIEndpointBuilder endpointBuilder=new EndpointURIEndpointBuilder(TEST_URI,muleContext);
  endpointBuilder.setFilter(filter);
  endpointBuilder.setSecurityFilter(securityFilter);
  if (transformer != null) {
    endpointBuilder.setTransformers(Collections.singletonList(transformer));
  }
  if (responseTransformer != null) {
    endpointBuilder.setResponseTransformers(Collections.singletonList(responseTransformer));
  }
  endpointBuilder.setExchangePattern(MessageExchangePattern.fromSyncFlag(sync));
  endpointBuilder.setTransactionConfig(txConfig);
  InboundEndpoint endpoint=endpointBuilder.buildInboundEndpoint();
  return endpoint;
}
