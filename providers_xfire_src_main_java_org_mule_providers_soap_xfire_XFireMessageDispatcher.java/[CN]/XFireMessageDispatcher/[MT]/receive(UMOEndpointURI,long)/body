{
  String serviceName=getService(endpointUri);
  XFire xfire=connector.getXfire();
  Service service=xfire.getServiceRegistry().getService(serviceName);
  Client client=new Client(new MuleUniversalTransport(),service,endpointUri.toString());
  client.setXFire(xfire);
  client.setTimeout((int)timeout);
  client.setEndpointUri(endpointUri.toString());
  String method=(String)endpointUri.getParams().remove(MuleProperties.MULE_METHOD_PROPERTY);
  OperationInfo op=service.getServiceInfo().getOperation(method);
  Properties params=endpointUri.getUserParams();
  String args[]=new String[params.size()];
  int i=0;
  for (Iterator iterator=params.values().iterator(); iterator.hasNext(); i++) {
    args[i]=iterator.next().toString();
  }
  UMOEndpoint ep=MuleEndpoint.getOrCreateEndpointForUri(endpointUri,UMOEndpoint.ENDPOINT_TYPE_SENDER);
  ep.initialise();
  Object[] response=client.invoke(op,args);
  if (response != null && response.length == 1) {
    return new MuleMessage(response[0],null);
  }
 else {
    return new MuleMessage(response,null);
  }
}
