{
  if (client == null) {
    String serviceName=getService(endpoint);
    XFire xfire=connector.getXfire();
    Service service=xfire.getServiceRegistry().getService(serviceName);
    if (service == null) {
      throw new FatalConnectException(new Message("xfire",8,serviceName),this);
    }
    client=new Client(new MuleUniversalTransport(),service,endpoint.getEndpointURI().toString());
    client.setXFire(xfire);
    client.setEndpointUri(endpoint.getEndpointURI().toString());
    client.addInHandler(new MuleHeadersInHandler());
    client.addOutHandler(new MuleHeadersOutHandler());
  }
}
