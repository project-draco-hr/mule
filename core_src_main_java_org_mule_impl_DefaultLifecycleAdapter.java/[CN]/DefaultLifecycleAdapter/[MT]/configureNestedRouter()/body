{
  if (component.getNestedRouter() != null) {
    Map bindings=new HashMap();
    for (Iterator it=component.getNestedRouter().getRouters().iterator(); it.hasNext(); ) {
      UMONestedRouter nestedRouter=(UMONestedRouter)it.next();
      Object proxy=bindings.get(nestedRouter.getInterface());
      if (proxy == null) {
        proxy=nestedRouter.createProxy(pojoService);
        bindings.put(nestedRouter.getInterface(),proxy);
        Method setterMethod;
        List methods=ClassUtils.getSatisfiableMethods(pojoService.getClass(),new Class[]{nestedRouter.getInterface()},true,false,null);
        if (methods.size() == 1) {
          setterMethod=(Method)methods.get(0);
        }
 else         if (methods.size() > 1) {
          throw new TooManySatisfiableMethodsException(pojoService.getClass(),new Class[]{nestedRouter.getInterface()});
        }
 else {
          throw new NoSatisfiableMethodsException(pojoService.getClass(),new Class[]{nestedRouter.getInterface()});
        }
        try {
          setterMethod.invoke(pojoService,new Object[]{proxy});
        }
 catch (        Exception e) {
          throw new InitialisationException(CoreMessages.failedToSetProxyOnService(nestedRouter,pojoService.getClass()),e,this);
        }
      }
 else {
        NestedInvocationHandler handler=(NestedInvocationHandler)Proxy.getInvocationHandler(proxy);
        handler.addRouterForInterface(nestedRouter);
      }
    }
  }
}
