{
  latch=new CountDownLatch(1);
  muleContext.registerListener(new RoutingNotificationListener<RoutingNotification>(){
    @Override public void onNotification(    RoutingNotification notification){
      if (notification.getAction() == RoutingNotification.CORRELATION_TIMEOUT) {
        latch.countDown();
      }
    }
  }
);
  String message="test";
  try {
    muleContext.getClient().send("vm://distributor.queue",message,null);
  }
 catch (  Exception e) {
    assertTrue(ExceptionUtils.getRootCause(e) instanceof CorrelationTimeoutException);
  }
  assertTrue(latch.await(3000,TimeUnit.MILLISECONDS));
}
