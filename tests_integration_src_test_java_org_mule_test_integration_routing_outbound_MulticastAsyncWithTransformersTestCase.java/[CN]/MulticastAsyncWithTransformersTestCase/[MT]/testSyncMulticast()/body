{
  Apple apple=new Apple();
  Banana banana=new Banana();
  Orange orange=new Orange();
  FruitBowl fruitBowl=new FruitBowl(apple,banana);
  fruitBowl.addFruit(orange);
  flowRunner("Distributor").withPayload(fruitBowl).asynchronously().run();
  List<Object> results=new ArrayList<Object>(3);
  MuleClient client=muleContext.getClient();
  MuleMessage result=client.request("test://collector.queue",RECEIVE_TIMEOUT);
  assertNotNull(result);
  results.add(result.getPayload());
  result=client.request("test://collector.queue",RECEIVE_TIMEOUT);
  assertNotNull(result);
  results.add(result.getPayload());
  result=client.request("test://collector.queue",RECEIVE_TIMEOUT);
  assertNotNull(result);
  results.add(result.getPayload());
  assertTrue(results.contains(apple));
  assertTrue(results.contains(banana));
  assertTrue(results.contains(orange));
}
