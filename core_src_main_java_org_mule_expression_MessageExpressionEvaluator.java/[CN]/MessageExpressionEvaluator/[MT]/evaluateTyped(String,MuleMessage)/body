{
  Object value=evaluate(expression,message);
  Class<?> type=value == null ? Object.class : value.getClass();
  DataType dataType=expression.equals(PAYLOAD) ? message.getDataType() : DataTypeFactory.create(type,null);
  return new TypedValue(value,dataType);
}
