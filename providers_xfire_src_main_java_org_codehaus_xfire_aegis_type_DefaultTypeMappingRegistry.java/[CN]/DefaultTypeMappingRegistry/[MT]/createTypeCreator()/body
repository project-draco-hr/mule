{
  AbstractTypeCreator xmlCreator=createRootTypeCreator();
  xmlCreator.setNextCreator(createDefaultTypeCreator());
  if (isJDK5andAbove()) {
    try {
      String j5TC="org.codehaus.xfire.aegis.type.java5.Java5TypeCreator";
      Class clazz=ClassLoaderUtils.loadClass(j5TC,getClass());
      AbstractTypeCreator j5Creator=(AbstractTypeCreator)clazz.newInstance();
      j5Creator.setNextCreator(createDefaultTypeCreator());
      j5Creator.setConfiguration(getConfiguration());
      xmlCreator.setNextCreator(j5Creator);
    }
 catch (    Throwable t) {
      logger.info("Couldn't find Java 5 module on classpath. Annotation mappings will not be supported.");
      if (!(t instanceof ClassNotFoundException))       logger.debug("Error loading Java 5 module",t);
    }
  }
  return xmlCreator;
}
