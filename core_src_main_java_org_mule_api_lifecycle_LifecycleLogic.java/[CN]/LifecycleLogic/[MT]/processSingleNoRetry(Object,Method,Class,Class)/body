{
  if (!iface.isAssignableFrom(target.getClass())) {
    throw new IllegalArgumentException(ClassUtils.getSimpleName(target.getClass()) + " is not an " + ClassUtils.getSimpleName(iface));
  }
  try {
    LifecycleTransitionResult result=(LifecycleTransitionResult)method.invoke(target,ClassUtils.NO_ARGS);
    if (!isOk(result)) {
      if (null != exception) {
        LifecycleException error;
        if (exception.equals(InitialisationException.class)) {
          error=new InitialisationException(CoreMessages.nestedRetry(),(Initialisable)target);
        }
 else {
          error=new LifecycleException(CoreMessages.nestedRetry(),target);
        }
        throw initCause(error,result);
      }
 else {
        IllegalStateException error=new IllegalStateException("Unexpected state from transition: " + result);
        if (null != result) {
          error.initCause(result.getThrowable());
        }
        throw error;
      }
    }
    return result;
  }
 catch (  IllegalAccessException e) {
    throw (IllegalArgumentException)new IllegalArgumentException("Unsupported interface: " + iface).initCause(e);
  }
catch (  InvocationTargetException e) {
    throw (IllegalArgumentException)new IllegalArgumentException("Unsupported interface: " + iface).initCause(e);
  }
}
