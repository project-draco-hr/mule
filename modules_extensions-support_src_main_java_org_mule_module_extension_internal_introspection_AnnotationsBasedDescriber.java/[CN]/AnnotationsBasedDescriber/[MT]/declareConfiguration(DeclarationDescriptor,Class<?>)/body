{
  checkArgument(CollectionUtils.isEmpty(getOperationMethods(configurationType)),String.format("Class %s can't declare a configuration and operations at the same time",configurationType.getName()));
  ConfigurationDescriptor configuration;
  Configuration configurationAnnotation=configurationType.getAnnotation(Configuration.class);
  if (configurationAnnotation != null) {
    configuration=declaration.withConfig(configurationAnnotation.name()).describedAs(configurationAnnotation.description());
  }
 else {
    configuration=declaration.withConfig(Extension.DEFAULT_CONFIG_NAME).describedAs(Extension.DEFAULT_CONFIG_DESCRIPTION);
  }
  configuration.instantiatedWith(new TypeAwareConfigurationInstantiator(configurationType));
  declareConfigurationParameters(configurationType,configuration);
}
