{
  Class eClass=null;
  ExceptionHandler eh=null;
  try {
    eClass=msg.getException().toException().getClass();
    eh=getHandler(eClass);
    eh.onException(msg);
  }
 catch (  Exception e) {
    logger.error(new Message("errorhandler-example",6,(eh != null ? (eh.getClass().getName() + " : " + e) : "null")).getMessage());
    if (eh instanceof DefaultHandler) {
      logger.error(new Message("errorhandler-example",7,FatalHandler.class.getName()).getMessage());
      handleFatal(e);
    }
 else     if (eh instanceof FatalHandler) {
      logger.fatal(new Message("errorhandler-example",8,e).getMessage());
    }
 else {
      logger.error(new Message("errorhandler-example",9,DefaultHandler.class.getName(),(eh != null ? (eh.getClass().getName() + " : " + e) : "null")).getMessage());
      handleDefault(msg,e);
    }
  }
}
