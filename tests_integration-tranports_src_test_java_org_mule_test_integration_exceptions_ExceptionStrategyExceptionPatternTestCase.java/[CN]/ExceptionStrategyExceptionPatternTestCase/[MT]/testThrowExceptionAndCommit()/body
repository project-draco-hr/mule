{
  MuleClient client=muleContext.getClient();
  exceptionHolder.set(new IOException());
  client.dispatch("jms://in",PAYLOAD,null);
  if (!exceptionLatch.await(TIMEOUT,TimeUnit.MILLISECONDS)) {
    fail("exception should be thrown");
  }
  MuleMessage muleMessage=client.request("jms://out",TIMEOUT).getRight().get();
  assertThat(muleMessage,IsNull.notNullValue());
}
