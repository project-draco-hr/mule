{
  Object payload=message.getPayload();
  String json="";
  if (payload instanceof Map) {
    Map map=(Map)payload;
    StringBuffer buffer=new StringBuffer();
    buffer.append("{");
    for (    Object entryObject : map.entrySet()) {
      Entry entry=(Entry)entryObject;
      buffer.append(entry.getKey());
      buffer.append(" : \"");
      buffer.append(entry.getValue());
      buffer.append("\",");
    }
    buffer.append("}");
    json=buffer.toString();
  }
 else {
    String processDefinitionId=message.getPayloadAsString();
    json="{" + "\"processDefinitionId\":\"" + processDefinitionId + "\","+ "}";
  }
  RequestEntity requestEntity=new StringRequestEntity(json,"application/json","UTF-8");
  method.setRequestEntity(requestEntity);
}
