{
  if (isReceiveMessagesInTransaction()) {
    MuleEvent message=getFirstMessage();
    if (message == null) {
      return null;
    }
    List<MuleMessage> messages=new ArrayList<MuleMessage>(1);
    messages.add(new DefaultMuleMessage(message.getMessage().getPayload(),message.getMessage(),endpoint.getMuleContext()));
    return messages;
  }
 else {
    return getFirstMessages();
  }
}
