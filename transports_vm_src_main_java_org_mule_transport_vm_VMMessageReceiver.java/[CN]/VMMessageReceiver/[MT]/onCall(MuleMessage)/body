{
  MuleEvent event=null;
  try {
    event=routeMessage(message);
    MuleMessage returnedMessage=event == null ? null : event.getMessage();
    if (returnedMessage != null) {
      returnedMessage.release();
    }
    return returnedMessage;
  }
 catch (  Exception e) {
    if (event == null) {
      event=createMuleEvent(message,null);
    }
    return flowConstruct.getExceptionListener().handleException(e,event).getMessage();
  }
 finally {
    message.release();
  }
}
