{
  assertThat(tc.getTransaction(),IsNull.<Object>nullValue());
  TestTransaction tx=spy(new TestTransaction(mock(MuleContext.class)));
  tx.setXA(true);
  tc.bindTransaction(tx);
  tx.setRollbackOnly();
  tc.resolveTransaction();
  assertThat(tc.getTransaction(),IsNull.<Object>nullValue());
  verify(tx,times(1)).rollback();
}
