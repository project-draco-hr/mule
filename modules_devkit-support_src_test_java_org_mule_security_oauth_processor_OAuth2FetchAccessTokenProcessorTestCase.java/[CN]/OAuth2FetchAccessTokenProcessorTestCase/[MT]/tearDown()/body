{
  if (!exception) {
    verify(manager).restoreAuthorizationEvent(eventId);
    assertSame(RequestContext.getEvent(),restoredEvent);
    verify(muleContext).fireNotification(Mockito.argThat(new OAuthNotificationMatcher(OAuthAuthorizeNotification.OAUTH_AUTHORIZATION_END,event)));
    verify(restoredEvent.getMessage()).removeProperty(OAuthProperties.HTTP_STATUS,PropertyScope.OUTBOUND);
    verify(restoredEvent.getMessage()).removeProperty(OAuthProperties.CALLBACK_LOCATION,PropertyScope.OUTBOUND);
  }
}
