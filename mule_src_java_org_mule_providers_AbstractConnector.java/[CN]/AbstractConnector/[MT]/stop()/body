{
  if (isDisposed()) {
    return;
  }
  if (started.get()) {
    if (logger.isInfoEnabled()) {
      logger.info("Stopping Connector: " + getClass().getName());
    }
    doStop();
    for (Iterator iterator=receivers.values().iterator(); iterator.hasNext(); ) {
      AbstractMessageReceiver amr=(AbstractMessageReceiver)iterator.next();
      if (logger.isDebugEnabled()) {
        logger.debug("Stopping receiver on endpoint: " + amr.getEndpoint().getEndpointURI());
      }
      amr.stop();
    }
    started.set(false);
    if (logger.isInfoEnabled()) {
      logger.info("Connector " + getClass().getName() + " has been stopped");
    }
  }
}
