{
  OutboundEndpoint ep=muleContext.getRegistry().lookupEndpointFactory().getOutboundEndpoint("axis:http://mycompany.com:8080/services/myService?method=foo");
  AxisMessageDispatcher dispatcher=new AxisMessageDispatcher(ep);
  MuleEvent event=getTestEvent("test,",ep);
  event.getFlowConstruct().setName("myService");
  String result=dispatcher.parseSoapAction("#[scheme]://#[host]:#[port]/#[serviceName]/#[method]",new QName("foo"),event);
  assertEquals("http://mycompany.com:8080/myService/foo",result);
}
