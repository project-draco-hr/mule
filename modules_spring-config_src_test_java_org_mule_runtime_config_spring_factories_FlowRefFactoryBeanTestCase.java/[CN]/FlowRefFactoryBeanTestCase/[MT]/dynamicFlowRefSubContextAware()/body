{
  Event event=mock(Event.class);
  MuleContextAware targetMuleContextAwareAware=mock(MuleContextAware.class,INITIALIZABLE_MESSAGE_PROCESSOR);
  when(((Processor)targetMuleContextAwareAware).process(event)).thenReturn(result);
  FlowRefFactoryBean flowRefFactoryBean=createDynamicFlowRefFactoryBean((Processor)targetMuleContextAwareAware);
  assertSame(result,flowRefFactoryBean.getObject().process(event));
  verify(targetMuleContextAwareAware).setMuleContext(muleContext);
}
