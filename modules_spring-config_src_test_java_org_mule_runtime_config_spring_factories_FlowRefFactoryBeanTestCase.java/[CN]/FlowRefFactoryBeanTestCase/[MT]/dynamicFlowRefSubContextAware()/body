{
  MuleEvent event=mock(MuleEvent.class);
  MuleContextAware targetMuleContextAwareAware=mock(MuleContextAware.class,INITIALIZABLE_MESSAGE_PROCESSOR);
  when(((MessageProcessor)targetMuleContextAwareAware).process(event)).thenReturn(result);
  FlowRefFactoryBean flowRefFactoryBean=createDynamicFlowRefFactoryBean((MessageProcessor)targetMuleContextAwareAware);
  assertSame(result,flowRefFactoryBean.getObject().process(event));
  verify(targetMuleContextAwareAware).setMuleContext(muleContext);
}
