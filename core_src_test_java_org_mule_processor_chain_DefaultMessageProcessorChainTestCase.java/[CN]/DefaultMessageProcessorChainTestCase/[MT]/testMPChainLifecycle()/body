{
  DefaultMessageProcessorChainBuilder builder=new DefaultMessageProcessorChainBuilder();
  AppendingMP mp1=new AppendingInterceptingMP("1");
  AppendingMP mp2=new AppendingInterceptingMP("2");
  MessageProcessor chain=builder.chain(mp1,mp2).build();
  ((Lifecycle)chain).initialise();
  ((Lifecycle)chain).start();
  ((Lifecycle)chain).stop();
  ((Lifecycle)chain).dispose();
  assertLifecycle(mp1);
  assertLifecycle(mp2);
}
