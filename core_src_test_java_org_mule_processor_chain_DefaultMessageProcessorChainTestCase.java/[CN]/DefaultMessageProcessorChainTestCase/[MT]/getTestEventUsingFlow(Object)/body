{
  MuleEvent event=mock(MuleEvent.class);
  MuleMessage message=new DefaultMuleMessage(data,muleContext);
  Mockito.when(event.getMessage()).thenReturn(message);
  Mockito.when(event.getExchangePattern()).thenReturn(MessageExchangePattern.REQUEST_RESPONSE);
  Mockito.when(event.getMuleContext()).thenReturn(muleContext);
  Mockito.when(event.getFlowConstruct()).thenReturn(mock(Flow.class));
  Mockito.when(muleContext.getConfiguration()).thenReturn(mock(MuleConfiguration.class));
  return event;
}
