{
  assertEquals(0,SleepyTask.activeTasks.get());
  executor.setRejectedExecutionHandler(new LastRejectedWaitPolicy());
  executor.shutdown();
  List tasks=new ArrayList();
  tasks.add(new SleepyTask("rejected",1000));
  LinkedList submitters=this.execute(tasks);
  assertFalse(submitters.isEmpty());
  Thread.sleep(1000);
  LinkedList exceptions=threadGroup.collectedExceptions();
  assertEquals(1,exceptions.size());
  Map.Entry threadFailure=(Map.Entry)((Map)(exceptions.getFirst())).entrySet().iterator().next();
  assertEquals(submitters.getFirst(),threadFailure.getKey());
  assertEquals(RejectedExecutionException.class,threadFailure.getValue().getClass());
  assertEquals(0,SleepyTask.activeTasks.get());
}
