{
  File logFileDirectory=new File(logFilesDirectory);
  if (!logFileDirectory.exists()) {
    Preconditions.checkState(logFileDirectory.mkdirs(),"Could not create directory for queue transaction logger " + logFileDirectory);
  }
  File logFile1=new File(logFileDirectory,"tx1.log");
  File logFile2=new File(logFileDirectory,"tx2.log");
  logger.info(String.format("Using files for tx logs %s and %s",logFile1.getAbsolutePath(),logFile2.getAbsolutePath()));
  this.currentLogFile=new TransactionJournalFile(logFile1,journalEntrySerializer);
  this.notCurrentLogFile=new TransactionJournalFile(logFile2,journalEntrySerializer);
  this.transactionCompletePredicate=transactionCompletePredicate;
}
