{
  HelloWorldCookieResource jerseyResource=muleContext.getRegistry().get("jerseyComponent");
  Map<String,Object> props=new HashMap<String,Object>();
  props.put(HttpConnector.HTTP_METHOD_PROPERTY,HttpConstants.METHOD_POST);
  Cookie originalCookie=new Cookie(null,TEST_COOKIE_NAME,TEST_COOKIE_VALUE);
  Cookie[] cookiesObject=new Cookie[]{originalCookie};
  props.put(HttpConnector.HTTP_COOKIES_PROPERTY,cookiesObject);
  MuleMessage result=muleContext.getClient().send("http://localhost:" + httpPort.getNumber() + "/helloworld",new DefaultMuleMessage("",props,muleContext));
  assertThat(HttpStatus.SC_OK,is(equalTo(result.getInboundProperty(HttpConnector.HTTP_STATUS_PROPERTY,0))));
  Map<String,javax.ws.rs.core.Cookie> cookies=jerseyResource.getCookies();
  javax.ws.rs.core.Cookie jerseyCookie=jerseyResource.getCookies().get(TEST_COOKIE_NAME);
  assertThat(1,is(equalTo(cookies.size())));
  assertThat(originalCookie.getName(),is(equalTo(jerseyCookie.getName())));
  assertThat(originalCookie.getValue(),is(equalTo(jerseyCookie.getValue())));
  assertThat(originalCookie.getValue(),is(equalTo(jerseyResource.getTestCookie())));
}
