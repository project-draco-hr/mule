{
  String connectorKey=endpoint.getProtocol() + ":" + endpoint.getEndpointURI().getHost()+ ":"+ endpoint.getEndpointURI().getPort();
synchronized (this) {
    BayeuxHolder connectorRef=connectors.get(connectorKey);
    if (connectorRef != null) {
      return connectorRef.servlet.getBayeux();
    }
  }
  throw new IllegalArgumentException("Endpoint not registered: " + connectorKey);
}
