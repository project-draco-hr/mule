{
  MuleEvent request=createNonBlockingTestEvent();
  OptimizedRequestContext.unsafeSetEvent(request);
  MuleEvent response=nonBlockingMessageProcessor.process(request);
  assertThat(RequestContext.getEvent(),is(nullValue()));
}
