{
  EndpointMessageProcessorChainFactory factory=getMessageProcessorsFactory();
  MessageProcessor chain=factory.createOutboundMessageProcessorChain(this,flowContruct,((AbstractConnector)getConnector()).createDispatcherMessageProcessor(this));
  if (chain instanceof MuleContextAware) {
    ((MuleContextAware)chain).setMuleContext(getMuleContext());
  }
  if (chain instanceof FlowConstructAware) {
    ((FlowConstructAware)chain).setFlowConstruct(flowContruct);
  }
  if (chain instanceof Initialisable) {
    ((Initialisable)chain).initialise();
  }
  return chain;
}
