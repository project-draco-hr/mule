{
  UMOMessage result=null;
  try {
    UMOEndpointURI endpointUri=new MuleEndpointURI(action.getResourceIdentifier());
    UMOEndpoint endpoint=MuleEndpoint.getOrCreateEndpointForUri(endpointUri,UMOEndpoint.ENDPOINT_TYPE_SENDER);
    UMOMessageDispatcher dispatcher=endpoint.getConnector().getDispatcher(action.getResourceIdentifier());
    long timeout=PropertiesHelper.getLongProperty(action.getProperties(),MuleProperties.MULE_EVENT_TIMEOUT_PROPERTY,MuleManager.getConfiguration().getSynchronousEventTimeout());
    UMOEndpointURI ep=new MuleEndpointURI(action.getResourceIdentifier());
    result=dispatcher.receive(ep,timeout);
    if (result != null) {
      UMOTransformer trans=((AbstractConnector)endpoint.getConnector()).getDefaultInboundTransformer();
      if (trans != null) {
        Object payload=trans.transform(result.getPayload());
        result=new MuleMessage(payload,result);
      }
      return xstream.toXML(result);
    }
 else {
      return null;
    }
  }
 catch (  Exception e) {
    return handleException(result,e);
  }
}
