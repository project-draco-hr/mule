{
  super(CLASSPATH_EMPTY,parentCl,loaderOverrides);
  this.appName=appName;
  try {
    final String muleHome=System.getProperty(MuleProperties.MULE_HOME_DIRECTORY_PROPERTY);
    String configPath=String.format("%s/apps/%s",muleHome,appName);
    File parentFile=new File(configPath);
    File classesDir=new File(parentFile,PATH_CLASSES);
    addURL(classesDir.toURI().toURL());
    File libDir=new File(parentFile,PATH_LIBRARY);
    addJars(appName,libDir,true);
    libraryPath=libDir.getAbsolutePath();
    File libs=new File(muleHome,PATH_LIBRARY);
    File muleLibs=new File(libs,PATH_MULE);
    File perAppLibs=new File(muleLibs,PATH_PER_APP);
    addJars(appName,perAppLibs,false);
  }
 catch (  IOException e) {
    if (logger.isDebugEnabled()) {
      logger.debug(String.format("[%s]",appName),e);
    }
  }
}
