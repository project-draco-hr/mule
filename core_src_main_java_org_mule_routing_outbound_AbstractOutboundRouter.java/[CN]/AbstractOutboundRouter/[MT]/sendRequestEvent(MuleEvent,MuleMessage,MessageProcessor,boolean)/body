{
  if (target == null) {
    throw new DispatchException(CoreMessages.objectIsNull("Outbound Endpoint"),message,null);
  }
  ImmutableEndpoint endpoint=(target instanceof ImmutableEndpoint) ? (ImmutableEndpoint)target : routedEvent.getEndpoint();
  MuleEvent event=new DefaultMuleEvent(message,endpoint,routedEvent.getSession());
  if (awaitResponse) {
    int timeout=message.getIntProperty(MuleProperties.MULE_EVENT_TIMEOUT_PROPERTY,-1);
    if (timeout >= 0) {
      event.setTimeout(timeout);
    }
  }
  return target.process(event);
}
