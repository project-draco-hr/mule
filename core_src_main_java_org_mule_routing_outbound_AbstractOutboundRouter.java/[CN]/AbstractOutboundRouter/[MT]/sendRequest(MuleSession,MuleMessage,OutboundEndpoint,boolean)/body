{
  if (awaitResponse && replyTo != null) {
    logger.debug("event was dispatched synchronously, but there is a ReplyTo endpoint set, so using asynchronous dispatch");
    awaitResponse=false;
    return null;
  }
  setMessageProperties(session.getFlowConstruct(),message,endpoint);
  if (logger.isDebugEnabled()) {
    logger.debug("Message being sent to: " + endpoint.getEndpointURI());
    logger.debug(message);
  }
  if (logger.isTraceEnabled()) {
    try {
      logger.trace("Request payload: \n" + StringMessageUtils.truncate(message.getPayloadAsString(),100,false) + "\n outbound transformer is: "+ endpoint.getTransformers());
    }
 catch (    Exception e) {
      logger.trace("Request payload: \n(unable to retrieve payload: " + e.getMessage() + "\n outbound transformer is: "+ endpoint.getTransformers());
    }
  }
  MuleEvent result=null;
  try {
    result=sendRequestEvent(session,message,endpoint,awaitResponse);
  }
 catch (  MessagingException me) {
    throw me;
  }
catch (  Exception e) {
    throw new RoutingException(message,null,e);
  }
  if (getRouterStatistics() != null) {
    if (getRouterStatistics().isEnabled()) {
      getRouterStatistics().incrementRoutedMessage(endpoint);
    }
  }
  if (result != null) {
    MuleMessage resultMessage=result.getMessage();
    if (logger.isTraceEnabled()) {
      if (resultMessage != null) {
        try {
          logger.trace("Response payload: \n" + StringMessageUtils.truncate(resultMessage.getPayloadAsString(),100,false));
        }
 catch (        Exception e) {
          logger.trace("Response payload: \n(unable to retrieve payload: " + e.getMessage());
        }
      }
    }
  }
  return result;
}
