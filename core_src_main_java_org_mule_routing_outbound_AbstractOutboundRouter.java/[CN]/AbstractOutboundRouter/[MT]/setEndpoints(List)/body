{
  this.endpoints.clear();
  for (Iterator iterator=endpoints.iterator(); iterator.hasNext(); ) {
    ImmutableEndpoint endpoint=(ImmutableEndpoint)iterator.next();
    if (!(endpoint instanceof OutboundEndpoint)) {
      throw new InvalidEndpointTypeException(CoreMessages.outboundRouterMustUseOutboudEndpoints(this,endpoint));
    }
 else {
      addEndpoint((OutboundEndpoint)endpoint);
    }
  }
}
