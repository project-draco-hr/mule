{
synchronized (routes) {
    for (    MessageProcessor processor : routes) {
      if (processor instanceof MuleContextAware) {
        ((MuleContextAware)processor).setMuleContext(muleContext);
      }
      if (processor instanceof FlowConstructAware) {
        ((FlowConstructAware)processor).setFlowConstruct(flowConstruct);
      }
      if (processor instanceof Initialisable) {
        ((Initialisable)processor).initialise();
      }
    }
    initialised.set(true);
  }
}
