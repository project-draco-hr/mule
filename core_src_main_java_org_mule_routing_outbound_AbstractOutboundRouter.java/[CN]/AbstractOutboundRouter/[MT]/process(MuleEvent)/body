{
  TransactionTemplate<MuleEvent> tt=TransactionTemplateFactory.<MuleEvent>createNestedTransactionTemplate(getTransactionConfig(),muleContext);
  TransactionCallback<MuleEvent> cb=new TransactionCallback<MuleEvent>(){
    public MuleEvent doInTransaction() throws Exception {
      try {
        return route(event);
      }
 catch (      RoutingException e) {
        throw e;
      }
catch (      Exception e) {
        throw new RoutingException(event,AbstractOutboundRouter.this,e);
      }
    }
  }
;
  try {
    return tt.execute(cb);
  }
 catch (  MuleException e) {
    throw e;
  }
catch (  Exception e) {
    throw new DefaultMuleException(e);
  }
}
