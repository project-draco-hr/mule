{
  DefaultMessageProcessorChainBuilder builder=new DefaultMessageProcessorChainBuilder(muleContext);
  builder.setName("'response' child processor chain");
  for (  Object processor : messageProcessors) {
    if (processor instanceof MessageProcessor) {
      builder.chain((MessageProcessor)processor);
    }
 else     if (processor instanceof MessageProcessorBuilder) {
      builder.chain((MessageProcessorBuilder)processor);
    }
 else {
      throw new IllegalArgumentException("MessageProcessorBuilder should only have MessageProcessor's or MessageProcessorBuilder's configured");
    }
  }
  ResponseMessageProcessorAdapter responseAdapter=new ResponseMessageProcessorAdapter();
  responseAdapter.setProcessor(builder.build());
  responseAdapter.setMuleContext(muleContext);
  return responseAdapter;
}
