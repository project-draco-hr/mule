{
  FlowConstruct flow=getFlowConstruct(flowName);
  assertTrue(flow instanceof SimpleFlowConstruct);
  SimpleFlowConstruct simpleFlow=(SimpleFlowConstruct)flow;
  List<MessageProcessor> processors=simpleFlow.getMessageProcessors();
  assertEquals(1,processors.size());
  MessageProcessor firstMP=processors.get(0);
  assertEquals(IdempotentMessageFilter.class,firstMP.getClass());
  return (IdempotentMessageFilter)firstMP;
}
