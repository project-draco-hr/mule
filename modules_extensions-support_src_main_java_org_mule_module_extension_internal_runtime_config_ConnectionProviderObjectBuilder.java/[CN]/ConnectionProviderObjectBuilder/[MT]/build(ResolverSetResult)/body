{
  ConnectionProvider provider=super.build(result);
  ConnectionHandlingTypeModelProperty connectionHandlingType=providerModel.getModelProperty(ConnectionHandlingTypeModelProperty.KEY);
  if (retryPolicyTemplate == null) {
    retryPolicyTemplate=connectionManager.getDefaultRetryPolicyTemplate();
  }
  if (connectionHandlingType != null) {
    if (connectionHandlingType.isPooled()) {
      provider=new PooledConnectionProviderWrapper(provider,poolingProfile,disableValidation,retryPolicyTemplate);
    }
    if (connectionHandlingType.isCached()) {
      provider=new CachedConnectionProviderWrapper(provider,disableValidation,retryPolicyTemplate);
    }
  }
  return provider;
}
