{
  if (throwable == null || type == null) {
    return null;
  }
  @SuppressWarnings("unchecked") List<Throwable> throwableList=getThrowableList(throwable);
  ListIterator<Throwable> listIterator=throwableList.listIterator(throwableList.size());
  while (listIterator.hasPrevious()) {
    Throwable candidate=listIterator.previous();
    if (type.isAssignableFrom(candidate.getClass())) {
      return candidate;
    }
  }
  return null;
}
