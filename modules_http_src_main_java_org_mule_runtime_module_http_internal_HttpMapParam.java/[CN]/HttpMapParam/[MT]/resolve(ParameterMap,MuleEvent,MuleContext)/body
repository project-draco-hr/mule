{
  Map<Object,Object> paramMap=(Map<Object,Object>)muleContext.getExpressionManager().evaluate(expression,muleEvent,null);
  for (  Map.Entry<Object,Object> entry : paramMap.entrySet()) {
    String paramName=entry.getKey().toString();
    Object paramValue=entry.getValue();
    if (paramValue instanceof Iterable) {
      Iterable iterable=(Iterable)paramValue;
      final Iterator iterator=iterable.iterator();
      while (iterator.hasNext()) {
        parameterMap.put(paramName,toStringIfPossible(iterator.next()));
      }
    }
 else {
      parameterMap.put(paramName,toStringIfPossible(paramValue));
    }
  }
}
