{
  super(message);
  this.exception=exception;
  timeStamp=new Date();
  componentName=ctx.getComponentDescriptor().getName();
  if (endpoint != null) {
    endpointUri=endpoint.getEndpointURI();
  }
 else {
    endpointUri=ctx.getEndpointURI();
  }
  for (Iterator iterator=ctx.getMessage().getPropertyNames(); iterator.hasNext(); ) {
    Object o=iterator.next();
    setProperty(o,ctx.getMessage().getProperty(o));
  }
}
