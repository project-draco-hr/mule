{
  super(message);
  this.exception=exception;
  timeStamp=new Date();
  componentName=ctx.getComponentDescriptor().getName();
  if (endpoint != null) {
    endpointUri=endpoint.getEndpointURI();
  }
 else {
    endpointUri=ctx.getEndpointURI();
  }
  UMOMessage msg=ctx.getMessage();
  for (Iterator iterator=msg.getPropertyNames().iterator(); iterator.hasNext(); ) {
    Object propertyKey=iterator.next();
    setProperty(propertyKey,msg.getProperty(propertyKey));
  }
}
