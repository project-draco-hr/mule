{
  String result=null;
  if (msg instanceof FileObject) {
    try {
      InputStream in=((FileObject)msg).getContent().getInputStream();
      byte[] content=new byte[(int)((FileObject)msg).getContent().getSize()];
      in.read(content);
      result=new String(content);
    }
 catch (    Exception e) {
      throw new TransformerException(this,e);
    }
  }
 else {
    throw new TransformerException(Message.createStaticMessage("Message is not an instance of org.apache.commons.vfs.FileObject"),this);
  }
  return new TextMessage(result);
}
