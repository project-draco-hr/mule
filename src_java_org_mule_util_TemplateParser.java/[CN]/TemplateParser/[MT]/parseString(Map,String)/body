{
  String result=template;
  Matcher m=tmplPattern.matcher(template);
  String match, propname;
  Object value;
  while (m.find()) {
    match=m.group();
    propname=match.substring(1,match.length() - 1);
    value=props.get(propname);
    if (value == null) {
      logger.error("Value " + propname + " not found in context");
      value="";
    }
    result=result.replaceAll("\\[" + propname + "\\]",value.toString());
  }
  return result;
}
