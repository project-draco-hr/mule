{
  Iterator iter=managementContext.getRegistry().getConnectors().iterator();
  UMOConnector connector;
  while (iter.hasNext()) {
    connector=(UMOConnector)iter.next();
    if (connector instanceof AbstractConnector) {
      for (Iterator iterator=((AbstractConnector)connector).getReceivers().values().iterator(); iterator.hasNext(); ) {
        EndpointServiceMBean mBean=new EndpointService((UMOMessageReceiver)iterator.next());
        final String rawName=mBean.getName();
        final String name=jmxSupport.escape(rawName);
        if (logger.isInfoEnabled()) {
          logger.info("Attempting to register service with name: " + jmxSupport.getDomainName(managementContext) + ":type=org.mule.Endpoint,component="+ jmxSupport.escape(mBean.getComponentName())+ ",name="+ name);
        }
        ObjectName on=jmxSupport.getObjectName(jmxSupport.getDomainName(managementContext) + ":type=org.mule.Endpoint,component=" + jmxSupport.escape(mBean.getComponentName())+ ",name="+ name);
        mBeanServer.registerMBean(mBean,on);
        registeredMBeans.add(on);
        logger.info("Registered Endpoint Service with name: " + on);
      }
    }
 else {
      logger.warn("Connector: " + connector + " is not an istance of AbstractConnector, cannot obtain Endpoint MBeans from it");
    }
  }
}
