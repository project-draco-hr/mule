{
  Iterator iter=MuleManager.getInstance().getConnectors().values().iterator();
  UMOConnector connector;
  while (iter.hasNext()) {
    connector=(UMOConnector)iter.next();
    if (connector instanceof AbstractConnector) {
      for (Iterator iterator=((AbstractConnector)connector).getReceivers().values().iterator(); iterator.hasNext(); ) {
        EndpointServiceMBean mBean=new EndpointService((UMOMessageReceiver)iterator.next());
        if (logger.isDebugEnabled()) {
          logger.debug("Attempting to register service with name: " + getDomainName() + ":type=org.mule.umo.UMOEndpoint,name="+ mBean.getName());
        }
        ObjectName on=ObjectName.getInstance(getDomainName() + ":type=org.mule.Endpoint,component=" + mBean.getComponentName()+ ",name="+ mBean.getName());
        mBeanServer.registerMBean(mBean,on);
        registeredMBeans.add(on);
        logger.info("Registered Endpoint Service with name: " + on);
      }
    }
 else {
      logger.warn("Connector: " + connector + " is not an istance of AbstractConnector, cannot obtain Endpoint MBeans from it");
    }
  }
}
