{
  Mock message=new Mock(TextMessage.class);
  message.expectAndReturn("getText","Test JMS Message");
  message.expectAndReturn("getText","Test JMS Message");
  message.expectAndReturn("getJMSCorrelationID",null);
  message.expectAndReturn("getJMSMessageID","1234567890");
  message.expectAndReturn("getJMSDeliveryMode",new Integer(1));
  message.expectAndReturn("getJMSDestination",null);
  message.expectAndReturn("getJMSPriority",new Integer(4));
  message.expectAndReturn("getJMSRedelivered",Boolean.FALSE);
  message.expectAndReturn("getJMSReplyTo",null);
  message.expectAndReturn("getJMSExpiration",new Long(0));
  message.expectAndReturn("getJMSTimestamp",new Long(0));
  message.expectAndReturn("getJMSType",null);
  message.expectAndReturn("toString","MockJMSMessage");
  message.expectAndReturn("toString","MockJMSMessage");
  message.expect("clearProperties");
  message.expectAndReturn("getPropertyNames",IteratorUtils.asEnumeration(IteratorUtils.emptyIterator()));
  message.expectAndReturn("getObjectProperty","JMS_CUSTOM_PROPERTY","customValue");
  ConstraintMatcher setPropertyMatcher=new FullConstraintMatcher(new Constraint[]{new IsEqual("JMS_CUSTOM_PROPERTY"),new IsEqual("customValue")});
  message.expect("setObjectProperty",setPropertyMatcher);
  return message.proxy();
}
