{
  Enumeration<String> nameEnum=null;
  if (headers != null) {
    nameEnum=keyEnumeration(headers);
    for (    Map.Entry<String,Object> entry : headers.entrySet()) {
      String key=entry.getKey();
      Object value=entry.getValue();
      Enumeration<String> valueAsEnumeration=null;
      if (value instanceof Enumeration) {
        valueAsEnumeration=(Enumeration<String>)value;
      }
 else {
        valueAsEnumeration=new SingleElementEnumeration((String)value);
      }
      when(mockRequest.getHeaders(eq(key))).thenReturn(valueAsEnumeration);
    }
  }
  when(mockRequest.getHeaderNames()).thenReturn(nameEnum);
}
