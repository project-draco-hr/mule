{
  HttpServletRequest mockRequest=mock(HttpServletRequest.class);
  when(mockRequest.getMethod()).thenReturn(method);
  Enumeration<String> emptyEnumeration=new Hashtable<String,String>().elements();
  when(mockRequest.getParameterNames()).thenReturn(emptyEnumeration);
  when(mockRequest.getRequestURI()).thenReturn(requestUri);
  when(mockRequest.getQueryString()).thenReturn(queryString);
  when(mockRequest.getInputStream()).thenReturn(inputStream);
  when(mockRequest.getSession(anyBoolean())).thenReturn(session);
  when(mockRequest.getCharacterEncoding()).thenReturn(characterEncoding);
  when(mockRequest.getLocalPort()).thenReturn(localPort);
  when(mockRequest.getContentType()).thenReturn(contentType);
  when(mockRequest.getRemoteAddr()).thenReturn(host);
  when(mockRequest.getHeader(eq(HttpConstants.HEADER_HOST))).thenReturn(host);
  when(mockRequest.getPathInfo()).thenReturn(pathInfo);
  addParameterExpectations(mockRequest);
  addAttributeExpectations(mockRequest);
  addHeaderExpectations(mockRequest);
  return mockRequest;
}
