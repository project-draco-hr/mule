{
  int port=uri.getPort();
  if (port < 0) {
    String scheme=uri.getScheme();
    if (scheme.equalsIgnoreCase("https")) {
      port=443;
    }
 else     if (scheme.equalsIgnoreCase("http")) {
      port=80;
    }
 else {
      throw new MalformedCookieException("The uri (" + uri + ") does not specify a port and no default is available for its scheme ("+ scheme+ ").");
    }
  }
  return port;
}
