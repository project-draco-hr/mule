{
  if (logger.isInfoEnabled()) {
    logger.info(miniSplash(format("Initializing app '%s'",descriptor.getName())));
  }
  try {
    ConfigurationBuilder cfgBuilder=domainRepository.getDomain(descriptor.getDomain()).createApplicationConfigurationBuilder(this);
    if (!cfgBuilder.isConfigured()) {
      List<ConfigurationBuilder> builders=new LinkedList<>();
      builders.add(new ApplicationExtensionsManagerConfigurationBuilder(applicationPlugins));
      builders.add(createConfigurationBuilderFromApplicationProperties());
      builders.add(cfgBuilder);
      DefaultMuleContextFactory muleContextFactory=new DefaultMuleContextFactory();
      if (deploymentListener != null) {
        muleContextFactory.addListener(new MuleContextDeploymentListener(getArtifactName(),deploymentListener));
      }
      ApplicationMuleContextBuilder applicationContextBuilder=new ApplicationMuleContextBuilder(descriptor);
      applicationContextBuilder.setExecutionClassLoader(deploymentClassLoader.getClassLoader());
      setMuleContext(muleContextFactory.createMuleContext(builders,applicationContextBuilder));
    }
  }
 catch (  Exception e) {
    setStatusToFailed();
    logger.error(null,ExceptionUtils.getRootCause(e));
    throw new DeploymentInitException(createStaticMessage(ExceptionUtils.getRootCauseMessage(e)),e);
  }
}
