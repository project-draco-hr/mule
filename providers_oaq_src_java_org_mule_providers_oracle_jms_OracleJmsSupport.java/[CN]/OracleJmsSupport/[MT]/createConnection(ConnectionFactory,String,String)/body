{
  javax.jms.Connection jmsConnection=null;
  java.sql.Connection jdbcConnection=null;
  try {
    log.debug("Creating queue/topic connection, URL = " + ((OracleJmsConnector)connector).getUrl());
    if (username == null) {
      jdbcConnection=DriverManager.getConnection(((OracleJmsConnector)connector).getUrl());
    }
 else {
      jdbcConnection=DriverManager.getConnection(((OracleJmsConnector)connector).getUrl(),username,password);
    }
  }
 catch (  SQLException e) {
    throw new JMSException("Unable to open JDBC connection",e.getMessage());
  }
  if (false) {
    jmsConnection=AQjmsTopicConnectionFactory.createTopicConnection(jdbcConnection);
  }
 else {
    jmsConnection=AQjmsQueueConnectionFactory.createQueueConnection(jdbcConnection);
  }
  ((OracleJmsConnector)connector).getConnections().add(jmsConnection);
  return jmsConnection;
}
