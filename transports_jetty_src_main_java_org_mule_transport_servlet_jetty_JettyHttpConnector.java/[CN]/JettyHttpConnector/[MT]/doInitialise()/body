{
  httpServer=new Server();
  if (getReceiverServlet() == null) {
    setServletClass((useContinuations ? JettyContinuationsReceiverServlet.class : JettyReceiverServlet.class));
  }
  Context root=new Context(httpServer,"/",Context.SESSIONS);
  holder=root.addServlet(getServletClass(),"/*");
  root.addEventListener(new ServletContextListener(){
    public void contextInitialized(    ServletContextEvent sce){
      sce.getServletContext().setAttribute(MuleProperties.MULE_CONTEXT_PROPERTY,muleContext);
    }
    public void contextDestroyed(    ServletContextEvent sce){
    }
  }
);
  if (configFile != null) {
    try {
      InputStream is=IOUtils.getResourceAsStream(configFile,getClass());
      XmlConfiguration config=new XmlConfiguration(is);
      config.configure(httpServer);
    }
 catch (    Exception e) {
      throw new InitialisationException(e,this);
    }
  }
}
