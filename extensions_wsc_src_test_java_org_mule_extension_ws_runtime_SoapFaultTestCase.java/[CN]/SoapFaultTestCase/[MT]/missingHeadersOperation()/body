{
  MessagingException me=flowRunner("echoMissingHeaders").withPayload(resourceAsString("request/" + ECHO_HEADERS_XML)).runExpectingException();
  Exception causeException=me.getCauseException();
  assertThat(causeException,instanceOf(SoapFaultException.class));
  SoapFaultException sf=(SoapFaultException)causeException;
  assertThat(sf.getFaultCode().getLocalPart(),is("Server"));
  assertThat(sf.getMessage(),is("Missing Required Headers"));
}
