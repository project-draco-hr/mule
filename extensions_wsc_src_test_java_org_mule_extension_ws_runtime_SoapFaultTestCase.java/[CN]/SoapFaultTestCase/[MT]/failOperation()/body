{
  MessagingException me=flowRunner(FAIL_FLOW).withPayload(getRequestResource(FAIL)).runExpectingException();
  Exception causeException=me.getCauseException();
  assertThat(causeException,instanceOf(SoapFaultException.class));
  SoapFaultException sf=(SoapFaultException)causeException;
  assertThat(sf.getFaultCode().getLocalPart(),is("Server"));
  assertThat(sf.getMessage(),is("Fail Message"));
}
