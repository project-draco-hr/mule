{
  try {
    Driver derbyDriver=(Driver)ClassUtils.instanciateClass(DERBY_DRIVER_CLASS,new Object[0]);
    Method connectMethod=derbyDriver.getClass().getMethod("connect",new Class[]{String.class,Properties.class});
    String connectionName="jdbc:derby:" + databaseName + ";create=true";
    connectMethod.invoke(derbyDriver,new Object[]{connectionName,null});
  }
 catch (  Exception ex) {
    throw new RuntimeException("Error creating the database " + databaseName,ex);
  }
}
