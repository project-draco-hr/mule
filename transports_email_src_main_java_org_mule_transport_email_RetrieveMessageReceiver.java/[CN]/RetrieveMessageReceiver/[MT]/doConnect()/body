{
  SessionDetails session=castConnector().getSessionDetails(endpoint);
  Store store=session.newStore();
  store.connect();
  folder=store.getFolder(castConnector().getMailboxFolder());
  if (StringUtils.isEmpty(backupFolder)) {
    this.backupFolder=connector.getMuleContext().getConfiguration().getWorkingDirectory() + "/mail/" + folder.getName();
  }
  if (backupFolder != null && !this.backupFolder.endsWith(File.separator)) {
    this.backupFolder+=File.separator;
  }
}
