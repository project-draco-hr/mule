{
  if (key instanceof Message) {
    this.message=(Message)key;
    return;
  }
  if (!(key instanceof Connection) || !(resource instanceof Session)) {
    throw new IllegalTransactionStateException(new org.mule.config.i18n.Message(Messages.TX_CAN_ONLY_BIND_TO_X_TYPE_RESOURCES,"javax.jms.Connection/javax.jms.Session"));
  }
  Session session=(Session)resource;
  try {
    if (session.getTransacted()) {
      throw new IllegalTransactionStateException(new org.mule.config.i18n.Message("jms",5));
    }
  }
 catch (  JMSException e) {
    throw new IllegalTransactionStateException(new org.mule.config.i18n.Message(Messages.TX_CANT_READ_STATE),e);
  }
  super.bindResource(key,resource);
}
