{
  Statement result;
  if (queryTemplate.getType().equals(QueryType.STORE_PROCEDURE_CALL)) {
    result=connection.prepareCall(queryTemplate.getSqlText(),ResultSet.TYPE_FORWARD_ONLY,ResultSet.CONCUR_READ_ONLY);
  }
 else {
    boolean hasInputParams=queryTemplate.getInputParams().size() > 0;
    if (hasInputParams) {
      result=autoGeneratedKeyStrategy.prepareStatement(connection,queryTemplate);
    }
 else {
      result=connection.createStatement();
    }
  }
  if (maxRows > 0) {
    result.setMaxRows(maxRows);
  }
  if (fetchSize != null) {
    result.setFetchSize(fetchSize);
  }
  return result;
}
