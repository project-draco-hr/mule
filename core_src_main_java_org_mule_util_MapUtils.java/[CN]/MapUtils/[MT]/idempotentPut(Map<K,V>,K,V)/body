{
  checkArgument(key != null,"key cannot be null");
  if (map.containsKey(key)) {
    throw new IllegalStateException(String.format("Key '%s' is already registered with value %s",key,map.get(key)));
  }
  map.put(key,value);
}
