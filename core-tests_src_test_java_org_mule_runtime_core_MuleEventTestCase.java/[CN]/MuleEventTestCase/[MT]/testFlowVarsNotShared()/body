{
  MuleEvent event=getTestEvent("whatever");
  event.setFlowVariable("foo","bar");
  MuleEvent copy=new DefaultMuleEvent((MuleMessage)((ThreadSafeAccess)event.getMessage()).newThreadCopy(),event,false,false);
  copy.setFlowVariable("foo","bar2");
  assertEquals("bar",event.getFlowVariable("foo"));
  assertEquals("bar2",copy.getFlowVariable("foo"));
}
