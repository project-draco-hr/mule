{
  assertAccess(READ);
  if (object instanceof String) {
    return object.toString().getBytes(getEncoding());
  }
  if (object instanceof byte[]) {
    return (byte[])object;
  }
 else   if (object instanceof Serializable) {
    try {
      return SerializationUtils.serialize((Serializable)object);
    }
 catch (    Exception e) {
      throw new TransformerException(CoreMessages.transformFailed(object.getClass().getName(),"byte[]"),e);
    }
  }
 else {
    return (byte[])getPayload(byte[].class);
  }
}
