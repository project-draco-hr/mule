{
  if (value == null || pattern == null) {
    throw new IllegalArgumentException("pattern and value cannot be null");
  }
  Matcher matcher=pattern.matcher(value);
  if (matcher.find() && (matcher.groupCount() >= matchIndex)) {
    return matcher.group(matchIndex);
  }
  throw new IllegalArgumentException(String.format("String %s did not produced any match for pattern %s at index %d",value,pattern.pattern(),matchIndex));
}
