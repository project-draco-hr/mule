{
  if (!StringUtils.isBlank(configurationProviderName) && muleContext.getRegistry().get(configurationProviderName) instanceof DynamicConfigurationProvider) {
    throw new MetadataResolvingException("Configuration used for Metadata fetch cannot be dynamic",FailureCode.INVALID_CONFIGURATION);
  }
  ConfigurationInstance<Object> configuration=getConfiguration(getInitialiserEvent(muleContext));
  String cacheId=configuration.getName();
  return new DefaultMetadataContext(configuration,connectionManager,metadataManager.getMetadataCache(cacheId));
}
