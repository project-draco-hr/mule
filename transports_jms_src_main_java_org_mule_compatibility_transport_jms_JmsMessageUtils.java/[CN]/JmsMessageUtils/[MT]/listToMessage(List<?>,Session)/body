{
  StreamMessage sMsg=session.createStreamMessage();
  for (Iterator<?> iter=value.iterator(); iter.hasNext(); ) {
    Object o=iter.next();
    if (validateStreamMessageType(o)) {
      sMsg.writeObject(o);
    }
 else {
      throw new MessageFormatException(String.format("Invalid type passed to StreamMessage: %s . Allowed types are: " + "Boolean, Byte, Short, Character, Integer, Long, Float, Double," + "String and byte[]",ClassUtils.getShortClassName(o,"null")));
    }
  }
  return sMsg;
}
