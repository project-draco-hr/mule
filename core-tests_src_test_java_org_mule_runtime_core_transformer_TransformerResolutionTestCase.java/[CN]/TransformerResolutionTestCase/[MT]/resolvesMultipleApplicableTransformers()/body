{
  muleContext.getRegistry().registerTransformer(new StringToOrange());
  muleContext.getRegistry().registerTransformer(new StringToApple());
  muleContext.getRegistry().registerTransformer(new StringToFruit());
  try {
    Transformer transformer=muleContext.getRegistry().lookupTransformer(DataTypeFactory.STRING,FRUIT_DATA_TYPE);
    assertTrue(String.format("Expected a %s transformer but got %s",StringToFruit.class.getName(),transformer.getClass().getName()),transformer instanceof StringToFruit);
  }
 catch (  TransformerException e) {
    fail("Unable to properly resolve transformer");
  }
}
