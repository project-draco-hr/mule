{
  Object msgRecipients=message.getProperty(RECIPIENTS_PROPERTY);
  message.removeProperty(RECIPIENTS_PROPERTY);
  if (msgRecipients == null) {
    return recipients;
  }
 else   if (msgRecipients instanceof String) {
    return Arrays.asList(StringUtils.splitAndTrim(msgRecipients.toString(),this.getListDelimiter()));
  }
 else   if (msgRecipients instanceof List) {
    return new ArrayList((List)msgRecipients);
  }
 else {
    logger.warn("Recipients on message are neither String nor List but: " + msgRecipients.getClass());
    return Collections.EMPTY_LIST;
  }
}
