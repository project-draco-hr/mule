{
  Object msgRecipients=event.getMessage().removeProperty(RECIPIENTS_PROPERTY);
  if (msgRecipients == null) {
    return recipients;
  }
 else   if (msgRecipients instanceof String) {
    Object[] split=StringUtils.splitAndTrim(msgRecipients.toString(),getListDelimiter());
    return Arrays.<Object>asList(split);
  }
 else   if (msgRecipients instanceof List) {
    return new ArrayList<Object>((List<?>)msgRecipients);
  }
 else {
    logger.warn("Recipients on message are neither String nor List but: " + msgRecipients.getClass());
    return Collections.emptyList();
  }
}
