{
  DefaultMuleMessage fileParserMessasge=new DefaultMuleMessage(null,getEndpoint().getMuleContext());
  fileParserMessasge.setInboundProperty(FileConnector.PROPERTY_ORIGINAL_FILENAME,originalFileName);
  fileParserMessasge.setInboundProperty(FileConnector.PROPERTY_ORIGINAL_DIRECTORY,originalDirectory);
  return fileConnector.getFilenameParser().getFilename(fileParserMessasge,pattern);
}
