{
  if (!getCurrentState().equals(SHUTDOWN)) {
    throw new JBIException("Illegal status: " + getCurrentState());
  }
  if (this.units.size() > 0) {
    throw new JBIException("Component has service units deployed");
  }
  Library[] libraries=getLibraries();
  for (int i=0; i < libraries.length; i++) {
    libraries[i].removeComponent(this);
  }
  IOUtils.deleteFile(new File(getInstallRoot()));
  IOUtils.deleteFile(new File(getWorkspaceRoot()));
  getRegistry().removeComponent(this);
  setCurrentState(UNKNOWN);
}
