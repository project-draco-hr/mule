{
  if (src instanceof byte[]) {
    return (byte[])src;
  }
  byte[] dest=null;
  ByteArrayOutputStream bs=null;
  ObjectOutputStream os=null;
  try {
    bs=new ByteArrayOutputStream();
    os=new ObjectOutputStream(bs);
    os.writeObject(src);
    os.flush();
    dest=bs.toByteArray();
  }
 catch (  Exception e) {
    throw new TransformerException("Faield to convert Object to byte[]: " + e.getMessage(),e);
  }
 finally {
    try {
      if (os != null)       os.close();
    }
 catch (    IOException e) {
    }
  }
  return dest;
}
