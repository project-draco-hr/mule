{
  ThreadingProfile tp=MuleManager.getConfiguration().getDefaultThreadingProfile();
  assertEquals(0,tp.getMaxBufferSize());
  assertEquals(8,tp.getMaxThreadsActive());
  assertEquals(4,tp.getMaxThreadsIdle());
  assertEquals(0,tp.getPoolExhaustedAction());
  assertEquals(60001,tp.getThreadTTL());
  tp=MuleManager.getConfiguration().getComponentThreadingProfile();
  assertEquals(0,tp.getMaxBufferSize());
  assertEquals(8,tp.getMaxThreadsActive());
  assertEquals(4,tp.getMaxThreadsIdle());
  assertEquals(0,tp.getPoolExhaustedAction());
  assertEquals(60001,tp.getThreadTTL());
  AbstractConnector c=(AbstractConnector)MuleManager.getInstance().lookupConnector("dummyConnector");
  tp=c.getDispatcherThreadingProfile();
  assertEquals(2,tp.getMaxBufferSize());
  assertEquals(10,tp.getMaxThreadsActive());
  assertEquals(10,tp.getMaxThreadsIdle());
  assertEquals(4,tp.getPoolExhaustedAction());
  assertEquals(60000,tp.getThreadTTL());
  MuleDescriptor descriptor=(MuleDescriptor)MuleManager.getInstance().getModel().getDescriptor("appleComponent2");
  tp=descriptor.getThreadingProfile();
  assertEquals(6,tp.getMaxBufferSize());
  assertEquals(12,tp.getMaxThreadsActive());
  assertEquals(6,tp.getMaxThreadsIdle());
  assertEquals(4,tp.getPoolExhaustedAction());
  assertEquals(60000,tp.getThreadTTL());
}
