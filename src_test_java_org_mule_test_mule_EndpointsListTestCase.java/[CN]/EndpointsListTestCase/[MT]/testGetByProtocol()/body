{
  EndpointList list=new EndpointList();
  UMOEndpoint test1=getTestEndpoint("test1",UMOEndpoint.ENDPOINT_TYPE_SENDER);
  list.add(test1);
  UMOEndpoint test2=getTestEndpoint("test2",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  list.add(test2);
  UMOEndpoint test3=getTestEndpoint("test3",UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  list.add(test3);
  assertEquals(0,list.getReceiveProvidersByProtocol("XXX").length);
  UMOImmutableEndpoint[] descriptors=list.getReceiveProvidersByProtocol(test1.getConnector().getProtocol());
  assertEquals(2,descriptors.length);
  descriptors=list.getSendProvidersByProtocol(test1.getConnector().getProtocol());
  assertEquals(1,descriptors.length);
}
