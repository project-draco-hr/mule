{
  EndpointList list=new EndpointList();
  list.remove(null);
  UMOEndpoint test1=getTestEndpoint("test1",UMOEndpoint.ENDPOINT_TYPE_SENDER);
  test1.setTransformer(new DefaultTransformer());
  list.add(test1);
  assertEquals("There should be 1 endpoint registered",1,list.getTotalSize());
  assertNotNull("The default send endpoint should be set",list.getDefaultSendProvider());
  assertEquals("Default send endpoint should be test1","test1",list.getDefaultSendProvider().getName());
  UMOEndpoint test2=getTestEndpoint("test2",UMOEndpoint.ENDPOINT_TYPE_SENDER);
  list.add(test2);
  assertEquals("There should be 2 endpoints registered",2,list.getTotalSize());
  assertNotNull("The  send endpoint should be obtainable",list.getSendProvider("test2"));
  assertEquals("Default send endpoint should be test1","test1",list.getDefaultSendProvider().getName());
  UMOEndpoint test3=getTestEndpoint("test3",UMOEndpoint.ENDPOINT_TYPE_SENDER);
  list.add(test3);
  assertEquals("There should be 3 endpoints registered",3,list.getTotalSize());
  assertNotNull("The  send endpoint should be obtainable",list.getSendProvider("test3"));
  assertEquals("Default send endpoint should be test1","test1",list.getDefaultSendProvider().getName());
  UMOEndpoint test4=getTestEndpoint("test4",UMOEndpoint.ENDPOINT_TYPE_SENDER_AND_RECEIVER);
  list.add(test4);
  assertEquals("There should be 4 endpoints registered",4,list.getTotalSize());
  assertNotNull("The send endpoint should be obtainable",list.getSendProvider("test4"));
  assertNull("There should be no receive endpoint",list.getReceiveProvider("test4"));
}
