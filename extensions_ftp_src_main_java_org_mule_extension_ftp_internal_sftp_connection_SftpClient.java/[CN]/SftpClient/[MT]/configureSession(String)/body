{
  Properties hash=new Properties();
  configureHostChecking(hash);
  if (!StringUtils.isEmpty(preferredAuthenticationMethods)) {
    hash.put(PREFERRED_AUTHENTICATION_METHODS,preferredAuthenticationMethods);
  }
  session=jsch.getSession(user,host);
  session.setConfig(hash);
  session.setPort(port);
  session.setTimeout(Long.valueOf(connectionTimeoutMillis).intValue());
}
