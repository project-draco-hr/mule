{
  deploymentService.start();
  addPackedAppFromResource(incompleteAppDescriptor.zipPath);
  assertDeploymentFailure(applicationDeploymentListener,incompleteAppDescriptor.id);
  addPackedAppFromResource(dummyAppDescriptor.zipPath);
  assertApplicationDeploymentSuccess(applicationDeploymentListener,dummyAppDescriptor.id);
  addPackedAppFromResource(emptyAppDescriptor.zipPath,incompleteAppDescriptor.targetPath);
  assertApplicationDeploymentSuccess(applicationDeploymentListener,incompleteAppDescriptor.id);
  assertEquals("Failed app still appears as zombie after a successful redeploy",0,deploymentService.getZombieApplications().size());
}
