{
  deploymentService.start();
  addPackedAppFromResource(INCOMPLETE_APP_ZIP_PATH);
  assertDeploymentFailure(applicationDeploymentListener,INCOMPLETE_APP);
  addPackedAppFromResource(DUMMY_APP_ZIP_PATH);
  assertDeploymentSuccess(applicationDeploymentListener,DUMMY_APP);
  addPackedAppFromResource(EMPTY_APP_ZIP_PATH,INCOMPLETE_APP_TARGET_NAME);
  assertDeploymentSuccess(applicationDeploymentListener,INCOMPLETE_APP);
  assertEquals("Failed app still appears as zombie after a successful redeploy",0,deploymentService.getZombieApplications().size());
}
