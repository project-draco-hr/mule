{
  deploymentService.start();
  addExplodedAppFromResource("/incompleteApp.zip","incompleteApp");
  assertDeploymentFailure(applicationDeploymentListener,"incompleteApp");
  reset(applicationDeploymentListener);
  File originalConfigFile=new File(appsDir + "/incompleteApp","mule-config.xml");
  URL url=getClass().getResource("/empty-config.xml");
  File newConfigFile=new File(url.toURI());
  FileUtils.copyFile(newConfigFile,originalConfigFile);
  assertDeploymentSuccess(applicationDeploymentListener,"incompleteApp");
  addPackedAppFromResource("/dummy-app.zip");
  assertDeploymentSuccess(applicationDeploymentListener,DUMMY_APP);
  assertAppFolderIsMaintained("incompleteApp");
}
