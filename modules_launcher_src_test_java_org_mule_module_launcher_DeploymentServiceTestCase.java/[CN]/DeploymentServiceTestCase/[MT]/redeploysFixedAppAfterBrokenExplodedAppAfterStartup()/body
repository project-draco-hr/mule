{
  deploymentService.start();
  addExplodedAppFromResource("/incompleteApp.zip","incompleteApp");
  assertDeploymentFailure(deploymentListener,"incompleteApp");
  reset(deploymentListener);
  File originalConfigFile=new File(appsDir + "/incompleteApp","mule-config.xml");
  URL url=getClass().getResource("/empty-config.xml");
  File newConfigFile=new File(url.toURI());
  FileUtils.copyFile(newConfigFile,originalConfigFile);
  assertDeploymentSuccess(deploymentListener,"incompleteApp");
  addPackedAppFromResource("/dummy-app.zip");
  assertDeploymentSuccess(deploymentListener,"dummy-app");
  assertAppFolderIsMaintained("incompleteApp");
}
