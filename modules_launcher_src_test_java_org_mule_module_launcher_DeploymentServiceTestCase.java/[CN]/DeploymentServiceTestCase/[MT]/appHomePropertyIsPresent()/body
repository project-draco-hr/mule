{
  addExplodedAppFromResource(dummyAppDescriptor.zipPath);
  changeConfigFile(dummyAppDescriptor.path,PROPERTIES_APP_CONFIG_XML);
  deploymentService.start();
  assertApplicationDeploymentSuccess(applicationDeploymentListener,dummyAppDescriptor.id);
  final Application app=findApp(dummyAppDescriptor.id,1);
  final MuleRegistry registry=getMuleRegistry(app);
  Map<String,Object> appProperties=registry.get("appProperties");
  assertThat(appProperties,is(notNullValue()));
  String appHome=(String)appProperties.get("appHome");
  assertThat(new File(appHome).exists(),is(true));
}
