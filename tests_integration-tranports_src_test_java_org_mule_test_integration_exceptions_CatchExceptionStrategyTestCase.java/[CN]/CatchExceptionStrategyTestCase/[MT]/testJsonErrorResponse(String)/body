{
  MuleClient client=muleContext.getClient();
  final HttpRequestOptions httpRequestOptions=newOptions().method(POST.name()).tlsContextFactory(tlsContextFactory).responseTimeout(TIMEOUT).build();
  MuleMessage response=client.send(endpointUri,getTestMuleMessage(JSON_REQUEST),httpRequestOptions);
  assertThat(response,IsNull.<Object>notNullValue());
  ObjectMapper mapper=new ObjectMapper();
  JsonNode actualJsonNode=mapper.readTree(getPayloadAsString(response));
  JsonNode expectedJsonNode=mapper.readTree(JSON_RESPONSE);
  assertThat(actualJsonNode,Is.is(expectedJsonNode));
}
