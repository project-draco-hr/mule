{
  String newName=bestGuessName(targetConfig,propertyName,target.getBeanClassName());
  MutablePropertyValues targetProperties=target.getPropertyValues();
  PropertyValue pv=targetProperties.getPropertyValue(newName);
  Object oldValue=null == pv ? null : pv.getValue();
  if (!targetConfig.isIgnored(propertyName)) {
    if (targetConfig.isCollection(propertyName)) {
      if (null == oldValue) {
        oldValue=new ManagedList();
        pv=new PropertyValue(newName,oldValue);
        targetProperties.addPropertyValue(pv);
      }
      List list=retrieveList(oldValue);
      list.add(new RuntimeBeanReference(singletonName));
    }
 else {
      targetProperties.addPropertyValue(newName,new RuntimeBeanReference(singletonName));
    }
  }
}
