{
  if (!config.isIgnored()) {
    if (logger.isDebugEnabled()) {
      logger.debug(name + ": " + value);
    }
    Object oldValue=null;
    if (properties.contains(name)) {
      oldValue=properties.getPropertyValue(name).getValue();
    }
    if (config.isCollection() || oldValue instanceof Collection || value instanceof Collection) {
      Collection values=new ManagedList();
      if (null != oldValue) {
        properties.removePropertyValue(name);
        if (oldValue instanceof Collection) {
          values.addAll((Collection)oldValue);
        }
 else {
          values.add(oldValue);
        }
      }
      if (value instanceof Collection) {
        values.addAll((Collection)value);
      }
 else {
        values.add(value);
      }
      properties.addPropertyValue(name,values);
    }
 else {
      properties.addPropertyValue(name,value);
    }
  }
}
