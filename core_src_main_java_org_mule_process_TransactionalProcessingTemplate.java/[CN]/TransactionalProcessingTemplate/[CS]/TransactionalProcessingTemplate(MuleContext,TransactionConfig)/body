{
  if (transactionConfig == null) {
    transactionConfig=new MuleTransactionConfig();
  }
  final boolean processTransactionOnException=false;
  ProcessingInterceptor<T> tempProcessingInterceptor=new ExecuteCallbackInterceptor<T>();
  tempProcessingInterceptor=new BeginAndResolveTransactionInterceptor<T>(tempProcessingInterceptor,transactionConfig,muleContext,processTransactionOnException);
  tempProcessingInterceptor=new ResolvePreviousTransactionInterceptor<T>(tempProcessingInterceptor,transactionConfig);
  tempProcessingInterceptor=new SuspendXaTransactionInterceptor<T>(tempProcessingInterceptor,transactionConfig,processTransactionOnException);
  tempProcessingInterceptor=new ValidateTransactionalStateInterceptor<T>(tempProcessingInterceptor,transactionConfig);
  this.processingInterceptor=new ExternalTransactionInterceptor<T>(tempProcessingInterceptor,transactionConfig,muleContext);
}
