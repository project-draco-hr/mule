{
  JmsConnector connector=new JmsConnector();
  connector.setSpecification(JmsConnector.JMS_SPECIFICATION_11);
  Properties props=JmsTestUtils.getJmsProperties(JmsTestUtils.ACTIVE_MQ_JMS_PROPERTIES);
  connector.setConnectionFactoryJndiName("XAJmsQueueConnectionFactory");
  connector.setProviderProperties(props);
  connector.setName(CONNECTOR_NAME);
  connector.setDisposeDispatcherOnCompletion(true);
  connector.getDispatcherThreadingProfile().setDoThreading(false);
  Map serviceOverrides=new HashMap();
  serviceOverrides.put(MuleProperties.CONNECTOR_MESSAGE_RECEIVER_CLASS,XaJmsMessageReceiver.class.getName());
  connector.setServiceOverrides(serviceOverrides);
  return connector;
}
