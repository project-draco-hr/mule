{
  MuleClient client=new MuleClient();
  MuleMessage message=client.send("http://localhost:4447","request",null);
  assertNotNull(message);
  assertTrue(message.getAdapter() instanceof HttpMessageAdapter);
  String server=((HttpMessageAdapter)message.getAdapter()).getHeader(HttpConstants.HEADER_SERVER).getValue();
  assertTrue(server.startsWith("Mule"));
  String dateStr=((HttpMessageAdapter)message.getAdapter()).getHeader(HttpConstants.HEADER_DATE).getValue();
  SimpleDateFormat format=new SimpleDateFormat(HttpConstants.DATE_FORMAT,Locale.US);
  Date msgDate=format.parse(dateStr);
  assertTrue(new Date().after(msgDate));
  assertEquals("request" + CUSTOM_RESPONSE,message.getPayloadAsString());
}
