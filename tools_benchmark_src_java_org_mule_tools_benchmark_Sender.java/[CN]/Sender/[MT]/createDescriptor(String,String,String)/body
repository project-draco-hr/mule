{
  UMOEndpointURI inbound=null;
  UMOEndpointURI outbound=null;
  if (in != null)   inbound=new MuleEndpointURI(in);
  if (out != null)   outbound=new MuleEndpointURI(out);
  MuleDescriptor d=new MuleDescriptor(name);
  d.setImplementation(BenchmarkComponent.class.getName());
  d.setThreadingProfile(new ThreadingProfile(config.getThreads(),config.getThreads(),-1,(byte)4,null,null));
  d.setQueueProfile(new QueueProfile(config.getQueue(),null));
  d.setPoolingProfile(new PoolingProfile(config.getThreads(),config.getThreads(),0,(byte)2,PoolingProfile.POOL_INITIALISE_ALL_COMPONENTS));
  d.setInboundEndpoint(ConnectorFactory.createEndpoint(inbound,UMOEndpoint.ENDPOINT_TYPE_RECEIVER));
  if (outbound != null) {
    d.setOutboundEndpoint(ConnectorFactory.createEndpoint(outbound,UMOEndpoint.ENDPOINT_TYPE_SENDER));
  }
  return d;
}
