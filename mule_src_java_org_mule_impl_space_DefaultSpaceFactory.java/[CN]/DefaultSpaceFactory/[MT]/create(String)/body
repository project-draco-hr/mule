{
  if (capacity == 0) {
    capacity=1024;
  }
  try {
    if (queueManager != null) {
      return new DefaultSpace(name,queueManager,enableMonitorEvents);
    }
 else     if (persistenceStrategy == null) {
      persistenceStrategy=new MemoryPersistenceStrategy();
    }
    if (enableCaching) {
      persistenceStrategy=new CachingPersistenceStrategy(persistenceStrategy);
    }
    return new DefaultSpace(name,persistenceStrategy,enableMonitorEvents,capacity);
  }
 catch (  ResourceManagerSystemException e) {
    throw new CreateSpaceException(e);
  }
}
