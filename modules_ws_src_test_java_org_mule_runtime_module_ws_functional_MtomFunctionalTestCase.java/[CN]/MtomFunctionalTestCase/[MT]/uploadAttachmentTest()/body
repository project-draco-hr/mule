{
  String request=String.format("<ns:uploadAttachment xmlns:ns=\"http://consumer.ws.module.runtime.mule.org/\">" + "<fileName>%s</fileName><attachment>" + "<xop:Include xmlns:xop=\"http://www.w3.org/2004/08/xop/include\" href=\"cid:testAttachmentId\"/>"+ "</attachment></ns:uploadAttachment>",TEST_FILE_ATTACHMENT);
  MuleEvent event=flowRunner("clientUploadAttachment").withPayload(request).withOutboundAttachment("testAttachmentId",buildDataHandler(TEST_FILE_ATTACHMENT)).run();
  String expected="<ns2:uploadAttachmentResponse xmlns:ns2=\"http://consumer.ws.module.runtime.mule.org/\">" + "<result>OK</result></ns2:uploadAttachmentResponse>";
  assertXMLEqual(expected,getPayloadAsString(event.getMessage()));
}
