{
synchronized (lockAccessMonitor) {
    LockEntry lockEntry=locks.get(key);
    if (lockEntry != null) {
      lockEntry.decrementLockCount();
      if (!lockEntry.hasPendingLocks()) {
        locks.remove(key);
      }
      lockEntry.getLock().unlock();
      lockProvider.destroyLock(lockEntry.getLock());
    }
    lockAccessMonitor.notifyAll();
  }
}
