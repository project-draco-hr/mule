{
  if (producer instanceof QueueSender) {
    ((QueueSender)producer).send((Queue)dest,message,ackMode,priority,ttl);
  }
 else {
    ((TopicPublisher)producer).publish((Topic)dest,message,ackMode,priority,ttl);
  }
}
