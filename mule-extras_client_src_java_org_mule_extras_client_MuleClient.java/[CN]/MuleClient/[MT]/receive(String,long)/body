{
  MuleEndpointURI muleEndpoint=new MuleEndpointURI(url);
  UMOEndpoint endpoint=MuleEndpoint.getOrCreateEndpointForUri(muleEndpoint,UMOEndpoint.ENDPOINT_TYPE_SENDER);
  try {
    UMOMessage message=endpoint.getConnector().getDispatcher(muleEndpoint.getAddress()).receive(muleEndpoint,timeout);
    return message;
  }
 catch (  Exception e) {
    throw new MuleClientException("Failed to receive message: " + e.getMessage(),e);
  }
}
