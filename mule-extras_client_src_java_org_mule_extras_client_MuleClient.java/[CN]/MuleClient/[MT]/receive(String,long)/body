{
  UMOEndpoint endpoint=getEndpoint(url,UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  try {
    UMOMessage message=endpoint.getConnector().getDispatcher(endpoint).receive(endpoint,timeout);
    if (message != null && endpoint.getTransformer() != null) {
      if (endpoint.getTransformer().isSourceTypeSupported(message.getPayload().getClass())) {
        message=new MuleMessage(endpoint.getTransformer().transform(message.getPayload()),message);
      }
    }
    return message;
  }
 catch (  Exception e) {
    throw new ReceiveException(endpoint,timeout,e);
  }
}
