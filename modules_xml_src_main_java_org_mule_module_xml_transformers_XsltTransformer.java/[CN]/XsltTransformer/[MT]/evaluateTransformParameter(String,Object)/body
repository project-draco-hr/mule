{
  if (value instanceof String) {
    String stringValue=(String)value;
    if (!stringValue.startsWith(PARAM_EXTRACTOR_TOKEN)) {
      return stringValue;
    }
 else {
      MuleEventContext context=RequestContext.getEventContext();
      if (context == null) {
        throw new TransformerException(CoreMessages.noCurrentEventForTransformer(),this);
      }
      return PropertyExtractorManager.processExpression(value.toString(),context.getMessage());
    }
  }
  return value;
}
