{
  String expectedStartOfErrorMessage="Error 'No such file' occurred when trying to CDW";
  MuleRegistry registry=muleContext.getRegistry();
  SftpConnector c=(SftpConnector)registry.lookupConnector("sftp");
  assertNotNull(c);
  EndpointBuilder epb=registry.lookupEndpointBuilder("InvalidEndpoint");
  InboundEndpoint ep=epb.buildInboundEndpoint();
  for (int i=0; i < NO_OF_INVALID_ATTEMPTS; i++) {
    if (logger.isDebugEnabled())     logger.debug("CreateSftpClient invalid atempt #" + i + " of "+ NO_OF_INVALID_ATTEMPTS);
    try {
      c.createSftpClient(ep);
      fail("Should have received an exception here!!!");
    }
 catch (    IOException ioe) {
      String actualStartOfErrorMessage=ioe.getMessage().substring(0,expectedStartOfErrorMessage.length());
      assertEquals(expectedStartOfErrorMessage,actualStartOfErrorMessage);
    }
  }
}
