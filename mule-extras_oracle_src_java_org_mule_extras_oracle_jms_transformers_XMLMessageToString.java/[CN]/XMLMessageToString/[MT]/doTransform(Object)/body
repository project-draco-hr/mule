{
  Object payload=null;
  String xml=null;
  if (!(adtMessage instanceof AdtMessage))   throw new TransformerException(Message.createStaticMessage("Object to transform must be of type AdtMessage."),this);
  try {
    payload=((AdtMessage)adtMessage).getAdtPayload();
  }
 catch (  JMSException e) {
    throw new TransformerException(Message.createStaticMessage("Unable to get ADT payload from JMS message."),this,e);
  }
  if (!(payload instanceof XMLType))   throw new TransformerException(Message.createStaticMessage("The message payload must be an XMLType."),this);
  try {
    xml=((XMLType)payload).getStringVal();
  }
 catch (  SQLException e) {
    throw new TransformerException(Message.createStaticMessage("Unable to extract XML as string from XMLType."),this,e);
  }
  return xml;
}
