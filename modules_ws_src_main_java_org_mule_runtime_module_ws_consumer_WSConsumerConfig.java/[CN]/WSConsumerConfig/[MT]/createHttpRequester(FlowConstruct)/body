{
  return new Processor(){
    private HttpRequestOptions requestOptions;
    @Override public Event process(    Event event) throws MuleException {
      ConnectorOperationLocator connectorOperationLocator=muleContext.getRegistry().get(OBJECT_CONNECTOR_MESSAGE_PROCESSOR_LOCATOR);
      Processor messageProcessor=connectorOperationLocator.locateConnectorOperation(serviceAddress,getRequestOptions(),REQUEST_RESPONSE);
      if (messageProcessor instanceof FlowConstructAware) {
        ((FlowConstructAware)messageProcessor).setFlowConstruct(flowConstruct);
      }
      return messageProcessor.process(event);
    }
    private HttpRequestOptions getRequestOptions(){
      if (requestOptions == null) {
        final HttpRequestOptionsBuilder builder=newOptions().method(POST.name()).disableStatusCodeValidation().disableParseResponse();
        if (connectorConfig != null) {
          builder.requestConfig(connectorConfig);
        }
        requestOptions=builder.build();
      }
      return requestOptions;
    }
  }
;
}
