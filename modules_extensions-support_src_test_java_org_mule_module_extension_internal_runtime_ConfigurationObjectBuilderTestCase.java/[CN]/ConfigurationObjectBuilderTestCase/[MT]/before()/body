{
  configurationInstance=new TestConfig();
  when(configuration.getParameters()).thenReturn(Arrays.asList(nameParameter,descriptionParameter));
  when(configuration.getInstantiator().newInstance()).thenReturn(configurationInstance);
  when(configuration.getInstantiator().getObjectType()).thenAnswer(new Answer<Object>(){
    @Override public Object answer(    InvocationOnMock invocation) throws Throwable {
      return TestConfig.class;
    }
  }
);
  when(configuration.getCapabilities(ParameterGroupCapability.class)).thenReturn(null);
  resolverSet=new ResolverSet();
  resolverSet.add(nameParameter,getResolver(NAME_VALUE));
  resolverSet.add(descriptionParameter,getResolver(DESCRIPTION_VALUE));
  configurationObjectBuilder=new ConfigurationObjectBuilder(CONFIG_NAME,extension,configuration,resolverSet,registrationCallback);
}
