{
  final Map<String,String> queryParams=event.getMessage().getInboundProperty(HTTP_QUERY_PARAMS);
  final String authorizationCode=queryParams.get(CODE_PARAMETER);
  if (authorizationCode == null) {
    logger.info("HTTP Request to redirect URL done by the OAuth provider does not contains a code query parameter. Code query parameter is required to get the access token.");
    throw new NoAuthorizationCodeException();
  }
  return authorizationCode;
}
