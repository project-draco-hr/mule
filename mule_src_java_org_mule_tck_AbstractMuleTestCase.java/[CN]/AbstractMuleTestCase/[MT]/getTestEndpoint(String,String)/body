{
  UMOEndpoint endpoint=new MuleEndpoint();
  UMOConnector connector=null;
  try {
    connector=(UMOConnector)ClassHelper.loadClass("org.mule.tck.testmodels.mule.TestConnector",AbstractMuleTestCase.class).newInstance();
  }
 catch (  Exception e) {
    throw new MuleException("Failed to create endpoint: " + e.getMessage(),e);
  }
  connector.setName("testConnector");
  endpoint.setConnector(connector);
  endpoint.setEndpointURI(new MuleEndpointURI("test://test"));
  endpoint.setName(name);
  endpoint.setType(type);
  return endpoint;
}
