{
  MetadataScope scopeAnnotation=method.getAnnotation(MetadataScope.class);
  scopeAnnotation=scopeAnnotation == null ? extensionType.getAnnotation(MetadataScope.class) : scopeAnnotation;
  if (scopeAnnotation != null) {
    return new DefaultMetadataResolverFactory(scopeAnnotation.keysResolver(),scopeAnnotation.contentResolver(),scopeAnnotation.outputResolver());
  }
  return new NullMetadataResolverFactory();
}
