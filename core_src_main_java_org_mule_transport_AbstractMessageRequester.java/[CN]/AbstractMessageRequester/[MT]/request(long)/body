{
  final long finalTimeout=timeout;
  try {
    RetryContext context=retryTemplate.execute(new RetryCallback(){
      public void doWork(      RetryContext context) throws Exception {
        connect();
        MuleMessage result=doRequest(finalTimeout);
        if (result != null && connector.isEnableMessageEvents()) {
          connector.fireNotification(new EndpointMessageNotification(result,endpoint,null,EndpointMessageNotification.MESSAGE_REQUESTED));
        }
        context.addReturnMessage(result);
      }
      public String getWorkDescription(){
        return getConnectionDescription();
      }
    }
);
    return context.getFirstReturnMessage();
  }
 catch (  Exception e) {
    disposeAndLogException();
    throw new ReceiveException(endpoint,timeout,e);
  }
}
