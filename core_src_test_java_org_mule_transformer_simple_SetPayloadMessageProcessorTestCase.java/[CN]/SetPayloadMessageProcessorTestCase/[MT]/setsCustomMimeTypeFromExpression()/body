{
  setPayloadMessageProcessor.setValue(PLAIN_TEXT);
  setPayloadMessageProcessor.setMimeType(MIME_TYPE_EXPRESSION);
  setPayloadMessageProcessor.initialise();
  when(expressionManager.isExpression(MIME_TYPE_EXPRESSION)).thenReturn(true);
  when(expressionManager.evaluate(MIME_TYPE_EXPRESSION,muleEvent)).thenReturn(MimeTypes.APPLICATION_XML);
  setPayloadMessageProcessor.process(muleEvent);
  verify(muleMessage).setPayload(any(),actualDataType.capture());
  assertThat(actualDataType.getValue(),DataTypeMatcher.like(String.class,MimeTypes.APPLICATION_XML,null));
}
