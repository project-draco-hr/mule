{
  boolean isBeanReference=propertyToolkit.isBeanReference(attribute.getNodeName());
  String propertyName=propertyToolkit.extractPropertyName(attribute.getNodeName());
  String propertyValue=propertyToolkit.extractPropertyValue(propertyName,attribute.getValue());
  Assert.state(StringUtils.hasText(propertyName),"Illegal property name returned from 'extractPropertyName(String)': cannot be null or empty.");
  if (isBeanReference) {
    builder.addPropertyReference(propertyName,propertyValue);
  }
 else {
    builder.addPropertyValue(propertyName,propertyValue);
  }
}
