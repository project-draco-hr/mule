{
  if (super.process(event) != null) {
    UMOOutboundMessageRouter router=event.getComponent().getDescriptor().getOutboundRouter();
    event.setStopFurtherProcessing(true);
    if (router == null) {
      logger.debug("Descriptor has no outbound router configured to forward to, continuing with normal processing");
      return new UMOEvent[]{event};
    }
 else {
      try {
        UMOMessage message=new MuleMessage(event.getTransformedMessage(),event.getMessage());
        String originatingEndpoint=event.getMessage().getStringProperty(MuleProperties.MULE_ORIGINATING_ENDPOINT_PROPERTY,null);
        if (StringUtils.isEmpty(originatingEndpoint)) {
          originatingEndpoint=event.getEndpoint().getEndpointURI().getEndpointName();
          if (StringUtils.isEmpty(originatingEndpoint)) {
            originatingEndpoint=event.getEndpoint().getEndpointURI().toString();
          }
        }
        message.setStringProperty(MuleProperties.MULE_ORIGINATING_ENDPOINT_PROPERTY,originatingEndpoint);
        UMOMessage response=router.route(message,event.getSession(),event.isSynchronous());
        if (response != null) {
          return new UMOEvent[]{new MuleEvent(response,event)};
        }
 else {
          return null;
        }
      }
 catch (      UMOException e) {
        throw new RoutingException(event.getMessage(),event.getEndpoint(),e);
      }
    }
  }
  return null;
}
