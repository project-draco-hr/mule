{
  boolean synchronous;
  if (inMessage.getBooleanProperty(MuleProperties.MULE_REMOTE_SYNC_PROPERTY,false)) {
    synchronous=true;
  }
 else {
    synchronous=endpoint.isSynchronous();
  }
  return new DefaultMuleEvent(inMessage,endpoint,getTestSession(getTestService(),muleContext),synchronous);
}
