{
  TransactionConfig txConfig=new MuleTransactionConfig();
  txConfig.setAction(TransactionConfig.ACTION_ALWAYS_BEGIN);
  endpoint=createTestInboundEndpoint(null,null,null,null,false,txConfig);
  endpoint.setListener(inboundListener);
  inMessage.setBooleanProperty(MuleProperties.MULE_REMOTE_SYNC_PROPERTY,true);
  requestEvent=createTestRequestEvent(endpoint);
  responseEvent=createTestResponseEvent(endpoint);
  MessageProcessor mpChain=((AbstractEndpoint)endpoint).getMessageProcessorChain();
  result=mpChain.process(requestEvent);
  assertMessageSentSame(true);
  assertEquals(responseEvent.getMessage(),result.getMessage());
}
