{
  MuleClient client=new MuleClient(muleContext);
  MuleMessage result=client.send(getSendReceiveComplexEndpoint1(),new Person("Dino","Flintstone"),getMessageProperties(new HashMap()));
  assertEquals(NullPayload.getInstance(),result.getPayload());
  result=client.request(getSendReceiveComplexEndpoint2(),0);
  assertNotNull(result);
  assertTrue(result.getPayload() instanceof Person);
  assertEquals("Dino",((Person)result.getPayload()).getFirstName());
  assertEquals("Flintstone",((Person)result.getPayload()).getLastName());
}
