{
  Map props=new HashMap();
  props.put(HttpConnector.HTTP_METHOD_PROPERTY,"GET");
  MuleClient client=new MuleClient();
  UMOMessage result=client.send(getWsdlEndpoint(),null,props);
  assertNotNull(result);
  if (logger.isDebugEnabled()) {
    logger.debug(result.getPayloadAsString());
  }
  String location=getWsdlEndpoint();
  location=location.substring(0,location.length() - 5);
  if (location.endsWith("/")) {
    location=location.substring(0,location.length() - 1);
  }
  if (result.getPayloadAsString().indexOf("location=\"" + location) == -1) {
    assertTrue(result.getPayloadAsString().indexOf("location='" + location) > -1);
  }
 else {
    assertTrue(result.getPayloadAsString().indexOf("location=\"" + location) > -1);
  }
  assertTrue(result.getStringProperty(HttpConstants.HEADER_CONTENT_TYPE,"").startsWith("text/xml"));
  if (logger.isDebugEnabled()) {
    logger.debug(result.getPayloadAsString());
  }
}
