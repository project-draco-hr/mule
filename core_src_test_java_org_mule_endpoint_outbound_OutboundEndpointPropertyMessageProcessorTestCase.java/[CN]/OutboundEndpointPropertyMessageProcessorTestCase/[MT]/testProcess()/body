{
  MessageProcessor mp=new OutboundEndpointPropertyMessageProcessor();
  OutboundEndpoint endpoint=createTestOutboundEndpoint(null,null);
  MuleEvent event=mp.process(createTestOutboundEvent(endpoint));
  assertEquals(endpoint.getEndpointURI().getUri().toString(),event.getMessage().getOutboundProperty(MuleProperties.MULE_ENDPOINT_PROPERTY));
  assertSame(event,RequestContext.getEvent());
}
