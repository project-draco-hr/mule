{
  socketFactory.setConnectionTimeout(getConnectionTimeout());
  socketsPool.setFactory(getSocketFactory());
  socketsPool.setTestOnBorrow(true);
  socketsPool.setTestOnReturn(true);
  socketsPool.setMaxActive(getDispatcherThreadingProfile().getMaxThreadsActive());
  socketsPool.setMaxIdle(getDispatcherThreadingProfile().getMaxThreadsIdle());
  socketsPool.setWhenExhaustedAction(GenericKeyedObjectPool.WHEN_EXHAUSTED_BLOCK);
  socketsPool.setMaxWait(socketMaxWait);
  final String monitorName=String.format("%s%s.socket",ThreadNameHelper.getPrefix(muleContext),getName());
  keepAliveMonitor=new ExpiryMonitor(monitorName,1000,this.getClass().getClassLoader(),muleContext,false);
}
