{
  if (message == null) {
    return false;
  }
  Object value;
  if (scope.equals(INBOUND)) {
    value=message.getInboundProperty(propertyName);
  }
 else {
    value=message.getOutboundProperty(propertyName);
  }
  boolean match;
  if (value == null) {
    match=compare(null,propertyValue);
  }
 else {
    match=compare(value.toString(),propertyValue);
  }
  if (!match && logger.isDebugEnabled()) {
    logger.debug(String.format("Property: '%s' not found in scope '%s'. Message %n%s",propertyName,scope,message));
  }
  return match;
}
