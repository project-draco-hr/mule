{
  Properties result=new Properties();
  for (Iterator<Map.Entry<Object,Object>> i=p.entrySet().iterator(); i.hasNext(); ) {
    Map.Entry<Object,Object> entry=i.next();
    String key=(String)entry.getKey();
    String value=(String)entry.getValue();
    value=value.replaceAll(pattern,replacement);
    result.put(key,value);
  }
  return result;
}
