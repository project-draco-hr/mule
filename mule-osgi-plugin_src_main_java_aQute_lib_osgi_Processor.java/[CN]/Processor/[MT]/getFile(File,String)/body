{
  File f=new File(file);
  if (f.isAbsolute())   return f;
  int n;
  f=base.getAbsoluteFile();
  while ((n=file.indexOf('/')) > 0) {
    String first=file.substring(0,n);
    file=file.substring(n + 1);
    if (first.equals(".."))     f=f.getParentFile();
 else     f=new File(f,first);
  }
  return new File(f,file).getAbsoluteFile();
}
