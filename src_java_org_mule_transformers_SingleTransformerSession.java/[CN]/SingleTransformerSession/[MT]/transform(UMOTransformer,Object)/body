{
  if (trans != null && !trans.equals(transformer) && isInSession()) {
    throw new TransformerException("Cannot transform on different transformer while in a session");
  }
  transformer=trans;
  return transform(data);
}
