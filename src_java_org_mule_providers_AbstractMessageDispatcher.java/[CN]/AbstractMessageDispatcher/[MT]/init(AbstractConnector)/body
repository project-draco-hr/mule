{
  this.connector=connector;
  if (connector != null) {
    ThreadingProfile profile=connector.getDispatcherThreadingProfile();
    doThreading=profile.isDoThreading();
    if (doThreading) {
      workManager=profile.createWorkManager(connector.getName() + ".dispatcher");
      try {
        workManager.start();
      }
 catch (      UMOException e) {
        throw new MuleRuntimeException(new Message(Messages.FAILED_TO_START_X,"WorkManager"),e);
      }
    }
  }
}
