{
  return new AbstractRequestResponseMessageProcessor(){
    @Override protected Event processRequest(    Event event) throws MuleException {
      List<String> outboundProperties=new ArrayList<>(event.getMessage().getOutboundPropertyNames());
      InternalMessage.Builder builder=InternalMessage.builder(event.getMessage());
      for (      String outboundProperty : outboundProperties) {
        if (outboundProperty.startsWith(SOAP_HEADERS_PROPERTY_PREFIX)) {
          builder.removeOutboundProperty(outboundProperty);
        }
      }
      return super.processRequest(Event.builder(event).message(builder.build()).build());
    }
    @Override protected Event processResponse(    Event response,    final Event request) throws MuleException {
      Object statusCode=response.getMessage().getInboundProperty(HTTP_STATUS_PROPERTY,null);
      if (statusCode != null && !(statusCode instanceof String)) {
        response=Event.builder(request).message(InternalMessage.builder(response.getMessage()).addInboundProperty(HTTP_STATUS_PROPERTY,statusCode.toString()).build()).build();
      }
      return super.processResponse(response,request);
    }
  }
;
}
