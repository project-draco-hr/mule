{
  Map<Object,MessageReceiver> receiversMap=createTestReceivers();
  assertThat((HttpMessageReceiver)HttpConnector.findReceiverByStem(receiversMap,"http://somehost:5555/"),Is.is(mockReceiverPort5555));
  assertThat((HttpMessageReceiver)HttpConnector.findReceiverByStem(receiversMap,"http://somehost:5555/service"),Is.is(mockServiceReceiverPort5555));
  assertThat((HttpMessageReceiver)HttpConnector.findReceiverByStem(receiversMap,"http://somehost:5555/service/order"),Is.is(mockServiceOrderReceiverPort5555));
  assertThat((HttpMessageReceiver)HttpConnector.findReceiverByStem(receiversMap,"http://somehost:7777/service/order"),Is.is(mockServiceOrderReceiverPort7777));
  assertThat((HttpMessageReceiver)HttpConnector.findReceiverByStem(receiversMap,"http://somehost:7777/service"),Is.is(mockServiceReceiverPort7777));
  assertThat((HttpMessageReceiver)HttpConnector.findReceiverByStem(receiversMap,"http://anotherhost:5555/"),Is.is(mockServiceReceiverAnotherHost));
}
