{
  super.doInit();
  try {
    if (targetService == null) {
      if (targetServiceName != null) {
        targetService=(QName)new QNameConverter().convert(QName.class,targetServiceName);
      }
    }
    UMOMessageReceiver receiver=muleEndpoint.getConnector().registerListener(new NullUMOComponent(getName()),muleEndpoint);
    if (receiver == null) {
      throw new NullPointerException(new Message("jbi",1,getName()).toString());
    }
 else     if (receiver instanceof AbstractMessageReceiver) {
      this.receiver=(AbstractMessageReceiver)receiver;
    }
 else {
      throw new IllegalArgumentException(new Message("jbi",2,getName(),AbstractMessageReceiver.class.getName()).toString());
    }
    this.receiver.setListener(this);
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new JBIException(e);
  }
}
