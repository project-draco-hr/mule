{
  final ClassLoader classLoader=mock(ClassLoader.class);
  final RegistryBootstrapDiscoverer registryBootstrapDiscoverer=mock(RegistryBootstrapDiscoverer.class);
  when(registryBootstrapDiscoverer.discover()).thenReturn(properties);
  final PropertiesBootstrapServiceDiscoverer propertiesBootstrapServiceDiscoverer=new PropertiesBootstrapServiceDiscoverer(classLoader,registryBootstrapDiscoverer);
  final List<BootstrapService> services=propertiesBootstrapServiceDiscoverer.discover();
  assertThat(services.size(),is(properties.size()));
  for (int i=0; i < services.size(); i++) {
    assertThat(services.get(i).getProperties(),is(properties.get(i)));
  }
}
