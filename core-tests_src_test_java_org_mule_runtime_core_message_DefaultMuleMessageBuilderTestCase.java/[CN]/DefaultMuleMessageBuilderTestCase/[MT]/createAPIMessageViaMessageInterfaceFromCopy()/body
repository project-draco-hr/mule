{
  org.mule.runtime.api.message.Message message;
  message=org.mule.runtime.api.message.Message.builder().payload(TEST_PAYLOAD).attributes(TEST_ATTR).build();
  org.mule.runtime.api.message.Message messageCopy;
  messageCopy=org.mule.runtime.api.message.Message.builder(message).payload(true).attributes(TEST_ATTR_2).build();
  assertThat(messageCopy.getPayload().getValue(),is(true));
  assertThat(messageCopy.getPayload().getDataType(),is(BOOLEAN));
  assertThat(messageCopy.getAttributes(),is(TEST_ATTR_2));
}
