{
  List<String> htmlStringList=new ArrayList<>();
  htmlStringList.add("HTML1");
  htmlStringList.add("HTML2");
  htmlStringList.add("HTML3");
  MuleMessage<List<String>,Apple> message;
  message=MuleMessage.builder().collectionPayload(htmlStringList,String.class).itemMediaType(HTML).attributes(TEST_ATTR).build();
  MuleMessage<List<String>,Apple> copy=MuleMessage.builder(message).build();
  assertThat(copy.getPayload(),is(htmlStringList));
  assertThat(copy.getDataType().getType(),equalTo(ArrayList.class));
  assertThat(copy.getDataType().getMediaType(),is(ANY));
  assertThat(copy.getDataType(),instanceOf(DefaultCollectionDataType.class));
  assertThat(((DefaultCollectionDataType)copy.getDataType()).getItemDataType().getMediaType(),equalTo(HTML));
}
