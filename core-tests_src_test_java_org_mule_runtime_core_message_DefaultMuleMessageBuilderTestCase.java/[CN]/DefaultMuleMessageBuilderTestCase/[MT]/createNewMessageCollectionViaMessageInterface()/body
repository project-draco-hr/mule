{
  List<String> htmlStringList=new ArrayList<>();
  htmlStringList.add("HTML1");
  htmlStringList.add("HTML2");
  htmlStringList.add("HTML3");
  MuleMessage message;
  message=MuleMessage.builder().collectionPayload(htmlStringList,String.class).itemMediaType(HTML).attributes(TEST_ATTR).build();
  assertThat(message.getPayload(),is(htmlStringList));
  assertThat(message.getDataType().getType(),equalTo(ArrayList.class));
  assertThat(message.getDataType().getMediaType(),is(ANY));
  assertThat(message.getDataType(),instanceOf(DefaultCollectionDataType.class));
  assertThat(((DefaultCollectionDataType)message.getDataType()).getItemDataType().getMediaType(),equalTo(HTML));
}
