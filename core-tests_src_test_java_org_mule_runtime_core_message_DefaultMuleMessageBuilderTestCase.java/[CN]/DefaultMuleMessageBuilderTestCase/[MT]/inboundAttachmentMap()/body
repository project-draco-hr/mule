{
  final DataHandler attachmentValue=new DataHandler(ATTACHMENT_VALUE,TEXT.toString());
  Map<String,DataHandler> inboundAttachments=singletonMap(ATTACHMENT_KEY,attachmentValue);
  MuleMessage message=new DefaultMuleMessageBuilder().payload(TEST_PAYLOAD).inboundAttachments(inboundAttachments).build();
  assertThat(message.getInboundAttachment(ATTACHMENT_KEY),equalTo(attachmentValue));
  assertThat(message.getInboundAttachmentNames(),hasSize(1));
  assertThat(message.getInboundAttachmentNames(),hasItem(ATTACHMENT_KEY));
}
