{
  Exception returnValue=null;
  List causeStack=new ArrayList();
  for (Throwable tempCause=t; tempCause != null; tempCause=tempCause.getCause()) {
    causeStack.add(tempCause);
  }
  for (int i=causeStack.size() - 1; i >= 0; i--) {
    Throwable tempCause=(Throwable)causeStack.get(i);
    if (i == causeStack.size()) {
      returnValue=new Exception(tempCause.getMessage());
      returnValue.setStackTrace(tempCause.getStackTrace());
    }
 else {
      returnValue=new Exception(tempCause.getMessage(),returnValue);
      returnValue.setStackTrace(tempCause.getStackTrace());
    }
  }
  return returnValue;
}
