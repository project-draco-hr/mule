{
  Transaction tx=TransactionCoordination.getInstance().getTransaction();
  XAResource xaResource=sessionWrapper.getXAResource();
  if (xaResource == null) {
    try {
      sessionWrapper.getSession();
    }
 catch (    JMSException e) {
      throw new TransactionException(e);
    }
  }
  return ((XaTransaction)tx).enlistResource(sessionWrapper.getXAResource());
}
