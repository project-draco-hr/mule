{
  List<AnnotationMetaData> annos=AnnotationUtils.getFieldAnnotations(object.getClass(),MockIntegrationBean.class);
  if (annos.size() > 0) {
    for (    AnnotationMetaData data : annos) {
      Field field=(Field)data.getMember();
      field.setAccessible(true);
      Object mockito=Mockito.mock(field.getType(),field.getName());
      try {
        InvocationHandler handler=new MockIntegrationBeanInvocationHandler(field.getType(),plugin,mockito);
        Object mock=Proxy.newProxyInstance(getClass().getClassLoader(),new Class[]{field.getType(),MockIBean.class},handler);
        field.set(object,mock);
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
  return object;
}
