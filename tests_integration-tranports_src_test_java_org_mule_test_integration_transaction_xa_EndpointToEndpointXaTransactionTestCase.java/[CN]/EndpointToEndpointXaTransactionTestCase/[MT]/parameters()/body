{
  JmsBrokerSetUp createFirstJmsBroker=new JmsBrokerSetUp(port1.getNumber());
  JmsBrokerSetUp createSecondJmsBroker=new JmsBrokerSetUp(port2.getNumber());
  CompositeTransactionalTestSetUp createTowJmsBrokers=new CompositeTransactionalTestSetUp(createFirstJmsBroker,createSecondJmsBroker);
  return Arrays.asList(new Object[][]{{new String[]{"org/mule/test/integration/transaction/xa/xa-transaction-config.xml","org/mule/test/integration/transaction/xa/vm-xa-transaction-config.xml",transactionManagerConfigFile},null,new QueueInboundMessageGenerator(),new QueueOutboundMessagesCounter()},{new String[]{"org/mule/test/integration/transaction/xa/xa-transaction-config.xml","org/mule/test/integration/transaction/xa/vm-different-connectors-xa-transaction-config.xml",transactionManagerConfigFile},null,new QueueInboundMessageGenerator(),new QueueOutboundMessagesCounter()},{new String[]{"org/mule/test/integration/transaction/xa/xa-transaction-config.xml","org/mule/test/integration/transaction/xa/jms-xa-transaction-config.xml",transactionManagerConfigFile},createFirstJmsBroker,new QueueInboundMessageGenerator(),JmsOutboundMessagesCounter.createVerifierForBroker(port1.getNumber())},{new String[]{"org/mule/test/integration/transaction/xa/xa-transaction-config.xml","org/mule/test/integration/transaction/xa/jms-different-connectors-xa-transaction-config.xml",transactionManagerConfigFile},createTowJmsBrokers,new QueueInboundMessageGenerator(),JmsOutboundMessagesCounter.createVerifierForBroker(port2.getNumber())}});
}
