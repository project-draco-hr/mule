{
  if (expression == null) {
    throw new IllegalArgumentException(CoreMessages.objectIsNull("expression").getMessage());
  }
  if (evaluator == null) {
    throw new IllegalArgumentException(CoreMessages.objectIsNull("evaluator").getMessage());
  }
  if (evaluator.equals("custom")) {
    if (customEvaluator == null) {
      throw new IllegalArgumentException(CoreMessages.objectIsNull("customEvaluator").getMessage());
    }
 else {
      evaluator=customEvaluator;
    }
  }
  if (!muleContext.getExpressionManager().isEvaluatorRegistered(evaluator)) {
    throw new IllegalArgumentException(CoreMessages.expressionEvaluatorNotRegistered(evaluator).getMessage());
  }
}
