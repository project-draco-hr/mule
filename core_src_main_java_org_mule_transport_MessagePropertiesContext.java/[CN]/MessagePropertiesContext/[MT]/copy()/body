{
  Set<String> keySet=new TreeSet<String>(getPropertyNames());
  Map scopedMap=new TreeMap(new PropertyScope.ScopeComparator());
  scopedMap.put(PropertyScope.INVOCATION,new HashMap(getScopedProperties(PropertyScope.INVOCATION)));
  scopedMap.put(PropertyScope.INBOUND,new HashMap(getScopedProperties(PropertyScope.INBOUND)));
  scopedMap.put(PropertyScope.OUTBOUND,new HashMap(getScopedProperties(PropertyScope.OUTBOUND)));
  scopedMap.put(PropertyScope.SESSION,new HashMap(getScopedProperties(PropertyScope.SESSION)));
  return new MessagePropertiesContext(getDefaultScope(),keySet,scopedMap);
}
