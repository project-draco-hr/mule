{
  if (scope == null) {
    return getPropertyNames();
  }
  if (PropertyScope.SESSION.equals(scope)) {
    if (RequestContext.getEvent() != null) {
      return RequestContext.getEvent().getSession().getPropertyNamesAsSet();
    }
 else {
      return Collections.emptySet();
    }
  }
 else {
    return Collections.unmodifiableSet(getScopedProperties(scope).keySet());
  }
}
