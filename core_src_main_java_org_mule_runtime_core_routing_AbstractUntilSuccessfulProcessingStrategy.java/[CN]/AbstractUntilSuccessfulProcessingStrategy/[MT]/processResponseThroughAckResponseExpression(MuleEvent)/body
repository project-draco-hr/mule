{
  if (event == null || VoidMuleEvent.getInstance().equals(event)) {
    return VoidMuleEvent.getInstance();
  }
  final String ackExpression=getUntilSuccessfulConfiguration().getAckExpression();
  if (ackExpression == null) {
    return event;
  }
  return MuleEvent.builder(event).message(MuleMessage.builder(event.getMessage()).payload(getUntilSuccessfulConfiguration().getMuleContext().getExpressionLanguage().evaluate(ackExpression,event,null)).build()).build();
}
