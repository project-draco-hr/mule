{
  if (event == null || VoidMuleEvent.getInstance().equals(event)) {
    return VoidMuleEvent.getInstance();
  }
  final String ackExpression=getUntilSuccessfulConfiguration().getAckExpression();
  if (ackExpression == null) {
    return event;
  }
  event.setMessage(MuleMessage.builder(event.getMessage()).payload(getUntilSuccessfulConfiguration().getMuleContext().getExpressionManager().evaluate(ackExpression,event,null)).build());
  return event;
}
