{
  DefaultJavaComponent component=new DefaultJavaComponent(new PrototypeObjectFactory(WaterMelon.class));
  component.setService(getTestService());
  component.initialise();
  component.start();
  DefaultLifecycleAdapter lifecycleAdapter=(DefaultLifecycleAdapter)component.borrowComponentLifecycleAdaptor();
  component.returnComponentLifecycleAdaptor(lifecycleAdapter);
  component.dispose();
  assertNull(lifecycleAdapter.componentObject.get());
}
