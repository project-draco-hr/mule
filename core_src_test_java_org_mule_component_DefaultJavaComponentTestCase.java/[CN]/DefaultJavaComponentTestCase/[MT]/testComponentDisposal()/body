{
  DefaultJavaComponent component=new DefaultJavaComponent(new PrototypeObjectFactory(WaterMelon.class));
  component.setService(getTestService());
  component.initialise();
  component.start();
  DefaultLifecycleAdapter lifecycleAdapter=(DefaultLifecycleAdapter)component.borrowComponentLifecycleAdaptor();
  component.returnComponentLifecycleAdaptor(lifecycleAdapter);
  component.dispose();
  assertEquals("disposed",((WaterMelon)lifecycleAdapter.componentObject).getState());
}
