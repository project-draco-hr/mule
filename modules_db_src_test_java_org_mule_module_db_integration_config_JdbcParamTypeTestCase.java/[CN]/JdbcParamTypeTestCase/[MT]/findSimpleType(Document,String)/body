{
  NodeList simpleTypes=doc.getElementsByTagName("xsd:simpleType");
  for (int i=0; i < simpleTypes.getLength(); i++) {
    Element simpleType=(Element)simpleTypes.item(i);
    if (typeName.equals(simpleType.getAttribute("name"))) {
      return simpleType;
    }
  }
  throw new IllegalStateException(String.format("Unable to locate element for simple type '%s",typeName));
}
