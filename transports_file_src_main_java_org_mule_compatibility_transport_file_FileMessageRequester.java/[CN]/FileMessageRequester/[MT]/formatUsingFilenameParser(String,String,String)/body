{
  DefaultMuleMessage fileParserMessasge=new DefaultMuleMessage(null,getEndpoint().getMuleContext());
  fileParserMessasge.setInboundProperty(FileConnector.PROPERTY_ORIGINAL_FILENAME,originalFileName);
  fileParserMessasge.setInboundProperty(FileConnector.PROPERTY_ORIGINAL_DIRECTORY,originalDirectory);
  final DefaultMuleEvent event=new DefaultMuleEvent(fileParserMessasge,(FlowConstruct)null);
  return fileConnector.getFilenameParser().getFilename(event,pattern);
}
