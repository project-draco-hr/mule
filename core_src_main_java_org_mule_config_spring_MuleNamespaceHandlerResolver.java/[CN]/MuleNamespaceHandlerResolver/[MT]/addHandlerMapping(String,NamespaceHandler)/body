{
  if (handlerMappings.containsKey(namespaceUri)) {
    if (logger.isDebugEnabled()) {
      logger.debug("Duplicate handlers for " + namespaceUri);
    }
    NamespaceHandler previous=(NamespaceHandler)handlerMappings.get(namespaceUri);
    int previousPriority=priority(previous,namespaceUri);
    int newPriority=priority(namespaceHandler,namespaceUri);
    if (newPriority == previousPriority) {
      throw new IllegalStateException("Two handlers for " + namespaceUri + " of equal priority");
    }
 else     if (newPriority < previousPriority) {
      return;
    }
  }
  this.handlerMappings.put(namespaceUri,namespaceHandler);
}
