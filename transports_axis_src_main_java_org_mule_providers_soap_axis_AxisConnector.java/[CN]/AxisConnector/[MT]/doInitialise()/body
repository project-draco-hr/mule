{
  this.registerProtocols();
  if (axisTransportProtocols == null) {
    axisTransportProtocols=new HashMap();
    try {
      for (Iterator iterator=supportedSchemes.iterator(); iterator.hasNext(); ) {
        String s=(String)iterator.next();
        axisTransportProtocols.put(s,MuleTransport.getTransportClass(s));
        registerSupportedProtocol(s);
      }
      managementContext.registerListener(this);
    }
 catch (    Exception e) {
      throw new InitialisationException(e,this);
    }
  }
  if (clientProvider == null) {
    clientProvider=createAxisProvider(clientConfig);
  }
 else {
    if (clientConfig.equals(DEFAULT_MULE_AXIS_CLIENT_CONFIG) == false) {
      logger.warn(AxisMessages.clientProviderAndClientConfigConfigured());
    }
  }
  if (axisServer == null) {
    if (serverProvider == null) {
      serverProvider=this.createAxisProvider(serverConfig);
    }
 else {
      if (serverConfig.equals(DEFAULT_MULE_AXIS_SERVER_CONFIG) == false) {
        logger.warn(AxisMessages.serverProviderAndServerConfigConfigured());
      }
    }
    axisServer=new AxisServer(serverProvider);
    axisServer.setOption("axis.doAutoTypes",Boolean.valueOf(doAutoTypes));
  }
  WSDDProvider.registerProvider(QNAME_MULE_PROVIDER,new WSDDJavaMuleProvider(this));
  try {
    registerTransportTypes();
  }
 catch (  ClassNotFoundException e) {
    throw new InitialisationException(CoreMessages.cannotLoadFromClasspath(e.getMessage()),e,this);
  }
  String handlerPkgs=System.getProperty("java.protocol.handler.pkgs",null);
  if (handlerPkgs != null) {
    if (!handlerPkgs.endsWith("|")) {
      handlerPkgs+="|";
    }
    handlerPkgs="org.mule.providers.soap.axis.transport|" + handlerPkgs;
    System.setProperty("java.protocol.handler.pkgs",handlerPkgs);
    logger.debug("Setting java.protocol.handler.pkgs to: " + handlerPkgs);
  }
  try {
    registerTypes((TypeMappingRegistryImpl)axisServer.getTypeMappingRegistry(),beanTypes);
  }
 catch (  ClassNotFoundException e) {
    throw new InitialisationException(e,this);
  }
}
