{
  if (axisDescriptor == null) {
    axisDescriptor=getAxisDescriptorFromSystemModel();
    if (axisDescriptor == null) {
      axisDescriptor=createAxisDescriptor();
    }
 else {
      managementContext.getRegistry().lookupModel(ModelHelper.SYSTEM_MODEL).unregisterComponent(axisDescriptor);
      if (AXIS_SERVICE_COMPONENT_NAME.equals(axisDescriptor.getName())) {
        axisDescriptor.setName(specificAxisServiceComponentName);
      }
    }
    if (axisDescriptor.getProperties().get("axisServer") == null) {
      axisDescriptor.getProperties().put("axisServer",axisServer);
    }
  }
  String serviceName=receiver.getComponent().getDescriptor().getName();
  String endpoint;
  String scheme=ep.getScheme().toLowerCase();
  if (scheme.equals("jms") || scheme.equals("vm")) {
    endpoint=ep.toString();
  }
 else {
    endpoint=receiver.getEndpointURI().getAddress() + "/" + serviceName;
  }
  if (logger.isDebugEnabled()) {
    logger.debug("Modified endpoint with " + scheme + " scheme to "+ endpoint);
  }
  UMOEndpoint receiverEndpoint=(UMOEndpoint)receiver.getEndpoint();
  boolean sync=false;
  if (!receiverEndpoint.isSynchronousSet()) {
    if (scheme.equals("http") || scheme.equals("https") || scheme.equals("ssl")|| scheme.equals("tcp")) {
      sync=true;
    }
  }
 else {
    sync=receiverEndpoint.isSynchronous();
  }
  UMOEndpoint serviceEndpoint=new MuleEndpoint(endpoint,true);
  ((MuleEndpoint)serviceEndpoint).setManagementContext(managementContext);
  serviceEndpoint.setSynchronous(sync);
  serviceEndpoint.setName(ep.getScheme() + ":" + serviceName);
  serviceEndpoint.setFilter(receiver.getEndpoint().getFilter());
  receiverEndpoint.setFilter(null);
  serviceEndpoint.setSecurityFilter(receiverEndpoint.getSecurityFilter());
  receiverEndpoint.setSecurityFilter(null);
  if (!CollectionUtils.isEmpty(receiverEndpoint.getTransformers())) {
    serviceEndpoint.setTransformers(receiverEndpoint.getTransformers());
    receiverEndpoint.setTransformers(new LinkedList());
  }
  if (receiverEndpoint.getTransactionConfig() != null) {
    serviceEndpoint.setTransactionConfig(receiverEndpoint.getTransactionConfig());
    receiverEndpoint.setTransactionConfig(null);
  }
  serviceEndpoint.getProperties().putAll(receiverEndpoint.getProperties());
  axisDescriptor.getInboundRouter().addEndpoint(serviceEndpoint);
}
