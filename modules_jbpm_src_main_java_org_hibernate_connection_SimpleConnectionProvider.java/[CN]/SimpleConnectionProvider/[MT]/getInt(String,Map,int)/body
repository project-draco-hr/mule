{
  Object value=values.get(name);
  if (value == null) {
    return defaultValue;
  }
  if (Integer.class.isInstance(value)) {
    return ((Integer)value).intValue();
  }
  if (String.class.isInstance(value)) {
    return Integer.parseInt((String)value);
  }
  throw new HibernateException("Could not determine how to handle configuration value [name=" + name + ", value="+ value+ "("+ value.getClass().getName()+ ")] as int");
}
