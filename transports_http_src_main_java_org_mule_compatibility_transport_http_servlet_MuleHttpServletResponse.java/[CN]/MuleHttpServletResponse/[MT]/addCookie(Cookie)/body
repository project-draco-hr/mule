{
  org.apache.commons.httpclient.Cookie internal=toHttpClientCookie(cookie);
  org.apache.commons.httpclient.Cookie[] internalCookies=message.getOutboundProperty(HttpConnector.HTTP_COOKIES_PROPERTY);
  if (internalCookies == null) {
    internalCookies=new org.apache.commons.httpclient.Cookie[]{internal};
  }
 else {
    List<org.apache.commons.httpclient.Cookie> list=new ArrayList<>(Arrays.asList(internalCookies));
    list.add(internal);
    internalCookies=list.toArray(new org.apache.commons.httpclient.Cookie[list.size()]);
  }
  message=InternalMessage.builder(message).addOutboundProperty(HttpConnector.HTTP_COOKIES_PROPERTY,internalCookies).build();
}
