{
  Session session=null;
  AdtMessage message=null;
  XMLType xmltype=null;
  throw new TransformerException(Message.createStaticMessage("This transformer is currently unsupported until issue MULE-1079 is resolved."),this);
  try {
    session=(Session)context.getMessage().getProperty(MuleProperties.MULE_JMS_SESSION);
    if (session == null) {
      throw new TransformerException(Message.createStaticMessage("The current JMS session should have been stored as a property for this event."),this);
    }
    if ((session instanceof AQjmsSession) == false) {
      throw new TransformerException(Message.createStaticMessage("Endpoint must be an OracleAQ session."),this);
    }
    String xml;
    if (src instanceof byte[]) {
      xml=new String((byte[])src,encoding);
    }
 else     if (src instanceof String) {
      xml=(String)src;
    }
 else     throw new TransformerException(Message.createStaticMessage("Object to transform is not one of the supported types for this transformer."),this);
    logger.debug("Creating an Oracle XMLType based on the following XML:\n" + StringMessageUtils.truncate(xml,200,false));
    CLOB clob=CLOB.createTemporary(((AQjmsSession)session).getDBConnection(),true,CLOB.DURATION_SESSION);
    try {
      Writer clobStream=clob.getCharacterOutputStream();
      try {
        clobStream.write(xml);
      }
  finally {
        clobStream.close();
      }
      xmltype=XMLType.createXML(((AQjmsSession)session).getDBConnection(),clob);
      message=((AQjmsSession)session).createAdtMessage();
      message.setAdtPayload(xmltype);
      return message;
    }
  finally {
    }
  }
 catch (  JMSException e) {
    throw new TransformerException(this,e);
  }
catch (  SQLException e) {
    throw new TransformerException(this,e);
  }
catch (  IOException e) {
    throw new TransformerException(this,e);
  }
}
