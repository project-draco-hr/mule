{
  Object payload=event.getMessage().getPayload();
  LoanQuote lowestQuote=null;
  if (payload instanceof LoanQuote) {
    lowestQuote=(LoanQuote)payload;
  }
 else {
    List<LoanQuote> loanQuotes=(List<LoanQuote>)payload;
    for (    LoanQuote loanQuote : loanQuotes) {
      if (lowestQuote == null) {
        lowestQuote=loanQuote;
      }
 else {
        if (loanQuote.getInterestRate() < lowestQuote.getInterestRate()) {
          lowestQuote=loanQuote;
        }
      }
    }
  }
  return new DefaultMuleEvent(new DefaultMuleMessage(lowestQuote,event.getMuleContext()),event);
}
