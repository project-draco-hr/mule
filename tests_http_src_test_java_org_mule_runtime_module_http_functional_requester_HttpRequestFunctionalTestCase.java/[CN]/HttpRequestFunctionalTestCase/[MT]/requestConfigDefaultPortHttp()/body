{
  MuleEvent testEvent=getTestEvent(TEST_PAYLOAD);
  ConfigurationInstance config=getConfigurationInstanceFromRegistry(DEFAULT_PORT_HTTP_REQUEST_CONFIG_NAME,testEvent);
  ConnectionProviderWrapper providerWrapper=(ConnectionProviderWrapper)config.getConnectionProvider().get();
  HttpRequesterProvider provider=(HttpRequesterProvider)providerWrapper.getDelegate();
  assertThat(provider.getPort().apply(testEvent),is(HTTP.getDefaultPort()));
}
