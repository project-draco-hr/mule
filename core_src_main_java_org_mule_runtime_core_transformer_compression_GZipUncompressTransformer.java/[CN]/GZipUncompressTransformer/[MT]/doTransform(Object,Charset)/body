{
  try {
    if (src instanceof InputStream) {
      return getStrategy().uncompressInputStream((InputStream)src);
    }
 else {
      byte[] buffer=getStrategy().uncompressByteArray((byte[])src);
      DataType returnDataType=getReturnDataType();
      if (DataType.STRING.isCompatibleWith(returnDataType)) {
        return new String(buffer,outputEncoding);
      }
 else       if (!DataType.OBJECT.isCompatibleWith(returnDataType) && !DataType.BYTE_ARRAY.isCompatibleWith(returnDataType)) {
        try {
          return muleContext.getObjectSerializer().deserialize(buffer);
        }
 catch (        SerializationException e) {
          throw new TransformerException(this,e);
        }
      }
 else {
        try {
          return muleContext.getObjectSerializer().deserialize(buffer);
        }
 catch (        SerializationException e) {
          return buffer;
        }
      }
    }
  }
 catch (  IOException e) {
    throw new TransformerException(I18nMessageFactory.createStaticMessage("Failed to uncompress message."),this,e);
  }
}
