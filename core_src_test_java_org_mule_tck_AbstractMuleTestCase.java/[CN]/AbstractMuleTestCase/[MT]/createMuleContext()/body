{
  MuleContext context;
  if (getTestInfo().isDisposeManagerPerSuite() && muleContext != null) {
    context=muleContext;
  }
 else {
    MuleContextFactory muleContextFactory=new DefaultMuleContextFactory();
    List builders=new ArrayList();
    builders.add(new SimpleConfigurationBuilder(getStartUpProperties()));
    builders.add(getBuilder());
    MuleContextBuilder contextBuilder=new DefaultMuleContextBuilder();
    contextBuilder.setWorkListener(new TestingWorkListener());
    context=muleContextFactory.createMuleContext(builders,contextBuilder);
  }
  return context;
}
