{
  try {
    if (clientSocket != null && !clientSocket.isClosed()) {
      clientSocket.shutdownInput();
      clientSocket.shutdownOutput();
      clientSocket.close();
    }
  }
  finally {
    clientSocket=null;
    dataIn=null;
    logger.info("Closed tcp client socket");
  }
}
