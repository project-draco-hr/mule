{
  assertNull(tc.getTransaction());
  Mock mockTx=new Mock(UMOTransaction.class,"trans");
  UMOTransaction tx=(UMOTransaction)mockTx.proxy();
  tc.bindTransaction(tx);
  assertEquals(tx,tc.getTransaction());
  try {
    UMOTransaction tx2=(UMOTransaction)new Mock(UMOTransaction.class,"trans").proxy();
    tc.bindTransaction(tx2);
    fail();
  }
 catch (  IllegalTransactionStateException e) {
  }
  tc.unbindTransaction(tx);
}
