{
  super(connector,service,endpoint);
  setFrequency(60);
  setTimeUnit(TimeUnit.SECONDS);
  List<?> state=(List)endpoint.getProperty(IBeansConnector.STATE_PARAMS_PROPERTY);
  if (state == null) {
    state=Collections.emptyList();
  }
  ibean=((IBeansConnector)connector).createIbean(endpoint.getEndpointURI(),state);
  String address=endpoint.getEndpointURI().getAddress();
  methodName=address.substring(address.indexOf(".") + 1);
  List params=(List)endpoint.getProperty(IBeansConnector.CALL_PARAMS_PROPERTY);
  if (params == null)   params=Collections.emptyList();
  ExpressionManager em=connector.getMuleContext().getExpressionManager();
  MuleMessage defaultMessage=new DefaultMuleMessage(NullPayload.getInstance(),endpoint.getProperties(),connector.getMuleContext());
  callParams=new Object[params.size()];
  int i=0;
  for (  Object param : params) {
    if (param instanceof String && em.isExpression(param.toString())) {
      param=em.parse(param.toString(),defaultMessage);
    }
    callParams[i++]=param;
  }
}
