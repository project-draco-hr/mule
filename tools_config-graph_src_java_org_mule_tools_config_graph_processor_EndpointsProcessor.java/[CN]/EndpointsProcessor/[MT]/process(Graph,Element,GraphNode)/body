{
  Element globalEndpoints=currentElement.getChild("global-endpoints");
  if (globalEndpoints == null) {
    environment.log("no global-endpoints");
    return;
  }
  List namedChildren=globalEndpoints.getChildren("endpoint");
  for (Iterator iter=namedChildren.iterator(); iter.hasNext(); ) {
    Element endpoint=(Element)iter.next();
    GraphNode node=graph.addNode();
    node.getInfo().setFillColor(ColorRegistry.COLOR_DEFINED_ENDPOINTS);
    String name=endpoint.getAttributeValue("name");
    node.getInfo().setHeader(endpoint.getAttributeValue("address") + " (" + name+ ")");
    StringBuffer caption=new StringBuffer();
    TagProcessor.appendProperties(endpoint,caption);
    node.getInfo().setCaption(caption.toString());
    environment.getEndpointRegistry().addEndpoint(name,node);
  }
}
