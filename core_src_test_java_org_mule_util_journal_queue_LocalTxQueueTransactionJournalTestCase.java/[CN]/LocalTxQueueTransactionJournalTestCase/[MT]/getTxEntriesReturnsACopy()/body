{
  LocalTxQueueTransactionJournal transactionJournal=new LocalTxQueueTransactionJournal(temporaryFolder.getRoot().getAbsolutePath(),muleContext);
  addTransactionJournalEntry(transactionJournal);
  addTransactionJournalEntry(transactionJournal);
  Collection<LocalQueueTxJournalEntry> logEntriesForTx=transactionJournal.getLogEntriesForTx(1);
  addTransactionJournalEntry(transactionJournal);
  Collection<LocalQueueTxJournalEntry> modifiedLogEntries=transactionJournal.getLogEntriesForTx(1);
  assertThat(logEntriesForTx,not(is(modifiedLogEntries)));
  assertThat(logEntriesForTx.size(),is(2));
}
