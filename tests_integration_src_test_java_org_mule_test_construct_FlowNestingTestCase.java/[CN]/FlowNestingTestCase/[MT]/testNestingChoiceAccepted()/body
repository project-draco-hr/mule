{
  MuleMessage request=new DefaultMuleMessage(new Apple(),muleContext);
  request.setProperty("AcquirerCountry","MyCountry",PropertyScope.INBOUND);
  request.setProperty("Amount","4999",PropertyScope.INBOUND);
  MuleClient client=muleContext.getClient();
  flowRunner("NestedChoice").withPayload(request).asynchronously().run();
  MuleMessage result=client.request("test://outChoice",RECEIVE_TIMEOUT);
  assertNotNull(result);
  assertEquals("ABC",getPayloadAsString(result));
}
