{
  Map<String,Serializable> inboundProperties=new HashMap<>();
  inboundProperties.put("AcquirerCountry","MyCountry");
  inboundProperties.put("Amount","4999");
  flowRunner("NestedChoice").withPayload(new Apple()).withInboundProperties(inboundProperties).asynchronously().run();
  MuleClient client=muleContext.getClient();
  MuleMessage result=client.request("test://outChoice",RECEIVE_TIMEOUT);
  assertNotNull(result);
  assertEquals("ABC",getPayloadAsString(result));
}
