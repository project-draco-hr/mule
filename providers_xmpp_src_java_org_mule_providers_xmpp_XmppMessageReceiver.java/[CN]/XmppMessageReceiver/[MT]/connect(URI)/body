{
  try {
    logger.info("*************************************");
    logger.info("*            JABBER LOGIN           *");
    logger.info("*************************************");
    XmppConnector cnn=(XmppConnector)connector;
    String serverName=cnn.getServerName();
    String userName=cnn.getUsername();
    String login=cnn.getPassword();
    try {
      xmppConnection=new XMPPConnection(serverName);
      AccountManager accManager=new AccountManager(xmppConnection);
      accManager.createAccount(userName,login);
    }
 catch (    XMPPException ex) {
      logger.info("*** mule outbound account already exists ***");
    }
    logger.info("Logging in as: " + userName);
    logger.info("pw is        : " + login);
    logger.info("server       : " + serverName);
    xmppConnection=new XMPPConnection(serverName);
    xmppConnection.login(userName,login);
    logger.info("JABBER LOGIN COMPLETE!");
    PacketFilter filter=new PacketTypeFilter(Message.class);
    PacketCollector myCollector=xmppConnection.createPacketCollector(filter);
    xmppConnection.addPacketListener(this,filter);
  }
 catch (  XMPPException e) {
    throw new InitialisationException(new org.mule.config.i18n.Message(Messages.FAILED_TO_CREATE_X,"Xmpp Connection"),e,this);
  }
}
