{
  InputStream xml=getClass().getResourceAsStream("validation1.xml");
  assertNotNull(xml);
  MuleClient client=muleContext.getClient();
  MuleMessage message=client.send("http://localhost:" + dynamicPort.getNumber() + "/validate",getTestMuleMessage(xml));
  assertEquals("200",message.getInboundProperty(HttpConnector.HTTP_STATUS_PROPERTY));
  xml=getClass().getResourceAsStream("validation2.xml");
  message=client.send("http://localhost:" + dynamicPort.getNumber() + "/validate",getTestMuleMessage(xml));
  assertEquals("406",message.getInboundProperty(HttpConnector.HTTP_STATUS_PROPERTY));
  xml=getClass().getResourceAsStream("validation3.xml");
  message=client.send("http://localhost:" + dynamicPort.getNumber() + "/validate",getTestMuleMessage(xml));
  assertEquals("200",message.getInboundProperty(HttpConnector.HTTP_STATUS_PROPERTY));
}
