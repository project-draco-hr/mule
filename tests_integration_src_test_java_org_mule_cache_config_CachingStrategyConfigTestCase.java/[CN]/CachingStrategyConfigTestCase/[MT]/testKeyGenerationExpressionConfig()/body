{
  String cacheFlow="CacheRouterWithkeyGenerationExpression";
  CachingMessageProcessor cacheMessageProcessor=getCachingMessageProcessorFromFlow(cacheFlow);
  CachingStrategy cachingStrategy=cacheMessageProcessor.getCachingStrategy();
  assertTrue(cachingStrategy instanceof ObjectStoreCachingStrategy);
  ObjectStoreCachingStrategy objectStoreCachingStrategy=(ObjectStoreCachingStrategy)cachingStrategy;
  assertTrue(objectStoreCachingStrategy.getKeyGenerator() instanceof ExpressionMuleEventKeyGenerator);
  ExpressionMuleEventKeyGenerator keyGenerator=(ExpressionMuleEventKeyGenerator)objectStoreCachingStrategy.getKeyGenerator();
  assertEquals("#[payload]",keyGenerator.getExpression());
}
