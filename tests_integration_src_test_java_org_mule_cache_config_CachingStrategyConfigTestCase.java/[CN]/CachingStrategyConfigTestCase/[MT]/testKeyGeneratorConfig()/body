{
  String cacheFlow="CacheRouterWithKeyGenerator";
  CachingMessageProcessor cacheMessageProcessor=getCachingMessageProcessorFromFlow(cacheFlow);
  CachingStrategy cachingStrategy=cacheMessageProcessor.getCachingStrategy();
  assertTrue(cachingStrategy instanceof ObjectStoreCachingStrategy);
  ObjectStoreCachingStrategy objectStoreCachingStrategy=(ObjectStoreCachingStrategy)cachingStrategy;
  assertTrue(objectStoreCachingStrategy.getKeyGenerator() instanceof TestMuleEventKeyGenerator);
}
