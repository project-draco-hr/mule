{
  UMOEndpointURI endpointUri=endpoint.getEndpointURI();
  String methodName=MapUtils.getString(endpointUri.getParams(),RmiConnector.PARAM_SERVICE_METHOD,null);
  if (null == methodName) {
    methodName=(String)endpoint.getProperties().get(RmiConnector.PARAM_SERVICE_METHOD);
    if (null == methodName) {
      throw new InitialisationException(new org.mule.config.i18n.Message("ejb",RmiConnector.MSG_PARAM_SERVICE_METHOD_NOT_SET),endpoint);
    }
  }
  Class[] argumentClasses=null;
  if (clazz.equals(EjbMessageReceiver.class)) {
    try {
      EjbAble object=(EjbAble)ClassUtils.instanciateClass(connector.getReceiverArgumentClass(),ClassUtils.NO_ARGS);
      argumentClasses=object.argumentClasses();
      connector.setEjbAble(object);
    }
 catch (    Exception e) {
      throw new InitialisationException(new org.mule.config.i18n.Message("ejb",EjbConnector.EJB_SERVICECLASS_INVOCATION_FAILED),e);
    }
  }
 else {
    argumentClasses=connector.getArgumentClasses();
  }
  return (remoteObject.getClass().getMethod(methodName,argumentClasses));
}
