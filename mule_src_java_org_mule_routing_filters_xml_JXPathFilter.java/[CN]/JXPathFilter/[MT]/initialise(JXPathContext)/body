{
  Map.Entry entry=null;
  if (namespaces != null) {
    for (Iterator iterator=namespaces.entrySet().iterator(); iterator.hasNext(); ) {
      entry=(Map.Entry)iterator.next();
      context.registerNamespace(entry.getKey().toString(),entry.getValue().toString());
    }
  }
  if (contextProperties != null) {
    for (Iterator iterator=namespaces.entrySet().iterator(); iterator.hasNext(); ) {
      entry=(Map.Entry)iterator.next();
      context.setValue(entry.getKey().toString(),entry.getValue());
    }
  }
  if (factory != null) {
    context.setFactory(factory);
  }
  context.setLenient(lenient);
}
