{
  resource=new XAExtensionTransactionalResource(connection,connectionHandler,transaction);
  when(connection.getXAResource()).thenReturn(xaResource);
  when(transaction.enlistResource(xaResource)).thenReturn(true);
  when(transaction.delistResource(xaResource,TMSUCCESS)).thenReturn(true);
  TransactionCoordination.getInstance().bindTransaction(transaction);
}
