{
  try {
    mBeanServer=(MBeanServer)MBeanServerFactory.findMBeanServer(null).get(0);
    final ObjectName objectName=jmxSupport.getObjectName(JMX_OBJECT_NAME);
    unregisterMBeansIfNecessary();
    mBeanServer.registerMBean(new HierarchyDynamicMBean(),objectName);
  }
 catch (  Exception e) {
    throw new InitialisationException(CoreMessages.failedToStart("JMX Agent"),e,this);
  }
}
