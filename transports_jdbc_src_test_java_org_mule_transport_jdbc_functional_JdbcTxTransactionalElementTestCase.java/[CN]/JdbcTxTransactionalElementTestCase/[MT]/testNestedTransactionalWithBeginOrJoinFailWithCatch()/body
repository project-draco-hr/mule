{
  Flow flow=(Flow)getFlowConstruct("nestedTransactionalWithBeginOrJoinFailWithCatch");
  MuleEvent event=getTestEvent("message",flow);
  flow.process(event);
  Integer countWithType1=getCountWithType1();
  Integer countWithType2=getCountWithType2();
  assertThat(countWithType1,Is.is(1));
  assertThat(countWithType2,Is.is(1));
}
