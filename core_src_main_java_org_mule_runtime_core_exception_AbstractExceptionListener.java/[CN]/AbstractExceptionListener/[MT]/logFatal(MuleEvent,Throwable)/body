{
  FlowConstructStatistics statistics=event.getFlowConstruct().getStatistics();
  if (statistics != null && statistics.isEnabled()) {
    statistics.incFatalError();
  }
  MuleMessage logMessage=event.getMessage();
  String logUniqueId=StringUtils.defaultString(logMessage.getUniqueId(),NOT_SET);
  String correlationId=StringUtils.defaultString(logMessage.getCorrelationId(),NOT_SET);
  Integer correlationGroupSize=logMessage.getCorrelationGroupSize();
  Integer correlationGroupSeq=logMessage.getCorrelationSequence();
  String printableLogMessage=MessageFormat.format("Message identification summary here: " + "id={0} correlationId={1}, correlationGroup={2}, correlationSeq={3}",logUniqueId,correlationId,correlationGroupSize,correlationGroupSeq);
  logger.error("Failed to dispatch message to error queue after it failed to process.  This may cause message loss. " + (event.getMessage() == null ? "" : printableLogMessage),t);
}
