{
  SessionDetails session=castConnector().getSessionDetails(endpoint);
  Store store=session.newStore();
  store.connect();
  folder=store.getFolder(castConnector().getMailboxFolder());
  if (backupFolder == null) {
    this.backupFolder=RegistryContext.getConfiguration().getWorkingDirectory() + "/mail/" + folder.getName();
  }
 else   if (StringUtils.EMPTY.equals(backupFolder)) {
    backupFolder=null;
  }
  if (backupFolder != null && !this.backupFolder.endsWith(File.separator)) {
    this.backupFolder+=File.separator;
  }
}
