{
  OutboundEndpoint endpoint=createTestOutboundEndpoint(null,null);
  Processor mp=new OutboundEndpointPropertyMessageProcessor(endpoint);
  Event event=mp.process(createTestOutboundEvent());
  assertEquals(endpoint.getEndpointURI().getUri().toString(),event.getMessage().getOutboundProperty(MuleProperties.MULE_ENDPOINT_PROPERTY));
  assertSame(event,getCurrentEvent());
}
