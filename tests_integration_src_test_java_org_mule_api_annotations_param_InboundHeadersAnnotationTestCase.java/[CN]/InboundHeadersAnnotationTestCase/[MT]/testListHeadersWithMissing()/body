{
  props.remove("bar");
  MuleClient client=new MuleClient(muleContext);
  MuleMessage message=client.send("vm://headersListOptional",null,props);
  assertNotNull("return message from MuleClient.send() should not be null",message);
  assertNotNull(message.getExceptionPayload());
  assertTrue(message.getExceptionPayload().getRootException() instanceof RequiredValueException);
}
