{
  props.remove("bar");
  try {
    muleContext.getClient().send("vm://headersListOptional",null,props);
    fail("Exception expected");
  }
 catch (  Exception e) {
    assertTrue(ExceptionUtils.getRootCause(e) instanceof RequiredValueException);
  }
}
