{
  Apple apple=new Apple();
  Banana banana=new Banana();
  Orange orange=new Orange();
  props.put("apple",apple);
  props.put("banana",banana);
  props.put("orange",orange);
  MuleClient client=muleContext.getClient();
  MuleMessage message=client.send("vm://headersListWithGenerics",null,props);
  assertNotNull("return message from MuleClient.send() should not be null",message);
  assertTrue("Message payload should be a List",message.getPayload() instanceof List);
  List<?> result=(List<?>)message.getPayload();
  assertEquals(2,result.size());
  assertTrue(result.contains(apple));
  assertTrue(result.contains(orange));
  assertFalse(result.contains(banana));
}
