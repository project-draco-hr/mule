{
  props.remove("foo");
  try {
    muleContext.getClient().send("vm://headers",null,null);
    fail("Exception expected");
  }
 catch (  Exception e) {
    assertTrue(ExceptionUtils.getRootCause(e) instanceof RequiredValueException);
  }
}
