{
  if (log.isDebugEnabled()) {
    log.debug(String.format("Invoking %s with event %s",this,event));
  }
  if (event == null) {
    return null;
  }
  final List<AroundPolicy> activePolicies=getActivePolicies();
  final AroundPolicy policy=activePolicies.isEmpty() ? null : activePolicies.iterator().next();
  MuleEvent result;
  if (policy != null) {
    PolicyInvocation invocation=new PolicyInvocation(event,policies,new MessageProcessor(){
      public MuleEvent process(      MuleEvent event) throws MuleException {
        return doProcess(event);
      }
    }
);
    result=policy.invoke(invocation);
  }
 else {
    result=doProcess(event);
  }
  return processNext(result);
}
