{
  basePath=HttpParser.sanitizePathWithStartSlash(this.basePath);
  connectionManager=muleContext.getRegistry().get(HTTP_LISTENER_CONNECTION_MANAGER);
  if (workerThreadingProfile == null) {
    workerThreadingProfile=new MutableThreadingProfile(ThreadingProfile.DEFAULT_THREADING_PROFILE);
    workerThreadingProfile.setMaxThreadsActive(DEFAULT_MAX_THREADS);
  }
  if (tlsContext != null && !tlsContext.isKeyStoreConfigured()) {
    throw new InitialisationException(CoreMessages.createStaticMessage("KeyStore must be configured for server side SSL"),this);
  }
  if (tlsContext == null) {
    server=connectionManager.createServer(host,port);
  }
 else {
    server=connectionManager.createSslServer(host,port,tlsContext);
  }
}
