{
  DataType<?> dataType=DataTypeFactory.create(String.class,MimeTypes.JSON);
  dataType.setEncoding(StandardCharsets.UTF_16.name());
  MuleEvent event=createMockEvent(TEST_MESSAGE,dataType);
  TypedValue typedValue=evaluateTyped("payload",event);
  assertThat((String)typedValue.getValue(),equalTo(TEST_MESSAGE));
  assertThat(typedValue.getDataType(),like(String.class,MimeTypes.JSON,StandardCharsets.UTF_16.name()));
}
