{
  logger.info("Initialising");
  MuleManager manager=(MuleManager)MuleManager.getInstance();
  String workDir=manager.getConfiguration().getWorkingDirectory();
  String fileName=workDir + "/" + (fileStoreDirectory != null ? fileStoreDirectory : DEFAULT_FILESTORE_DIRECTORY);
  serializer=new XStreamSerializer();
  try {
    logger.info("Creating directory " + fileName);
    storeDir=FileUtils.openDirectory(fileName);
    serializer.initialise();
    ready=true;
  }
 catch (  IOException ieo) {
    String msg="Unable to find or create the file store directory: " + fileName;
    ready=false;
    storeDir=null;
    throw new InitialisationException(new MuleException(msg),this);
  }
}
