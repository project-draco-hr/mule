{
  PooledJavaComponent component=new PooledJavaComponent(new PrototypeObjectFactory(WaterMelon.class),getDefaultPoolingProfile());
  component.setService(getTestService());
  component.initialise();
  component.start();
  DefaultLifecycleAdapter lifecycleAdapter=(DefaultLifecycleAdapter)component.borrowComponentLifecycleAdaptor();
  component.returnComponentLifecycleAdaptor(lifecycleAdapter);
  component.dispose();
  assertNull(lifecycleAdapter.componentObject.get());
}
