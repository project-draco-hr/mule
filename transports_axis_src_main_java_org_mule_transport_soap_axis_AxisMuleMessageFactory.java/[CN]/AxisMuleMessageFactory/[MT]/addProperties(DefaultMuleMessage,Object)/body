{
  MessageContext ctx=MessageContext.getCurrentContext();
  if (ctx != null) {
    MuleSoapHeaders header=new MuleSoapHeaders(ctx.getMessage().getSOAPPart().getEnvelope().getHeader());
    if (StringUtils.isNotBlank(header.getReplyTo())) {
      message.setReplyTo(header.getReplyTo());
    }
    if (StringUtils.isNotBlank(header.getCorrelationGroup())) {
      message.setCorrelationGroupSize(Integer.parseInt(header.getCorrelationGroup()));
    }
    if (StringUtils.isNotBlank(header.getCorrelationSequence())) {
      message.setCorrelationSequence(Integer.parseInt(header.getCorrelationSequence()));
    }
    if (StringUtils.isNotBlank(header.getCorrelationId())) {
      message.setCorrelationId(header.getCorrelationId());
    }
  }
}
