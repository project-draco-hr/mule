{
  if (isDynamic(query)) {
    return new DynamicQueryResolver(query,new SimpleQueryTemplateParser(),muleContext.getExpressionManager());
  }
 else   if (query.getQueryTemplate().getType() == QueryType.STORE_PROCEDURE_CALL) {
    return new StoredProcedureQueryResolver(query,dbConfigResolver,queryParamResolver);
  }
 else   if (hasParameters(query)) {
    return new ParametrizedQueryResolver(query,queryParamResolver);
  }
 else {
    return new StaticQueryResolver(query);
  }
}
