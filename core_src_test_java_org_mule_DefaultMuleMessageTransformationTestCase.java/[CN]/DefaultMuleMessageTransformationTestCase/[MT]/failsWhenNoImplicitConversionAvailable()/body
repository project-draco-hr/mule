{
  TestTransformer transformer=new TransformerBuilder().from(DataTypeFactory.BYTE_ARRAY).to(DataTypeFactory.STRING).returning("bar").boundTo(muleContext).build();
  when(conversionResolver.resolve(Mockito.any(DataType.class),Mockito.anyList())).thenReturn(null);
  DefaultMuleMessage message=new DefaultMuleMessage("TEST",muleContext);
  try {
    message.applyTransformers(null,transformer);
    fail("Transformation is supposed to fail");
  }
 catch (  IllegalArgumentException expected) {
  }
  assertFalse(transformer.wasExecuted());
}
