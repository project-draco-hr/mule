{
  muleContext.getRegistry().registerObject("dummy",bean);
  assertTrue(initLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  assertFalse(startLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  assertFalse(stopLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  assertFalse(disposeLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  muleContext.start();
  assertTrue(startLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  assertFalse(stopLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  assertFalse(disposeLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  muleContext.getRegistry().unregisterObject("dummy");
  assertTrue(stopLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  assertTrue(disposeLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
}
