{
  muleContext.getRegistry().registerObject("dummy",bean);
  assertTrue(initLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  Thread.sleep(TIMEOUT);
  assertThat(startLatch.getCount(),is(1L));
  assertThat(stopLatch.getCount(),is(1L));
  assertThat(disposeLatch.getCount(),is(1L));
  muleContext.start();
  assertTrue(startLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  Thread.sleep(TIMEOUT);
  assertThat(stopLatch.getCount(),is(1L));
  assertThat(disposeLatch.getCount(),is(1L));
  muleContext.stop();
  assertTrue(stopLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
  Thread.sleep(TIMEOUT);
  assertThat(disposeLatch.getCount(),is(1L));
  muleContext.dispose();
  assertTrue(disposeLatch.await(TIMEOUT,TimeUnit.MILLISECONDS));
}
