{
  if (!(type.isAssignableFrom(arg.getClass()))) {
    DataType<?> source=DataTypeFactory.create(arg.getClass());
    DataType<?> target=DataTypeFactory.create(type);
    Transformer t=muleContext.getRegistry().lookupTransformer(source,target);
    arg=t.transform(arg);
  }
  return arg;
}
