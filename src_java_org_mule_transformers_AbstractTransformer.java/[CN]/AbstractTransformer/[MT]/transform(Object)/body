{
  Object result=null;
  if (src instanceof UMOMessage) {
    src=((UMOMessage)src).getPayload();
  }
  if (!isSourceTypeSupported(src.getClass())) {
    throw new TransformerException("This transformer: " + getName() + " does not support this source type: "+ src.getClass().getName());
  }
 else {
    result=doTransform(src);
    result=checkReturnClass(result);
    if (transformer != null) {
      result=transformer.transform(result);
    }
  }
  return result;
}
