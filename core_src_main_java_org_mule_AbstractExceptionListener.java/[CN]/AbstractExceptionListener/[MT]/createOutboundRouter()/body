{
  MulticastingRouter router=new MulticastingRouter(){
    @Override protected TransactionTemplate createTransactionTemplate(    MuleSession session,    ImmutableEndpoint endpoint){
      return new TransactionTemplate(endpoint.getTransactionConfig(),new ExceptionListener(){
        public void exceptionThrown(        Exception e){
          logException(e);
        }
      }
,muleContext);
    }
    @Override protected void setMessageProperties(    MuleSession session,    MuleMessage message,    OutboundEndpoint endpoint){
    }
  }
;
  router.setEndpoints(getEndpoints());
  router.setMuleContext(muleContext);
  return router;
}
