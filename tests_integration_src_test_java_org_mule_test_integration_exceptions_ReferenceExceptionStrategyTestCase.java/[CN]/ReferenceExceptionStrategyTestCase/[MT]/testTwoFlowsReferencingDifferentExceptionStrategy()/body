{
  MessagingExceptionHandler firstExceptionStrategy=muleContext.getRegistry().lookupFlowConstruct("otherFlowWithSameReferencedExceptionStrategy").getExceptionListener();
  MessagingExceptionHandler secondExceptionStrategy=muleContext.getRegistry().lookupFlowConstruct("anotherFlowUsingDifferentExceptionStrategy").getExceptionListener();
  assertThat(firstExceptionStrategy,not(secondExceptionStrategy));
  AbstractExceptionListener exceptionListener=(AbstractExceptionListener)((ErrorHandler)firstExceptionStrategy).getExceptionListeners().get(0);
  assertThat(exceptionListener.getMessageProcessors().size(),is(2));
  assertThat(secondExceptionStrategy,instanceOf(ErrorHandler.class));
}
