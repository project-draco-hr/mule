{
  wireMockRule.stubFor(post(urlEqualTo(RESOURCE_PATH)).willReturn(aResponse().withBody(TEST_MESSAGE)));
  Flow testFlow=(Flow)getFlowConstruct(TEST_FLOW_NAME);
  testFlow.process(getTestEvent(TEST_MESSAGE));
  wireMockRule.verify(postRequestedFor(urlEqualTo(RESOURCE_PATH)).withHeader(HttpHeaders.Names.AUTHORIZATION,equalTo(OAuthAuthenticationHeader.buildAuthorizationHeaderContent(ACCESS_TOKEN))));
}
