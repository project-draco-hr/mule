{
  HttpRequesterRequestBuilder resolvedBuilder=requestBuilder != null ? requestBuilder : new HttpRequesterRequestBuilder();
  UriParameters uriParameters=client.getDefaultUriParameters();
  String resolvedHost=resolveIfNecessary(host,uriParameters.getHost(),muleEvent);
  Integer resolvedPort=resolveIfNecessary(port,uriParameters.getPort(),muleEvent);
  String resolvedBasePath=config.getBasePath().apply(muleEvent);
  String resolvedPath=resolvedBuilder.replaceUriParams(buildPath(resolvedBasePath,path));
  String resolvedUri=resolveUri(uriParameters.getScheme(),resolvedHost,resolvedPort,resolvedPath);
  Boolean resolvedFollowRedirects=resolveIfNecessary(followRedirects,config.getFollowRedirects(),muleEvent);
  HttpStreamingType resolvedStreamingMode=resolveIfNecessary(requestStreamingMode,config.getRequestStreamingMode(),muleEvent);
  HttpSendBodyMode resolvedSendBody=resolveIfNecessary(sendBodyMode,config.getSendBodyMode(),muleEvent);
  Boolean resolvedParseResponse=resolveIfNecessary(parseResponse,config.getParseResponse(),muleEvent);
  Integer resolvedTimeout=resolveResponseTimeout(muleEvent,config,responseTimeout);
  ResponseValidator resolvedValidator=responseValidator != null ? responseValidator : new SuccessStatusCodeValidator("0..399");
  HttpRequester requester=new HttpRequester.Builder().setUri(resolvedUri).setMethod(method).setFollowRedirects(resolvedFollowRedirects).setRequestStreamingMode(resolvedStreamingMode).setSendBodyMode(resolvedSendBody).setSource(source).setAuthentication(config.getAuthentication()).setParseResponse(resolvedParseResponse).setResponseTimeout(resolvedTimeout).setResponseValidator(resolvedValidator).setConfig(config).build();
  return requester.doRequest(muleEvent,client,resolvedBuilder,true);
}
