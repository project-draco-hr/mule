{
  if (filter instanceof SxcFilter) {
    SxcFilter sxcFilter=((SxcFilter)filter);
    sxcFilter.addEventHandler(this,xpathBuilder);
  }
 else   if (filter instanceof AndFilter) {
    AndFilter f=(AndFilter)filter;
    for (Iterator<?> itr=f.getFilters().iterator(); itr.hasNext(); ) {
      addEventHandlers(xpathBuilder,(Filter)itr.next());
    }
  }
 else   if (filter instanceof OrFilter) {
    OrFilter f=(OrFilter)filter;
    for (Iterator<?> itr=f.getFilters().iterator(); itr.hasNext(); ) {
      addEventHandlers(xpathBuilder,(Filter)itr.next());
    }
  }
 else   if (filter instanceof NotFilter) {
    NotFilter f=(NotFilter)filter;
    addEventHandlers(xpathBuilder,f.getFilter());
  }
 else {
    logger.warn("Filter type " + filter.getClass().toString() + " is not recognized by the SXC router. If it contains child "+ "SXC filters it will not work correctly.");
  }
}
