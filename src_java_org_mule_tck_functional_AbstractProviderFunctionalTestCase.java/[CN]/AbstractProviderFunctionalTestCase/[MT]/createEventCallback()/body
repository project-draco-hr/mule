{
  EventCallback callback=new EventCallback(){
    public void eventReceived(    UMOEventContext context,    Object Component){
synchronized (lock) {
        callbackCalled=true;
        callbackCount++;
      }
      if (!transacted) {
        assertNull(context.getCurrentTransaction());
      }
 else {
        assertNotNull(context.getCurrentTransaction());
      }
    }
  }
;
  return callback;
}
