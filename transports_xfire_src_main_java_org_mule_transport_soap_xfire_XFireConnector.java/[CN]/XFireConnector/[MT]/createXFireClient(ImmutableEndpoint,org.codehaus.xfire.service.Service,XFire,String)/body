{
  Class transportClazz=MuleUniversalTransport.class;
  if (getClientTransport() == null) {
    if (!StringUtils.isBlank(transportClass)) {
      transportClazz=ClassUtils.loadClass(transportClass,getClass());
    }
  }
 else {
    transportClazz=ClassUtils.loadClass(getClientTransport(),getClass());
  }
  Transport transport=(Transport)transportClazz.getConstructor((Class[])null).newInstance((Object[])null);
  Client client=new Client(transport,service,endpoint.getEndpointURI().getUri().toString());
  client.setXFire(xfire);
  client.setEndpointUri(endpoint.getEndpointURI().getUri().toString());
  return configureXFireClient(client);
}
