{
  XStream instance=(XStream)xstream.get();
  if (instance == null) {
    try {
      instance=new XStreamFactory(driverClassName,aliases,converters).getInstance();
      if (!xstream.compareAndSet(null,instance)) {
        instance=(XStream)xstream.get();
      }
    }
 catch (    Exception e) {
      throw new TransformerException(MessageFactory.createStaticMessage("Unable to initialize XStream"),e);
    }
  }
  return instance;
}
