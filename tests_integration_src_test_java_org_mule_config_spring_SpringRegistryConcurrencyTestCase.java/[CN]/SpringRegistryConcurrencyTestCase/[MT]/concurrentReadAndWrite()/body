{
  final Thread thread=newReaderThread();
  Object object=new Startable(){
    @Override public void start() throws MuleException {
      try {
        thread.start();
        waitOn(latch);
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
;
  muleContext.getRegistry().registerObject(KEY,object);
  waitOn(auxiliaryLatch);
  assertThat(lookupObjects.containsKey(KEY),is(true));
}
