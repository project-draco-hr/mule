{
  ByteArrayOutputStream output=new ByteArrayOutputStream();
  IOUtils.copy(inputSource.getByteStream(),output);
  InputSource defaultInputSource=new InputSource(new ByteArrayInputStream(output.toByteArray()));
  InputSource enrichInputSource=new InputSource(new ByteArrayInputStream(output.toByteArray()));
  Document doc=defaultLoader.loadDocument(defaultInputSource,entityResolver,errorHandler,validationMode,namespaceAware);
  createSaxAnnotator(doc).parse(enrichInputSource);
  return doc;
}
