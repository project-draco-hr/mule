{
  if (muleEvent == null) {
    return query;
  }
  List<QueryParamValue> resolvedParams=queryParamResolver.resolveParams(muleEvent,query.getParamValues());
  QueryTemplate queryTemplate=resolveStoredProcedureDefinition(muleEvent,query);
  return new Query(queryTemplate,resolvedParams);
}
