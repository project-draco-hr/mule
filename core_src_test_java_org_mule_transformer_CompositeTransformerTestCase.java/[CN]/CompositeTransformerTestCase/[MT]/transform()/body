{
  doReturn("MyOutput1").when(mockTransformerA).transform(any());
  doReturn("UTF-8").when(mockTransformerA).getEncoding();
  doReturn("MyOutput2").when(mockTransformerB).transform(eq("MyOutput1"),eq("UTF-8"));
  doReturn("UTF-8").when(mockTransformerB).getEncoding();
  CompositeTransformer chain=new CompositeTransformer(mockTransformerA,mockTransformerB);
  Object output=chain.transform("MyInput");
  verify(mockTransformerA,times(1)).transform("MyInput");
  verify(mockTransformerB,times(1)).transform("MyOutput1","UTF-8");
  assertEquals("MyOutput2",output);
}
