{
  StandardDataSource dataSource=resolvedDataSourceConfig.isUseXaTransactions() ? new StandardXADataSource() : new StandardDataSource();
  dataSource.setDriverName(resolvedDataSourceConfig.getDriverClassName());
  if (resolvedDataSourceConfig.getConnectionTimeout() >= 0) {
    dataSource.setLoginTimeout(resolvedDataSourceConfig.getConnectionTimeout());
  }
  dataSource.setPassword(resolvedDataSourceConfig.getPassword());
  dataSource.setTransactionIsolation(resolvedDataSourceConfig.getTransactionIsolation());
  dataSource.setUrl(resolvedDataSourceConfig.getUrl());
  dataSource.setUser(resolvedDataSourceConfig.getUser());
  return dataSource;
}
