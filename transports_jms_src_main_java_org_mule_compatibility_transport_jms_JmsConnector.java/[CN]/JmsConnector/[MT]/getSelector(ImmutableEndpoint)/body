{
  for (  Processor mp : endpoint.getMessageProcessors()) {
    if (mp instanceof JmsSelectorFilter) {
      return (JmsSelectorFilter)mp;
    }
 else     if (mp instanceof MessageFilter) {
      MessageFilter mf=(MessageFilter)mp;
      if (mf.getFilter() instanceof JmsSelectorFilter) {
        return (JmsSelectorFilter)mf.getFilter();
      }
    }
  }
  return null;
}
