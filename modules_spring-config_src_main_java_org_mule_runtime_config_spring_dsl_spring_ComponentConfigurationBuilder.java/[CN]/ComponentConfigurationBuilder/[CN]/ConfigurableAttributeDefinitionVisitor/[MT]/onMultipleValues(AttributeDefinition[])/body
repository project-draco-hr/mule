{
  ManagedMap managedMap=new ManagedMap();
  for (  AttributeDefinition definition : definitions) {
    ValueExtractorAttributeDefinitionVisitor valueExtractor=new ValueExtractorAttributeDefinitionVisitor();
    KeyExtractorAttributeDefinitionVisitor keyExtractor=new KeyExtractorAttributeDefinitionVisitor();
    definition.accept(keyExtractor);
    definition.accept(valueExtractor);
    Object value=valueExtractor.getValue();
    if (value != null) {
      managedMap.put(keyExtractor.getKey(),value);
    }
  }
  valueConsumer.accept(managedMap);
}
