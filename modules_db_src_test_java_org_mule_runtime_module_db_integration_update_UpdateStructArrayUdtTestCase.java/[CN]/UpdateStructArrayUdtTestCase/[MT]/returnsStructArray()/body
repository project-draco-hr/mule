{
  final MuleEvent responseEvent=flowRunner("updatesStructArray").withPayload(TEST_MESSAGE).run();
  final MuleMessage response=responseEvent.getMessage();
  assertThat(response.getPayload(),instanceOf(Object[].class));
  final Object[] arrayPayload=(Object[])response.getPayload();
  assertThat(arrayPayload.length,equalTo(1));
  assertThat(arrayPayload[0],instanceOf(Struct.class));
  assertThat(((Struct)arrayPayload[0]).getAttributes(),equalTo(CONTACT2.getDetailsAsObjectArray()[0]));
}
