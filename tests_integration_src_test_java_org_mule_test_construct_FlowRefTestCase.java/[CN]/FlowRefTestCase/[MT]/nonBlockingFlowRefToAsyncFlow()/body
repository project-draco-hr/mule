{
  Response response=Request.Post(String.format("http://localhost:%s/%s",port.getNumber(),"nonBlockingFlowRefToAsyncFlow")).connectTimeout(RECEIVE_TIMEOUT).bodyString(TEST_MESSAGE,ContentType.TEXT_PLAIN).execute();
  HttpResponse httpResponse=response.returnResponse();
  assertThat(httpResponse.getStatusLine().getStatusCode(),is(500));
  assertThat(IOUtils.toString(httpResponse.getEntity().getContent()),is("Unable to process a synchronous event asynchronously. Message payload is of type: BufferInputStream"));
}
