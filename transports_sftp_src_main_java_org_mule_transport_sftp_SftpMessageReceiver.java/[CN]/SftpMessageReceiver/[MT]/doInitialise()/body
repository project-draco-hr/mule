{
  this.lockFactory=getEndpoint().getMuleContext().getLockFactory();
  boolean synchronousProcessing=false;
  if (getFlowConstruct() instanceof Flow) {
    synchronousProcessing=((Flow)getFlowConstruct()).getProcessingStrategy() instanceof SynchronousProcessingStrategy;
  }
  this.poolOnPrimaryInstanceOnly=Boolean.valueOf(System.getProperty("mule.transport.sftp.singlepollinstance","false")) || !synchronousProcessing;
}
