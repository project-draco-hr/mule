{
  if (!getEnvironment().getConfig().isShowAgents()) {
    return;
  }
  Element agents=currentElement.getChild(MuleTag.ELEMENT_AGENTS);
  if (agents == null) {
    return;
  }
  List agentsElement=agents.getChildren(MuleTag.ELEMENT_AGENT);
  for (Iterator iter=agentsElement.iterator(); iter.hasNext(); ) {
    Element connector=(Element)iter.next();
    GraphNode connectorNode=graph.addNode();
    connectorNode.getInfo().setFillColor(ColorRegistry.COLOR_AGENTS);
    String name=connector.getAttributeValue(MuleTag.ATTRIBUTE_NAME);
    connectorNode.getInfo().setHeader(name);
    StringBuffer caption=new StringBuffer();
    String className=connector.getAttributeValue(MuleTag.ATTRIBUTE_CLASS_NAME);
    caption.append(MuleTag.ATTRIBUTE_CLASS_NAME + " :" + className+ "\n");
    appendProperties(connector,caption);
    appendDescription(connector,caption);
    connectorNode.getInfo().setCaption(caption.toString());
  }
}
