{
  doThrow(runtimeException).when(completionHandler).onFailure(messagingException);
  template.sendFailureResponseToClient(messagingException,responseCompletionCallback);
  verify(responseCompletionCallback).responseSentWithFailure(runtimeException,event);
}
