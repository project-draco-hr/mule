{
  endpoint=new MuleEndpoint("tcp://localhost:10101",true);
  endpoint.setConnector(new TcpConnector());
  Mock mockComponent=new Mock(UMOComponent.class);
  Mock mockDescriptor=new Mock(UMODescriptor.class);
  mockComponent.expectAndReturn("getDescriptor",mockDescriptor.proxy());
  mockDescriptor.expectAndReturn("getResponseTransformer",null);
  return new TcpMessageReceiver((AbstractConnector)endpoint.getConnector(),(UMOComponent)mockComponent.proxy(),endpoint);
}
