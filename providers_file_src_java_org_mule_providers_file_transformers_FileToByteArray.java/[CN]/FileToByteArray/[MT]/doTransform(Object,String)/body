{
  File file=(File)src;
  if (file.length() == 0) {
    logger.warn("File is empty: " + file.getAbsolutePath());
    return ArrayUtils.EMPTY_BYTE_ARRAY;
  }
  FileInputStream fis=null;
  byte[] bytes=null;
  try {
    fis=new FileInputStream(file);
    int length=new Long(file.length()).intValue();
    bytes=new byte[length];
    fis.read(bytes);
    return bytes;
  }
 catch (  OutOfMemoryError oom) {
    throw new TransformerException(this,oom);
  }
catch (  IOException e) {
    throw new TransformerException(this,e);
  }
 finally {
    IOUtils.closeQuietly(fis);
  }
}
