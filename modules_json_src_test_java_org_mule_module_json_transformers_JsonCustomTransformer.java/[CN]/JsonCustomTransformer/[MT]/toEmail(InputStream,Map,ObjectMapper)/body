{
  Object foo=headers.get("foo");
  if (foo == null || !"fooValue".equals(foo)) {
    throw new IllegalArgumentException("Header foo not set to 'fooValue'");
  }
  return mapper.readValue(in,EmailAddress.class);
}
