{
  if (filter != null) {
    AbstractConnector connector=(AbstractConnector)endpoint.getConnector();
    try {
      filter.authenticate(event);
    }
 catch (    org.mule.api.security.SecurityException e) {
      logger.warn("Outbound Request was made but was not authenticated: " + e.getMessage(),e);
      connector.fireNotification(new SecurityNotification(e,SecurityNotification.SECURITY_AUTHENTICATION_FAILED));
      connector.handleException(e);
      event.getMessage().setExceptionPayload(new DefaultExceptionPayload(e));
      return event;
    }
catch (    Exception e) {
      connector.handleException(e);
      throw new DispatchException(event.getMessage(),event.getEndpoint(),e);
    }
  }
  return processNext(event);
}
