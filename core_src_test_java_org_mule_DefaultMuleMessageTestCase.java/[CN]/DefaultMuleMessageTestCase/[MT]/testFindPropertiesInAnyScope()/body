{
  MuleMessage message=createMuleMessage();
  message.removeProperty("MuleMessage",PropertyScope.OUTBOUND);
  message.setOutboundProperty("foo","fooOutbound");
  message.setInvocationProperty("bar","barInvocation");
  message.setInvocationProperty("foo","fooInvocation");
  message.setInboundProperty("foo","fooInbound");
  assertEquals(2,message.getInvocationPropertyNames().size());
  assertEquals(1,message.getOutboundPropertyNames().size());
  assertEquals(1,message.getInboundPropertyNames().size());
  String value=message.findPropertyInAnyScope("foo",null);
  assertEquals("fooOutbound",value);
  message.removeProperty("foo",PropertyScope.OUTBOUND);
  value=message.findPropertyInAnyScope("foo",null);
  assertEquals("fooInvocation",value);
  message.removeProperty("foo",PropertyScope.INVOCATION);
  value=message.findPropertyInAnyScope("foo",null);
  assertEquals("fooInbound",value);
  value=message.findPropertyInAnyScope("bar",null);
  assertEquals("barInvocation",value);
}
