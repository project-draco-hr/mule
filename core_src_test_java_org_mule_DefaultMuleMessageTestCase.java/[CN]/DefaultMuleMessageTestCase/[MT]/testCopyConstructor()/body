{
  DefaultMuleMessage original=(DefaultMuleMessage)createMuleMessage();
  Map<String,Object> properties=createMessageProperties();
  original.addInboundProperties(properties);
  assertInboundAndOutboundMessageProperties(original);
  MuleMessage copy=new DefaultMuleMessage(original);
  assertInboundAndOutboundMessageProperties(copy);
  assertEquals(muleContext.getConfiguration().getDefaultEncoding(),copy.getEncoding());
  original.setProperty("FOO","OTHER",PropertyScope.OUTBOUND);
  assertNull(copy.getProperty("FOO",PropertyScope.OUTBOUND));
  original.setProperty("FOO","OTHER",PropertyScope.INBOUND);
  assertNull(copy.getProperty("FOO",PropertyScope.INBOUND));
  copy.setProperty("ABC","OTHER",PropertyScope.OUTBOUND);
  assertNull(original.getProperty("ABC",PropertyScope.OUTBOUND));
  copy.setProperty("ABC","OTHER",PropertyScope.INBOUND);
  assertNull(original.getProperty("ABC",PropertyScope.INBOUND));
}
