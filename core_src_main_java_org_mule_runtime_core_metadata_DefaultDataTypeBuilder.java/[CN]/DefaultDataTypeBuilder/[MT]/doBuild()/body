{
  if (Collection.class.isAssignableFrom(type)) {
    return new CollectionDataType(type,itemTypeBuilder != null ? itemTypeBuilder.build() : DataType.OBJECT,MediaType.create(mediaPrimaryType,mediaSubType,charset));
  }
 else {
    return new SimpleDataType<>(type,MediaType.create(mediaPrimaryType,mediaSubType,charset));
  }
}
