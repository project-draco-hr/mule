{
  MuleEvent event=getTestEvent("test");
  event.setMessage(MuleMessage.builder(event.getMessage()).addOutboundProperty("user","vasya").addOutboundProperty("password","pupkin").addOutboundProperty("host","example.com").addOutboundProperty("port","12345").build());
  String result=muleContext.getExpressionManager().parse("http://#[message.outboundProperties.user]:#[message.outboundProperties.password]@#[message.outboundProperties.host]:#[message.outboundProperties.port]/foo/bar",event);
  assertNotNull(result);
  assertEquals("http://vasya:pupkin@example.com:12345/foo/bar",result);
}
