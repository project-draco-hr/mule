{
  ThreadPoolExecutor pool;
  if (maxBufferSize > 0) {
    pool=new ThreadPoolExecutor(0,maxBufferSize,60L,TimeUnit.SECONDS,new ArrayBlockingQueue(maxBufferSize));
  }
 else {
    pool=new ThreadPoolExecutor(0,Integer.MAX_VALUE,60L,TimeUnit.SECONDS,new SynchronousQueue());
  }
  configurePool(pool);
  return pool;
}
