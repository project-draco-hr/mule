{
  AbstractTransformer transformerInstance=createInstance();
  if (returnClass != null || mimeType != null) {
    DataTypeParamsBuilder builder=DataType.builder().type(getReturnType()).charset(encoding);
    if (StringUtils.isNotEmpty(mimeType)) {
      builder=builder.mediaType(mimeType);
    }
    transformerInstance.setReturnDataType(builder.build());
  }
  transformerInstance.setIgnoreBadInput(ignoreBadInput);
  transformerInstance.setName(name);
  postProcessInstance(transformerInstance);
  return transformerInstance;
}
