{
  if (src instanceof byte[])   return new String((byte[])src);
  if (src instanceof String)   return src.toString();
  StringBuffer sb=new StringBuffer(new Long(((File)src).length()).intValue());
  char[] buf=new char[1024 * 8];
  FileReader fr=null;
  try {
    fr=new FileReader((File)src);
    int read=0;
    while ((read=fr.read(buf)) >= 0) {
      sb.append(buf,0,read);
    }
  }
 catch (  IOException e) {
    throw new TransformerException(this,e);
  }
 finally {
    try {
      if (fr != null)       fr.close();
    }
 catch (    IOException e) {
      logger.debug("Failed to close reader in transformer: " + e.getMessage());
    }
  }
  return sb.toString();
}
