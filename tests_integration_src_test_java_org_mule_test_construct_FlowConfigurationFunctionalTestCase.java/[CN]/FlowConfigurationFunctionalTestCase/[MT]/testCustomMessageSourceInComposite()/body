{
  Flow flow=(Flow)muleContext.getRegistry().lookupFlowConstruct("customMessageSourceInComposite");
  CompositeMessageSource compositeSource=(CompositeMessageSource)flow.getMessageSource();
  TestMessageSource source=(TestMessageSource)compositeSource.getSources().get(0);
  MuleEvent result=source.fireEvent(getTestEvent("a"));
  assertEquals("abcd",result.getMessageAsString(muleContext));
}
