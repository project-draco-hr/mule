{
  SimpleFlowConstruct flow=muleContext.getRegistry().lookupObject("flow2");
  assertEquals(StartableCompositeMessageSource.class,flow.getMessageSource().getClass());
  assertEquals(3,flow.getMessageProcessors().size());
  assertEquals("01xyz",muleContext.getClient().send("vm://in2",new DefaultMuleMessage("0",muleContext)).getPayloadAsString());
  assertEquals("01xyz",muleContext.getClient().send("vm://in3",new DefaultMuleMessage("0",muleContext)).getPayloadAsString());
}
