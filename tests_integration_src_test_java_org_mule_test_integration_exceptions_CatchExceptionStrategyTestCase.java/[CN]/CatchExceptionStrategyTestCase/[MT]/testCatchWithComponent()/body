{
  LocalMuleClient client=muleContext.getClient();
  client.dispatch("vm://in2","some message",null);
  MuleMessage result=client.send("vm://in2",MESSAGE,null,TIMEOUT);
  assertThat(result,IsNull.<Object>notNullValue());
  assertThat(getPayloadAsString(result),Is.is(MESSAGE + " Caught"));
}
