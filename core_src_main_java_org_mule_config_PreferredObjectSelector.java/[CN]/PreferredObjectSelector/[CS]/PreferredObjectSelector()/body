{
  comparator=new Comparator<T>(){
    private PreferredComparator preferredComparator=new PreferredComparator();
    public int compare(    T threadPoolFactory,    T threadPoolFactory1){
      final Preferred preferred=threadPoolFactory.getClass().getAnnotation(Preferred.class);
      final Preferred preferred1=threadPoolFactory1.getClass().getAnnotation(Preferred.class);
      return preferredComparator.compare(preferred,preferred1);
    }
  }
;
}
