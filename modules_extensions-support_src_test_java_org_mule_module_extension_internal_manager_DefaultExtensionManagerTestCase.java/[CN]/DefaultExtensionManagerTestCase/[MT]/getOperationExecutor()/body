{
  discover();
  extensionsManager.registerConfigurationInstanceProvider(EXTENSION1_CONFIG_INSTANCE_NAME,extension1ConfigurationInstanceProvider);
  OperationExecutor managedExecutor=extensionsManager.getOperationExecutor(EXTENSION1_CONFIG_INSTANCE_NAME,extension1OperationContext);
  assertThat(managedExecutor,is(sameInstance((OperationExecutor)executor)));
  managedExecutor=extensionsManager.getOperationExecutor(EXTENSION1_CONFIG_INSTANCE_NAME,extension1OperationContext);
  assertThat(managedExecutor,is(sameInstance((OperationExecutor)executor)));
  verify(muleContext.getRegistry()).registerObject(anyString(),same(executorDelegate));
  verify(extension1Operation).getExecutor(configInstance);
}
