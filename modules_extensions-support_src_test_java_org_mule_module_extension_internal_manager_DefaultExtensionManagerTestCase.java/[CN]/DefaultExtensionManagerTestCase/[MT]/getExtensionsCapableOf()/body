{
  when(extensionModel1.isCapableOf(XmlCapability.class)).thenReturn(true);
  when(extensionModel2.isCapableOf(XmlCapability.class)).thenReturn(false);
  discover();
  Set<ExtensionModel> extensionModels=extensionsManager.getExtensionsCapableOf(XmlCapability.class);
  assertThat(extensionModels,hasSize(1));
  testEquals(extensionModel1,extensionModels.iterator().next());
}
