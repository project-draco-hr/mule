{
  FunctionalTestComponent testComponent=(FunctionalTestComponent)getComponent(contextPath);
  assertNotNull(testComponent);
  EventCallback callback=new EventCallback(){
    public void eventReceived(    final MuleEventContext context,    final Object component) throws Exception {
      MuleMessage msg=context.getMessage();
      assertEquals(requestPath,msg.getProperty(HttpConnector.HTTP_REQUEST_PROPERTY));
      assertEquals(requestPath,msg.getProperty(HttpConnector.HTTP_REQUEST_PATH_PROPERTY));
      assertEquals(contextPath,msg.getProperty(HttpConnector.HTTP_CONTEXT_PATH_PROPERTY));
    }
  }
;
  testComponent.setEventCallback(callback);
  MuleMessage result=client.send(url,"Hello World",null);
  assertEquals("Hello World Received",result.getPayloadAsString());
  assertEquals(200,result.getIntProperty(HttpConnector.HTTP_STATUS_PROPERTY,0));
}
