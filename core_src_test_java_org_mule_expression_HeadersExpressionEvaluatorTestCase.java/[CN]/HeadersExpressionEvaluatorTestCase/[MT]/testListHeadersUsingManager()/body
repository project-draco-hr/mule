{
  MuleMessage message=new DefaultMuleMessage("test",props,muleContext);
  Object result=muleContext.getExpressionManager().evaluate("#[headers-list:foo, baz]",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(2,((List)result).size());
  assertTrue(((List)result).contains("foovalue"));
  assertTrue(((List)result).contains("bazvalue"));
  assertFalse(((List)result).contains("barvalue"));
  result=muleContext.getExpressionManager().evaluate("#[headers-list:foo?, baz]",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(2,((List)result).size());
  assertTrue(((List)result).contains("foovalue"));
  assertTrue(((List)result).contains("bazvalue"));
  assertFalse(((List)result).contains("barvalue"));
  result=muleContext.getExpressionManager().evaluate("#[headers-list:fool?]",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(0,((List)result).size());
  try {
    muleContext.getExpressionManager().evaluate("#[headers-list:fool]",message);
    fail("Required value");
  }
 catch (  ExpressionRuntimeException e) {
  }
}
