{
  MuleMessage message=new DefaultMuleMessage("test",props);
  Object result=ExpressionEvaluatorManager.evaluate("#[headers-list:foo, baz]",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(2,((List)result).size());
  assertTrue(((List)result).contains("moo"));
  assertTrue(((List)result).contains("maz"));
  assertFalse(((List)result).contains("mar"));
  result=ExpressionEvaluatorManager.evaluate("#[headers-list:fool]",message);
  assertNull(result);
  result=ExpressionEvaluatorManager.evaluate("#[headers-list:foo]",new Object());
  assertNull(result);
}
