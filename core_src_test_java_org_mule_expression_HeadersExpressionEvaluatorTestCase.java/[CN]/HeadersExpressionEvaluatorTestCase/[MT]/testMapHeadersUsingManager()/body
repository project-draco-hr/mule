{
  MuleMessage message=new DefaultMuleMessage("test",props,muleContext);
  Object result=muleContext.getExpressionManager().evaluate("#[headers:foo, baz]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(2,((Map)result).size());
  assertTrue(((Map)result).values().contains("moo"));
  assertTrue(((Map)result).values().contains("maz"));
  assertFalse(((Map)result).values().contains("mar"));
  result=muleContext.getExpressionManager().evaluate("#[headers:foo*, baz]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  result=muleContext.getExpressionManager().evaluate("#[headers:fool*]",message);
  assertNull(result);
  try {
    result=muleContext.getExpressionManager().evaluate("#[headers:fool]",message);
    fail("Required value");
  }
 catch (  ExpressionRuntimeException e) {
  }
  assertEquals(3,muleContext.getExpressionManager().evaluate("#[headers:{count}]",message));
}
