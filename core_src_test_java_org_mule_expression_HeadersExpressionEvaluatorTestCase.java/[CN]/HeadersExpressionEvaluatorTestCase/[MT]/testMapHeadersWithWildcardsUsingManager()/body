{
  MuleMessage message=new DefaultMuleMessage("test",props,muleContext);
  Object result=muleContext.getExpressionManager().evaluate("#[headers:*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(3,((Map)result).size());
  assertTrue(((Map)result).values().contains("foovalue"));
  assertTrue(((Map)result).values().contains("bazvalue"));
  assertTrue(((Map)result).values().contains("barvalue"));
  result=muleContext.getExpressionManager().evaluate("#[headers:ba*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(2,((Map)result).size());
  assertFalse(((Map)result).values().contains("foovalue"));
  assertTrue(((Map)result).values().contains("bazvalue"));
  assertTrue(((Map)result).values().contains("barvalue"));
  result=muleContext.getExpressionManager().evaluate("#[headers:x*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(0,((Map)result).size());
  result=muleContext.getExpressionManager().evaluate("#[headers:ba*, f*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(3,((Map)result).size());
  assertTrue(((Map)result).values().contains("foovalue"));
  assertTrue(((Map)result).values().contains("bazvalue"));
  assertTrue(((Map)result).values().contains("barvalue"));
}
