{
  MessageHeadersListExpressionEvaluator eval=new MessageHeadersListExpressionEvaluator();
  MuleMessage message=new DefaultMuleMessage("test",props,muleContext);
  Object result=eval.evaluate("*",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(3,((List)result).size());
  assertTrue(((List)result).contains("foovalue"));
  assertTrue(((List)result).contains("bazvalue"));
  assertTrue(((List)result).contains("barvalue"));
  result=eval.evaluate("ba*",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(2,((List)result).size());
  assertTrue(((List)result).contains("barvalue"));
  assertTrue(((List)result).contains("bazvalue"));
  result=eval.evaluate("x*",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(0,((List)result).size());
  result=eval.evaluate("ba*, f*",message);
  assertNotNull(result);
  assertTrue(result instanceof List);
  assertEquals(3,((List)result).size());
  assertTrue(((List)result).contains("foovalue"));
  assertTrue(((List)result).contains("bazvalue"));
  assertTrue(((List)result).contains("barvalue"));
}
