{
  if (expression == null) {
    logger.warn("Expression for JXPathMessageFilter is not set");
    return false;
  }
  if (value == null) {
    if (logger.isDebugEnabled()) {
      logger.debug("Value for JXPathMessageFilter is not set : true by default");
    }
    value=Boolean.TRUE.toString();
  }
  boolean res=false;
  try {
    Object o=null;
    JXPathContext context=JXPathContext.newContext(message);
    o=context.getValue(expression);
    if (logger.isDebugEnabled()) {
      logger.debug("JXPathMessageFilter Expression result='" + o + "' -  Expected value='"+ value+ "'");
    }
    if (o != null) {
      res=value.equals(o.toString());
    }
 else {
      res=false;
      logger.warn("JXPathMessageFilter Expression result is null (" + expression + ")");
    }
  }
 catch (  Exception e) {
    logger.warn("JXPathMessageFilter cannot evaluate expression (" + expression + ") :"+ e.getMessage(),e);
  }
  if (logger.isDebugEnabled()) {
    logger.debug("JXPathMessageFilter accept object  : " + res);
  }
  return res;
}
