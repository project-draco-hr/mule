{
  ExceptionListener exceptionListener=new ExceptionListener(muleContext).setNumberOfExecutionsRequired(4);
  createFileOnFtpServer("rollbackOnException/test1");
  exceptionListener.waitUntilAllNotificationsAreReceived();
  prober.check(new Probe(){
    @Override public boolean isSatisfied(){
      return !fileExists("commitOnException/test1");
    }
    @Override public String describeFailure(){
      return "File should be gone";
    }
  }
);
}
