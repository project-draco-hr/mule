{
  final InternalMessage response=muleContext.getClient().send(getUrl(),InternalMessage.of(TEST_MESSAGE),newOptions().method(PUT_HTTP_METHOD).build()).getRight();
  assertThat(getPayloadAsString(response),is(TEST_MESSAGE));
  final InternalMessage receivedMessage=getMessageReceivedByFlow();
  assertThat(getPayloadAsString(receivedMessage),is(TEST_MESSAGE));
  assertThat(receivedMessage.getInboundProperty(HttpConstants.RequestProperties.HTTP_METHOD_PROPERTY),is(PUT_HTTP_METHOD));
}
