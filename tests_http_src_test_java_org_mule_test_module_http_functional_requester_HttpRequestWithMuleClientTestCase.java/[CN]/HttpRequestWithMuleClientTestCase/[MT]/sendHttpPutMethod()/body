{
  final MuleMessage response=muleContext.getClient().send(getUrl(),getTestMuleMessage(TEST_MESSAGE),newOptions().method(PUT_HTTP_METHOD).build()).getRight();
  assertThat(getPayloadAsString(response),is(TEST_MESSAGE));
  final MuleMessage receivedMessage=getMessageReceivedByFlow();
  assertThat(getPayloadAsString(receivedMessage),is(TEST_MESSAGE));
  assertThat(receivedMessage.getInboundProperty(HttpConstants.RequestProperties.HTTP_METHOD_PROPERTY),Is.<Object>is(PUT_HTTP_METHOD));
}
