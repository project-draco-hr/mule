{
  BeanDefinitionBuilder executorFactoryBean=BeanDefinitionBuilder.genericBeanDefinition(StoredProcedureExecutorFactory.class);
  executorFactoryBean.addConstructorArgValue(parseStatementFactory(element));
  BeanDefinitionBuilder statementResultHandlerBean;
  if (streaming) {
    statementResultHandlerBean=BeanDefinitionBuilder.genericBeanDefinition(StreamingStatementResultHandler.class);
  }
 else {
    statementResultHandlerBean=BeanDefinitionBuilder.genericBeanDefinition(EagerStatementResultHandler.class);
  }
  statementResultHandlerBean.addConstructorArgValue(resultSetHandler);
  executorFactoryBean.addConstructorArgValue(statementResultHandlerBean.getBeanDefinition());
  return executorFactoryBean.getBeanDefinition();
}
