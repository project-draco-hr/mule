{
  if (tcpProtocol == null) {
    try {
      tcpProtocol=(TcpProtocol)ClassUtils.instanciateClass(tcpProtocolClassName,null);
    }
 catch (    Exception e) {
      throw new InitialisationException(TcpMessages.failedToInitMessageReader(),e,this);
    }
  }
  dispatcherSocketsPool.setFactory(getSocketFactory());
  dispatcherSocketsPool.setTestOnBorrow(true);
  dispatcherSocketsPool.setTestOnReturn(true);
  dispatcherSocketsPool.setMaxActive(1);
}
