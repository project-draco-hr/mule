{
  Throwable t=null;
  try {
    t=message.getException().toException();
  }
 catch (  Exception e) {
    throw new HandlerException("Failed to retreive exception from exception message: " + e,e);
  }
  if (!isRegisteredFor(t.getClass())) {
    throw new HandlerException("Exception: " + t.getClass().getName() + " was recieved by Exception behaviour: "+ getClass().getName()+ ", but the exception is not registered to be handled by this behaviour");
  }
  processException(message,t);
}
