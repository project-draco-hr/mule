{
  UMOMessage result=message;
  Object temp=message;
  UMOTransformer lastTransformer=null;
  for (Iterator iterator=transformers.iterator(); iterator.hasNext(); ) {
    lastTransformer=(UMOTransformer)iterator.next();
    temp=lastTransformer.transform(temp);
    if (temp instanceof UMOMessage) {
      result=(UMOMessage)temp;
    }
 else {
      result.setPayload(temp);
    }
  }
  if (lastTransformer != null && lastTransformer.getReturnClass().equals(UMOMessage.class)) {
    return result;
  }
 else {
    return result.getPayload();
  }
}
