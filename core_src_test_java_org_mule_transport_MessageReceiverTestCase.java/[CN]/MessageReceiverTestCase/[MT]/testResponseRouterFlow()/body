{
  InboundEndpoint endpoint=createTestEndpoint(null,null,false,null);
  Service service=createTestService();
  FakeDefaultResponseRouterCollection responseRouterCollection=new FakeDefaultResponseRouterCollection();
  responseRouterCollection.addEndpoint(endpoint);
  service.setResponseRouter(responseRouterCollection);
  receiver=new TestMessageReceiver(endpoint.getConnector(),service,endpoint);
  receiver.initialise();
  MuleMessage result=receiver.routeMessage(inMessage);
  assertMessageNotSent();
  assertNull(result);
  assertNotNull(responseRouterCollection.sensedEvent);
}
