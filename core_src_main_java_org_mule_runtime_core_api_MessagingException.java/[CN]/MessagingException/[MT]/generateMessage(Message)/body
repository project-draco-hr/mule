{
  StringBuilder buf=new StringBuilder(80);
  if (message != null) {
    buf.append(message.getMessage()).append(".");
  }
  if (muleMessage != null) {
    if (DefaultMuleConfiguration.isVerboseExceptions()) {
      Object payload=muleMessage.getPayload();
      if (payload == null) {
        payload=NullPayload.getInstance();
      }
      if (isConsumable(muleMessage.getPayload().getClass())) {
        addInfo(PAYLOAD_INFO_KEY,abbreviate(payload.toString(),1000));
      }
 else {
        addInfo(PAYLOAD_TYPE_INFO_KEY,muleMessage.getPayload().getClass().getName());
        try {
          addInfo(PAYLOAD_INFO_KEY,muleMessage.getMuleContext().getTransformationService().transform(muleMessage,DataType.STRING).getPayload());
        }
 catch (        Exception e) {
          addInfo(PAYLOAD_INFO_KEY,format("%s while getting payload: %s",e.getClass().getName(),e.getMessage()));
        }
      }
    }
  }
 else {
    buf.append("The current MuleMessage is null!");
    addInfo(PAYLOAD_INFO_KEY,NullPayload.getInstance().toString());
  }
  return buf.toString();
}
