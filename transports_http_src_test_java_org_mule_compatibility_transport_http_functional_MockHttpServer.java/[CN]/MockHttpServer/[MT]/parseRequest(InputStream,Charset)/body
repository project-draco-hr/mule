{
  try {
    String line=HttpParser.readLine(in,encoding.name());
    RequestLine requestLine=RequestLine.parseLine(line);
    return new HttpRequest(requestLine,HttpParser.parseHeaders(in,encoding.name()),in,encoding);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
