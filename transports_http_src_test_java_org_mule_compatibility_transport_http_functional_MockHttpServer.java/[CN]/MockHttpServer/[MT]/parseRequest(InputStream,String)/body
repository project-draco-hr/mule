{
  try {
    String line=HttpParser.readLine(in,encoding);
    RequestLine requestLine=RequestLine.parseLine(line);
    return new HttpRequest(requestLine,HttpParser.parseHeaders(in,encoding),in,encoding);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
