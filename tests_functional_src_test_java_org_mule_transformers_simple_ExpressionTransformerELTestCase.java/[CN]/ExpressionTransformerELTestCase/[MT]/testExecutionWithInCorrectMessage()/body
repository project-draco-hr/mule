{
  ExpressionTransformer transformer=(ExpressionTransformer)muleContext.getRegistry().lookupTransformer("testTransformer2");
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("foo","moo");
  MuleMessage message=new DefaultMuleMessage(new FruitBowl(new Apple(),new Banana()),props,muleContext);
  transformer.transform(message);
  fail("Not all headers present, the transform should have failed");
}
