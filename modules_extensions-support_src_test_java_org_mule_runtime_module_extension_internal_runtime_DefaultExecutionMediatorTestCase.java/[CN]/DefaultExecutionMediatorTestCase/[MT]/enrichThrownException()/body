{
  expectedException.expect(HeisenbergException.class);
  expectedException.expectMessage(ERROR);
  ExceptionEnricherFactory exceptionEnricherFactory=mock(ExceptionEnricherFactory.class);
  when(exceptionEnricherFactory.createEnricher()).thenReturn(exceptionEnricher);
  when(operationModel.getExceptionEnricherFactory()).thenReturn(Optional.of(exceptionEnricherFactory));
  new DefaultExecutionMediator(extensionModel,operationModel,new DefaultConnectionManager(muleContext)).execute(operationExceptionExecutor,operationContext);
}
