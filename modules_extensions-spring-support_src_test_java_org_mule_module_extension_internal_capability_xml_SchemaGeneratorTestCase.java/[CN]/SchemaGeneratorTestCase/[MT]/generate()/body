{
  String expectedSchema=IOUtils.getResourceAsString("heisenberg.xsd",getClass());
  Descriptor descriptor=new AnnotationsBasedDescriber(HeisenbergExtension.class).describe(createDescribingContext()).getRootDeclaration();
  ExtensionModel extensionModel=extensionFactory.createFrom(descriptor);
  XmlCapability capability=extensionModel.getCapabilities(XmlCapability.class).iterator().next();
  String schema=generator.generate(extensionModel,capability);
  System.out.println(schema);
  XMLUnit.setIgnoreWhitespace(true);
  assertThat(XMLUnit.compareXML(expectedSchema,schema).similar(),is(true));
}
