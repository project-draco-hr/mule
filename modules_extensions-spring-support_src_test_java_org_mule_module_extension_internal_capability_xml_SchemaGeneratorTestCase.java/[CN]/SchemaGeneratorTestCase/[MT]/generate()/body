{
  String expectedSchema=IOUtils.getResourceAsString("heisenberg.xsd",getClass());
  Descriptor descriptor=new AnnotationsBasedDescriber(HeisenbergExtension.class).describe().getRootDeclaration();
  Extension extension=extensionFactory.createFrom(descriptor);
  XmlCapability capability=extension.getCapabilities(XmlCapability.class).iterator().next();
  String schema=generator.generate(extension,capability);
  System.out.println(schema);
  XMLUnit.setIgnoreWhitespace(true);
  assertThat(XMLUnit.compareXML(expectedSchema,schema).similar(),is(true));
}
