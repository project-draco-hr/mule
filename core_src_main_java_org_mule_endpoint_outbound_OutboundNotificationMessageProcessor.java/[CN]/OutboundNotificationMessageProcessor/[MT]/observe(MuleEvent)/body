{
  AbstractConnector connector=(AbstractConnector)endpoint.getConnector();
  if (connector.isEnableMessageEvents()) {
    String component=null;
    if (event.getService() != null) {
      component=event.getService().getName();
    }
    int notificationAction;
    if (event.isSynchronous()) {
      notificationAction=EndpointMessageNotification.MESSAGE_SENT;
    }
 else {
      notificationAction=EndpointMessageNotification.MESSAGE_DISPATCHED;
    }
    connector.fireNotification(new EndpointMessageNotification(event.getMessage(),event.getEndpoint(),component,notificationAction));
  }
}
