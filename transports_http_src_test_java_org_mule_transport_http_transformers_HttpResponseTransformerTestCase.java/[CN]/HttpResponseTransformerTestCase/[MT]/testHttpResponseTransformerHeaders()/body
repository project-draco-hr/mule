{
  HttpResponseTransformer httpResponseTransformer=createHttpResponseTransformer();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("allow","GET, HEAD");
  properties.put("cacheControl","max-age=3600");
  properties.put("connection","close");
  properties.put("contentEncoding","gzip");
  properties.put("expires","Thu, 01 Dec 1994 16:00:00 GMT");
  properties.put("location","http://localhost:8080");
  properties.put("transferEncoding","chunked");
  Map<String,String> headers=new HashMap<String,String>();
  headers.put("Allow","#[header:allow]");
  headers.put("Cache-Control","#[header:cacheControl]");
  headers.put("Connection","#[header:connection]");
  headers.put("Content-Encoding","#[header:contentEncoding]");
  headers.put("Expires","#[header:expires]");
  headers.put("Location","#[header:location]");
  headers.put("Transfer-Encoding","#[header:transferEncoding]");
  httpResponseTransformer.setHeaders(headers);
  DefaultMuleMessage muleMessage=new DefaultMuleMessage(HTTP_BODY,properties,muleContext);
  HttpResponse httpResponse=(HttpResponse)httpResponseTransformer.transformMessage(muleMessage,"UTF-8");
  validateHeaders(httpResponse.getHeaders());
}
