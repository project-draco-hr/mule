{
  HttpResponseTransformer httpResponseTransformer=createHttpResponseTransformer();
  List<CookieWrapper> cookies=new ArrayList<CookieWrapper>();
  cookies.add(createCookie("userName","John_Galt","localhost","/","Thu, 15 Dec 2013 16:00:00 GMT","true","1"));
  cookies.add(createCookie("userId","1","localhost","/","Thu, 01 Dec 2013 16:00:00 GMT","true","1"));
  httpResponseTransformer.setCookies(cookies);
  DefaultMuleMessage muleMessage=new DefaultMuleMessage(HTTP_BODY,muleContext);
  HttpResponse httpResponse=(HttpResponse)httpResponseTransformer.transformMessage(muleMessage,"UTF-8");
  Map<String,String> responseCookies=getHeaderCookie(httpResponse.getHeaders());
  assertNotNull(responseCookies);
  assertEquals("userName=John_Galt; Version=1; Domain=localhost; Path=/; Secure; Expires=Sun, 15-Dec-2013 16:00:00 GMT",responseCookies.get("userName"));
  assertEquals("userId=1; Version=1; Domain=localhost; Path=/; Secure; Expires=Sun, 1-Dec-2013 16:00:00 GMT",responseCookies.get("userId"));
}
