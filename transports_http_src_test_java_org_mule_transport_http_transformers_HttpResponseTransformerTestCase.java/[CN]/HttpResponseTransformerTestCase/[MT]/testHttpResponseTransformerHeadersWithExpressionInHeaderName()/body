{
  HttpResponseTransformer httpResponseTransformer=createHttpResponseTransformer();
  Map<String,String> headers=new HashMap<String,String>();
  headers.put(HEADER_LOCATION,"http://localhost:9090");
  httpResponseTransformer.setHeaders(headers);
  DefaultMuleMessage muleMessage=new DefaultMuleMessage(HTTP_BODY,muleContext);
  when(mockExpressionManager.isExpression(HEADER_LOCATION)).thenReturn(true);
  when(mockExpressionManager.evaluate(HEADER_LOCATION,muleMessage)).thenReturn("http://localhost:9090");
  HttpResponse httpResponse=(HttpResponse)httpResponseTransformer.transformMessage(muleMessage,"UTF-8");
  validateHeader(httpResponse.getHeaders(),"Location","http://localhost:9090");
}
