{
  customParameters=new ImmutableMap.Builder().putAll(customParameters).put(OAuthConstants.ACCESS_TOKEN_PARAMETER,accessToken).put(OAuthConstants.EXPIRES_IN_PARAMETER,EXPIRES_IN).build();
  final ImmutableMap.Builder bodyParametersMapBuilder=new ImmutableMap.Builder();
  for (  Object customParameterName : customParameters.keySet()) {
    bodyParametersMapBuilder.put(customParameterName,customParameters.get(customParameterName));
  }
  final String body=HttpParser.encodeString(UTF_8,bodyParametersMapBuilder.build());
  wireMockRule.stubFor(post(urlEqualTo(TOKEN_PATH)).willReturn(aResponse().withBody(body).withHeader(HttpHeaders.Names.CONTENT_TYPE,HttpHeaders.Values.APPLICATION_X_WWW_FORM_URLENCODED.toString())));
}
