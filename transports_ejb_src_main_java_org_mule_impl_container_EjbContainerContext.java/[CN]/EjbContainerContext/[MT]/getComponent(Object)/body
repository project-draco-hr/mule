{
  Object homeObject=null;
  if (key == null) {
    throw new ObjectNotFoundException("null");
  }
  try {
    homeObject=context.lookup(key.toString());
  }
 catch (  NamingException e) {
    throw new ObjectNotFoundException(key.toString(),e);
  }
  if (homeObject == null) {
    throw new ObjectNotFoundException(key.toString());
  }
 else   if (homeObject instanceof EJBHome) {
    Method method=ClassUtils.getMethod(homeObject.getClass(),"create",null);
    if (method == null) {
      throw new ObjectNotFoundException(key.toString(),new IllegalArgumentException(EjbMessages.ejbObjectMissingCreate(key).toString()));
    }
    try {
      return method.invoke(homeObject,ClassUtils.NO_ARGS);
    }
 catch (    Exception e) {
      throw new ObjectNotFoundException(key.toString(),e);
    }
  }
 else {
    throw new ObjectNotFoundException(key.toString(),new IllegalArgumentException(EjbMessages.ejbKeyRefNotValid(key).toString()));
  }
}
