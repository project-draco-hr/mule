{
  IdempotentInMemoryMessageIdStore store=new IdempotentInMemoryMessageIdStore("bounded",3,-1,1);
  assertTrue(store.storeId("1"));
  assertTrue(store.storeId("2"));
  assertTrue(store.storeId("3"));
  assertTrue(store.containsId("1"));
  assertTrue(store.containsId("2"));
  assertTrue(store.containsId("3"));
  Thread.sleep(3000);
  assertTrue(store.containsId("1"));
  assertTrue(store.containsId("2"));
  assertTrue(store.containsId("3"));
  assertTrue(store.storeId("4"));
  assertTrue(store.containsId("1"));
  store.expire();
  assertFalse(store.containsId("1"));
  assertTrue(store.containsId("2"));
  assertTrue(store.containsId("3"));
  assertTrue(store.containsId("4"));
  assertTrue(store.storeId("5"));
  store.expire();
  assertFalse(store.containsId("2"));
  assertTrue(store.containsId("3"));
  assertTrue(store.containsId("4"));
  assertTrue(store.containsId("5"));
  assertTrue(store.storeId("6"));
  assertTrue(store.storeId("7"));
  assertTrue(store.storeId("8"));
  assertTrue(store.storeId("9"));
  store.expire();
  assertTrue(store.containsId("7"));
  assertTrue(store.containsId("8"));
  assertTrue(store.containsId("9"));
  assertFalse(store.containsId("3"));
  assertFalse(store.containsId("4"));
  assertFalse(store.containsId("5"));
  assertFalse(store.containsId("6"));
}
