{
  Flow flowConstruct=(Flow)muleContext.getRegistry().lookupFlowConstruct("bulkUpdateMetadata");
  List<MessageProcessor> messageProcessors=flowConstruct.getMessageProcessors();
  BulkExecuteMessageProcessor bulkExecuteMessageProcessor=(BulkExecuteMessageProcessor)messageProcessors.get(0);
  Result<MetaData> outputMetaData=bulkExecuteMessageProcessor.getOutputMetaData(null);
  DefaultListMetaDataModel listMetaDataModel=(DefaultListMetaDataModel)outputMetaData.get().getPayload();
  SimpleMetaDataModel elementModel=(SimpleMetaDataModel)listMetaDataModel.getElementModel();
  assertThat(elementModel.getDataType(),equalTo(DataType.DOUBLE));
}
