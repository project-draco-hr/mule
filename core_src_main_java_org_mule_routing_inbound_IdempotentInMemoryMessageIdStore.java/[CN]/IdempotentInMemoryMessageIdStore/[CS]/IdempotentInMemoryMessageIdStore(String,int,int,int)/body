{
  super();
  this.store=new ConcurrentSkipListMap();
  this.maxEntries=(maxEntries >= 0 ? maxEntries : Integer.MAX_VALUE);
  this.entryTTL=entryTTL;
  if (expirationInterval <= 0) {
    throw new IllegalArgumentException(CoreMessages.propertyHasInvalidValue("expirationInterval",new Integer(expirationInterval)).toString());
  }
  this.expirationInterval=expirationInterval;
  this.scheduler=new ScheduledThreadPoolExecutor(1);
  scheduler.setThreadFactory(new DaemonThreadFactory(name + "-IdempotentMessageIdStore"));
  scheduler.scheduleWithFixedDelay(new Expirer(),this.expirationInterval,this.expirationInterval,TimeUnit.SECONDS);
}
