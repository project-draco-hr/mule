{
  if (Collection.class.isAssignableFrom(m.getParameterTypes()[paramIndex])) {
    Class<? extends Collection> cType=(Class<? extends Collection>)m.getParameterTypes()[paramIndex];
    Class itemType=GenericsUtils.getCollectionParameterType(new MethodParameter(m,paramIndex));
    if (itemType != null) {
      return new CollectionDataType(cType,itemType,mimeType);
    }
 else {
      return new CollectionDataType(cType,mimeType);
    }
  }
 else {
    return new SimpleDataType(m.getParameterTypes()[paramIndex],mimeType);
  }
}
