{
  if (Collection.class.isAssignableFrom(type)) {
    Class<? extends Collection<?>> cType=(Class<? extends Collection<?>>)type;
    Class itemType=GenericsUtils.getCollectionType(cType);
    if (itemType == null) {
      return new CollectionDataType(cType,mimeType);
    }
 else {
      return new CollectionDataType(cType,itemType,mimeType);
    }
  }
  if (Proxy.isProxyClass(type)) {
    return new SimpleDataType(type.getInterfaces()[0],mimeType);
  }
  return new SimpleDataType(type,mimeType);
}
