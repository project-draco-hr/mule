{
  WriterMessageAdapter response=new WriterMessageAdapter(new StringWriter(4096));
  String method=context.getMessage().getStringProperty(HttpConnector.HTTP_METHOD_PROPERTY,HttpConstants.METHOD_POST);
  if (HttpConstants.METHOD_GET.equalsIgnoreCase(method)) {
    doGet(context,response);
  }
 else {
    doPost(context,response);
  }
  response.getWriter().close();
  return new DefaultMuleMessage(response,context.getMuleContext());
}
