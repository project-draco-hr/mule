{
  AxisStringWriter response=new AxisStringWriter();
  String method=context.getMessage().getStringProperty(HttpConnector.HTTP_METHOD_PROPERTY,HttpConstants.METHOD_POST);
  if (HttpConstants.METHOD_GET.equalsIgnoreCase(method)) {
    doGet(context,response);
  }
 else {
    doPost(context,response);
  }
  response.close();
  String payload=response.getWriter().toString();
  Map<String,Object> properties=response.getProperties();
  return new DefaultMuleMessage(payload,properties,context.getMuleContext());
}
