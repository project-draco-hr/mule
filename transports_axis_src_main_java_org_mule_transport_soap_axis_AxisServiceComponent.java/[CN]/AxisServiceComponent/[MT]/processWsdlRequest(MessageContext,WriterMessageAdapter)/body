{
  AxisEngine engine=getAxis();
  try {
    engine.generateWSDL(msgContext);
    Document doc=(Document)msgContext.getProperty("WSDL");
    if (doc != null) {
      response.setProperty(HttpConstants.HEADER_CONTENT_TYPE,"text/xml");
      XMLUtils.DocumentToWriter(doc,response.getWriter());
    }
 else {
      if (logger.isDebugEnabled()) {
        logger.debug("processWsdlRequest: failed to create WSDL");
      }
      reportNoWSDL(response,"noWSDL02",null);
    }
  }
 catch (  AxisFault axisFault) {
    if (axisFault.getFaultCode().equals(Constants.QNAME_NO_SERVICE_FAULT_CODE)) {
      processAxisFault(axisFault);
      response.setProperty(HttpConnector.HTTP_STATUS_PROPERTY,"404");
      reportNoWSDL(response,"noWSDL01",axisFault);
    }
 else {
      throw axisFault;
    }
  }
}
