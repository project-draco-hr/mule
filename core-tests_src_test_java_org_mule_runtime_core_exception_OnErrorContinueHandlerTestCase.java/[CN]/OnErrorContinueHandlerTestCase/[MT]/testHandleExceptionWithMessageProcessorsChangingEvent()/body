{
  MuleEvent lastEventCreated=MuleEvent.builder(context).message(muleMessage).flow(flow).build();
  onErrorContinueHandler.setMessageProcessors(asList(createChagingEventMessageProcessor(MuleEvent.builder(context).message(muleMessage).flow(flow).build()),createChagingEventMessageProcessor(lastEventCreated)));
  onErrorContinueHandler.initialise();
  MuleEvent exceptionHandlingResult=onErrorContinueHandler.handleException(mockException,muleEvent);
  assertThat(exceptionHandlingResult.getCorrelationId(),is(lastEventCreated.getCorrelationId()));
}
