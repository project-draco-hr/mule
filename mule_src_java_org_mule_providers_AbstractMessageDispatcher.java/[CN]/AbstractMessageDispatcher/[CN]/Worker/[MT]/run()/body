{
  try {
    RequestContext.setEvent(event);
    doDispatch(event);
    if (connector.isEnableMessageEvents()) {
      connector.fireEvent(new MessageEvent(event.getMessage(),event.getEndpoint(),event.getComponent().getDescriptor().getName(),MessageEvent.MESSAGE_DISPATCHED));
    }
  }
 catch (  Exception e) {
    getConnector().handleException(e);
  }
}
