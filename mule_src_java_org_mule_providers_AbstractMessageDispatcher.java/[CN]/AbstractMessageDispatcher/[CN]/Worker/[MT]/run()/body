{
  try {
    RequestContext.setEvent(event);
    doDispatch(event);
    if (connector.isEnableMessageEvents()) {
      connector.fireNotification(new MessageNotification(event.getMessage(),event.getEndpoint(),event.getComponent().getDescriptor().getName(),MessageNotification.MESSAGE_DISPATCHED));
    }
  }
 catch (  Exception e) {
    getConnector().handleException(e);
  }
}
