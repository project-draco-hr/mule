{
  final Result<MetaData> expectedMetaData=mock(Result.class);
  final MetaDataKey metaDataKey=mock(MetaDataKey.class);
  when(dbConfig.getMetaData(metaDataKey)).thenReturn(expectedMetaData);
  when(dbConfigResolver.resolve(null)).thenReturn(dbConfig);
  final Result<MetaData> metaData=configuredDbConfigResolver.getMetaData(metaDataKey);
  assertThat(metaData,is(expectedMetaData));
}
