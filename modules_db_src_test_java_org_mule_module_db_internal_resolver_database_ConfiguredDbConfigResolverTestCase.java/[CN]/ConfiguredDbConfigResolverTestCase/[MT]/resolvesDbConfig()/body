{
  MuleEvent muleEvent=mock(MuleEvent.class);
  DbConfig dbConfig=mock(DbConfig.class);
  DbConfigResolver dbConfigResolver=mock(DbConfigResolver.class);
  when(dbConfigResolver.resolve(muleEvent)).thenReturn(dbConfig);
  ConfiguredDbConfigResolver configuredDbConfigResolver=new ConfiguredDbConfigResolver(dbConfigResolver);
  DbConfig resolvedDbConfig=configuredDbConfigResolver.resolve(muleEvent);
  assertThat(resolvedDbConfig,is(dbConfig));
}
