{
  if (endpoint == null)   throw new IllegalArgumentException("Provider cannot be null");
  if (endpoint.getFilter() != null && !allowFilter(endpoint.getFilter())) {
    throw new UnsupportedOperationException("Message filter: " + endpoint.getFilter().getClass().getName() + " is not supported by this connector: "+ connector.getClass().getName());
  }
  this.endpoint=endpoint;
}
