{
  OutboundPassThroughRouter router=new OutboundPassThroughRouter();
  router.addEndpoint(createOutboundEndpoint());
  descriptor.getOutboundRouter().addRouter(router);
  descriptor.getInboundRouter().addEndpoint(createInboundEndpoint());
  HashMap props=new HashMap();
  props.put("eventCallback",callback);
  descriptor.setProperties(props);
  managementContext.getRegistry().registerConnector(connector);
  UMOComponent component=managementContext.getRegistry().lookupModel("main").registerComponent(descriptor);
  return component;
}
