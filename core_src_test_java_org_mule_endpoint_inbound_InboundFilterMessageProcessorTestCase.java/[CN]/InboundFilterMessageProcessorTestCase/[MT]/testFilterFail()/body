{
  InboundEndpoint endpoint=createTestInboundEndpoint(new EqualsFilter(null),null,true,null);
  InterceptingMessageProcessor mp=new InboundFilterMessageProcessor();
  TestListener listner=new TestListener();
  mp.setListener(listner);
  MuleEvent inEvent=createTestInboundEvent(endpoint,true);
  try {
    MuleEvent resultEvent=mp.process(inEvent);
    fail("Filter should have thrown a FilterException");
  }
 catch (  FilterException e) {
  }
  assertNull(listner.sensedEvent);
}
