{
  final String domain=descriptor.getDomain();
  ClassLoader parent=domainClassLoaderRepository.getDomainClassLoader(domain).getClassLoader();
  final Set<PluginDescriptor> plugins=descriptor.getPlugins();
  if (!plugins.isEmpty()) {
    parent=new MulePluginsClassLoader(parent,plugins);
  }
  return new MuleApplicationClassLoader(descriptor.getAppName(),parent,descriptor.getLoaderOverride());
}
