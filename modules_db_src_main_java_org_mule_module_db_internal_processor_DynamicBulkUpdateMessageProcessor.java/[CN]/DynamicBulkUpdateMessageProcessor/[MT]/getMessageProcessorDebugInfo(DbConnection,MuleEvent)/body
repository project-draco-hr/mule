{
  MuleEvent eventToUse=resolveSource(muleEvent);
  final List<FieldDebugInfo> fields=new ArrayList<>();
  BulkQuery bulkQuery;
  try {
    bulkQuery=resolveBulkQuery(connection,eventToUse);
  }
 catch (  QueryResolutionException e) {
    fields.add(createFieldDebugInfo(QUERIES_DEBUG_FIELD,List.class,e));
    return fields;
  }
  final List<FieldDebugInfo> queries=new ArrayList<>();
  int queryIndex=1;
  for (  QueryTemplate queryTemplate : bulkQuery.getQueryTemplates()) {
    final String name=QUERY_DEBUG_FIELD + queryIndex++;
    final FieldDebugInfo queryFieldDebugInfo=createQueryFieldDebugInfo(name,queryTemplate);
    queries.add(queryFieldDebugInfo);
  }
  fields.add(createFieldDebugInfo(QUERIES_DEBUG_FIELD,List.class,queries));
  return fields;
}
