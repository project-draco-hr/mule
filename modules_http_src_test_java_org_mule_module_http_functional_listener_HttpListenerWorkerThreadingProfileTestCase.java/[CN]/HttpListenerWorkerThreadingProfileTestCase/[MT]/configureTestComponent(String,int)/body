{
  getFunctionalTestComponent(flowName).setEventCallback(new EventCallback(){
    @Override public void eventReceived(    MuleEventContext context,    Object component) throws Exception {
      try {
        maxActiveNumberOfRequestExecutedLatch.countDown();
        numberOfRequest.incrementAndGet();
        if (numberOfRequest.get() <= maxThreadsActive) {
          waitingLatch.await();
        }
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
    }
  }
);
}
