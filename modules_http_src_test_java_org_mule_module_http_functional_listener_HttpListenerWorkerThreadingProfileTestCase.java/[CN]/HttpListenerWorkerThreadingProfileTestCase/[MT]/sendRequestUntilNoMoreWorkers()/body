{
  for (int i=0; i < Integer.valueOf(maxThreadsActive.getValue()); i++) {
    executeRequestInAnotherThread();
  }
  if (!maxActiveNumberOfRequestExecutedLatch.await(RECEIVE_TIMEOUT,TimeUnit.MILLISECONDS)) {
    fail("message processor wasn't executed the number of times required.");
  }
}
