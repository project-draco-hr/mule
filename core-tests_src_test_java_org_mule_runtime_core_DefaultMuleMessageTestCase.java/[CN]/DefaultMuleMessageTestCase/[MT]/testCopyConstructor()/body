{
  DefaultMuleMessage original=(DefaultMuleMessage)createMuleMessage();
  Map<String,Serializable> properties=createMessageProperties();
  original.addInboundProperties(properties);
  assertInboundAndOutboundMessageProperties(original);
  DefaultMuleMessage copy=new DefaultMuleMessage(original);
  assertInboundAndOutboundMessageProperties(copy);
  assertEquals(muleContext.getConfiguration().getDefaultEncoding(),copy.getEncoding());
  original.setOutboundProperty("FOO","OTHER");
  assertNull(copy.getOutboundProperty("FOO"));
  original.setInboundProperty("FOO","OTHER");
  assertNull(copy.getInboundProperty("FOO"));
  copy.setOutboundProperty("ABC","OTHER");
  assertNull(original.getOutboundProperty("ABC"));
  copy.setInboundProperty("ABC","OTHER");
  assertNull(original.getInboundProperty("ABC"));
}
