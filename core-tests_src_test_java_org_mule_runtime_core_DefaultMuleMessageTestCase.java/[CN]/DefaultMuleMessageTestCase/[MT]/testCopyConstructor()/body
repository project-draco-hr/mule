{
  MuleMessage original=MuleMessage.builder(createMuleMessage()).inboundProperties(createMessageProperties()).build();
  assertInboundAndOutboundMessageProperties(original);
  MuleMessage copy=MuleMessage.builder(original).build();
  assertInboundAndOutboundMessageProperties(copy);
  assertThat(copy.getAttributes(),is(testAttributes));
  original=MuleMessage.builder(original).addOutboundProperty("FOO","OTHER").build();
  assertThat(copy.getOutboundProperty("FOO"),is(nullValue()));
  original=MuleMessage.builder(original).addInboundProperty("FOO","OTHER").build();
  assertThat(copy.getInboundProperty("FOO"),is(nullValue()));
  copy=MuleMessage.builder(copy).addOutboundProperty("ABC","OTHER").build();
  assertThat(original.getOutboundProperty("ABC"),is(nullValue()));
  copy=MuleMessage.builder(copy).addInboundProperty("ABC","OTHER").build();
  assertThat(original.getInboundProperty("ABC"),is(nullValue()));
}
