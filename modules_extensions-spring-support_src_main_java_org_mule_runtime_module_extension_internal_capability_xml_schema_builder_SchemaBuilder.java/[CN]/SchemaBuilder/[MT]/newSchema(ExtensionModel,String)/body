{
  SchemaBuilder builder=new SchemaBuilder();
  builder.schema=new Schema();
  builder.schema.setTargetNamespace(targetNamespace);
  builder.schema.setElementFormDefault(FormChoice.QUALIFIED);
  builder.schema.setAttributeFormDefault(FormChoice.UNQUALIFIED);
  builder.importXmlNamespace().importSpringFrameworkNamespace().importMuleNamespace().importMuleExtensionNamespace();
  Optional<SubTypesModelProperty> subTypesProperty=extensionModel.getModelProperty(SubTypesModelProperty.class);
  builder.withTypeMapping(subTypesProperty.isPresent() ? subTypesProperty.get().getSubTypesMapping() : Collections.emptyMap());
  return builder;
}
