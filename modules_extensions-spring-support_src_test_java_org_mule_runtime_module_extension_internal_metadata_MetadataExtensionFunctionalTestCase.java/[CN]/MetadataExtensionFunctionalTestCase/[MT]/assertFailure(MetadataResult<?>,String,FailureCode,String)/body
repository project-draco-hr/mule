{
  assertThat(result.isSuccess(),is(false));
  Optional<MetadataFailure> metadataFailure=result.getFailure();
  assertThat(metadataFailure.get().getMessage(),metadataFailure.get().getFailureCode(),is(failureCode));
  if (!StringUtils.isBlank(msgContains)) {
    assertThat(metadataFailure.get().getMessage(),containsString(msgContains));
  }
  if (!StringUtils.isBlank(traceContains)) {
    assertThat(metadataFailure.get().getReason(),containsString(traceContains));
  }
}
