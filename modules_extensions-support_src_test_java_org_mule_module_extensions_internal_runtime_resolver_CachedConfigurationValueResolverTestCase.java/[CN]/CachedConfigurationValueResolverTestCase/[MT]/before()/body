{
  when(configuration.getInstantiator().getObjectType()).thenReturn(MODULE_CLASS);
  when(configuration.getInstantiator().newInstance()).thenAnswer(new Answer<Object>(){
    @Override public Object answer(    InvocationOnMock invocation) throws Throwable {
      return MODULE_CLASS.newInstance();
    }
  }
);
  when(configuration.getCapabilities(any(Class.class))).thenReturn(null);
  when(resolverSet.resolve(event)).thenReturn(resolverSetResult);
  configurationObjectBuilder=new ConfigurationObjectBuilder(configuration,resolverSet);
  resolver=new CachedConfigurationValueResolver(configurationObjectBuilder,resolverSet,EXPIRATION_INTERVAL,EXPIRATION_TIME_UNIT);
}
