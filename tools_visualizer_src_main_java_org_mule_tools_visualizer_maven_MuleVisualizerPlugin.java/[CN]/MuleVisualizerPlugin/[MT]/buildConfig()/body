{
  GraphConfig config=new GraphConfig();
  config.loadProperties(getConfig());
  config.setWorkingDirectory(getWorkingdir());
  config.setFiles(getFiles());
  config.loadTemplateProps(getTemplateprops());
  config.setOutputDirectory(getOutputdir());
  config.setOutputFilename(getOutputfile());
  config.setCaption(getCaption());
  config.setExecuteCommand(getExec());
  config.setKeepDotFiles(isKeepdotfiles());
  config.setCombineFiles(isCombinefiles());
  config.setShowAll(isShowall());
  if (!config.isShowAll()) {
    config.setShowAgents(isShowagents());
    config.setShowConfig(isShowconfig());
    config.setShowConnectors(isShowconnectors());
    config.setShowModels(isShowmodels());
    config.setShowTransformers(isShowtransformers());
  }
  config.setMappingsFile(getMappings());
  config.setUrlsFile(getUrls());
  return config;
}
