{
  if (src instanceof MuleMessage) {
    return ((MuleMessage)src).getDataType().getMediaType().getCharset().orElse(getDefaultEncoding());
  }
 else {
    return getDefaultEncoding();
  }
}
