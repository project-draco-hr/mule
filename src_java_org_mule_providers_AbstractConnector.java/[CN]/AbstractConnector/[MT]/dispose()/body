{
  disposed.set(true);
  if (logger.isInfoEnabled()) {
    logger.info("Disposing Connector: " + getClass().getName());
    logger.debug("Disposing Receivers");
  }
  if (receivers != null) {
    Map.Entry entry;
    for (Iterator iterator=receivers.entrySet().iterator(); iterator.hasNext(); ) {
      entry=(Map.Entry)iterator.next();
      try {
        destroyReceiver(((UMOMessageReceiver)entry.getValue()),null);
      }
 catch (      Exception e) {
        logger.error("Failed to destroy receiver: " + e.getMessage(),e);
      }
      receivers.remove(entry.getKey());
    }
    logger.debug("Receivers Disposed");
  }
  if (dispatchers != null) {
    logger.debug("Disposing Dispatchers");
    for (Iterator iterator=dispatchers.values().iterator(); iterator.hasNext(); ) {
      UMOMessageDispatcher umoMessageDispatcher=(UMOMessageDispatcher)iterator.next();
      umoMessageDispatcher.dispose();
    }
    dispatchers.clear();
    logger.debug("Dispatchers Disposed");
  }
  doDispose();
  if (logger.isInfoEnabled()) {
    logger.info("Connector " + getClass().getName() + " has been disposed.");
  }
  receivers=null;
  dispatchers=null;
}
