{
  logger.info("Mule server shutting down due to normal shutdown request");
  List msgs=new ArrayList();
  msgs.add(CoreMessages.normalShutdown());
  UMOManagementContext context=null;
  RegistryFacade registry=RegistryContext.getRegistry();
  if (registry != null) {
    context=registry.getManagementContext();
  }
  if (context != null) {
    msgs.add(CoreMessages.serverStartedAt(context.getStartDate()));
  }
  msgs.add(CoreMessages.serverShutdownAt(new Date()));
  String shutdownMessage=StringMessageUtils.getBoilerPlate(msgs,'*',80);
  if (logger.isInfoEnabled()) {
    logger.info(shutdownMessage);
  }
 else {
    System.out.println(shutdownMessage);
  }
}
