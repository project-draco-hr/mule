{
  logger.info("Mule server shutting down due to normal shutdown request");
  List msgs=new ArrayList();
  msgs.add(new Message(Messages.NORMAL_SHUTDOWN).getMessage());
  UMOManagementContext context=null;
  RegistryFacade registry=RegistryContext.getRegistry();
  if (registry != null) {
    context=registry.getManagementContext();
  }
  if (context != null) {
    msgs.add(new Message(Messages.SERVER_STARTED_AT_X,new Date(context.getStartDate())));
  }
  msgs.add(new Message(Messages.SERVER_SHUTDOWN_AT_X,new Date().toString()).getMessage());
  String shutdownMessage=StringMessageUtils.getBoilerPlate(msgs,'*',80);
  if (logger.isInfoEnabled()) {
    logger.info(shutdownMessage);
  }
 else {
    System.out.println(shutdownMessage);
  }
}
