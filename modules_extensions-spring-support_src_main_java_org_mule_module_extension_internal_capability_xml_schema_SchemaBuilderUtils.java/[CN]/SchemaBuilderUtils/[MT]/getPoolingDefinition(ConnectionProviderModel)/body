{
  ConnectionProvider connectionProvider=connectionProviderModel.getConnectionProviderFactory().newInstance();
  ValueHolder<PoolingSupport> value=new ValueHolder<>();
  connectionProvider.getHandlingStrategy(new ConnectionHandlingStrategyFactory(){
    @Override public ConnectionHandlingStrategy supportsPooling(    PoolingProfile defaultPoolingProfile){
      value.set(PoolingSupport.SUPPORTED);
      return null;
    }
    @Override public ConnectionHandlingStrategy requiresPooling(    PoolingProfile defaultPoolingProfile){
      value.set(PoolingSupport.REQUIRED);
      return null;
    }
    @Override public ConnectionHandlingStrategy cached(){
      return none();
    }
    @Override public ConnectionHandlingStrategy none(){
      value.set(PoolingSupport.NOT_SUPPORTED);
      return null;
    }
  }
);
  return value.get();
}
