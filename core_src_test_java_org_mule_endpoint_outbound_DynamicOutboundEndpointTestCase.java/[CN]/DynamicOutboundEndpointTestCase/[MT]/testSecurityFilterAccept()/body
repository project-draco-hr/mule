{
  OutboundEndpoint endpoint=createOutboundEndpoint(null,new TestSecurityFilter(true),null,null,MessageExchangePattern.REQUEST_RESPONSE,null);
  testOutboundEvent=createTestOutboundEvent();
  MuleEvent result=endpoint.process(testOutboundEvent);
  assertEventSent();
  assertMessageSentEqual(MyMessageDispatcherFactory.dispatcher.sensedSendEvent);
  assertNotSame(responseMessage,result.getMessage());
  assertMessageEqualEncodingPropertyAdded(responseMessage,result.getMessage());
}
