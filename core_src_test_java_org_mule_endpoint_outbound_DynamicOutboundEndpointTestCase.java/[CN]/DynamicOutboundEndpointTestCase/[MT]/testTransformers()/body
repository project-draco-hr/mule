{
  OutboundEndpoint endpoint=createOutboundEndpoint(null,null,new OutboundAppendTransformer(),new ResponseAppendTransformer(),MessageExchangePattern.REQUEST_RESPONSE,null);
  assertTrue(endpoint instanceof DynamicOutboundEndpoint);
  testOutboundEvent=createTestOutboundEvent();
  endpoint.process(testOutboundEvent);
  setUpFakeDispatcher(endpoint);
  MuleEvent result=endpoint.process(testOutboundEvent);
  assertMessageSent(true);
  assertEquals(TEST_MESSAGE + OutboundAppendTransformer.APPEND_STRING,dispacher.sensedSendEvent.getMessageAsString());
  assertNotNull(result);
  assertEquals(RESPONSE_MESSAGE + ResponseAppendTransformer.APPEND_STRING,result.getMessageAsString());
}
