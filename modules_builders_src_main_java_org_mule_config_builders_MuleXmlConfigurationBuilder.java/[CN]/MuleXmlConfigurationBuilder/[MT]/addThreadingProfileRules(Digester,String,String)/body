{
  digester.addRule(path + "/threading-profile",new Rule(){
    public void begin(    String s,    String s1,    Attributes attributes) throws Exception {
      MuleConfiguration cfg=MuleManager.getConfiguration();
      if ("component".equals(type)) {
        digester.push(cfg.getDefaultComponentThreadingProfile());
      }
 else       if ("messageReceiver".equals(type)) {
        digester.push(cfg.getDefaultComponentThreadingProfile());
      }
 else       if ("messageDispatcher".equals(type)) {
        digester.push(cfg.getDefaultComponentThreadingProfile());
      }
 else {
        digester.push(cfg.getDefaultThreadingProfile());
      }
    }
    public void end(    String s,    String s1) throws Exception {
      digester.pop();
    }
  }
);
  SetPropertiesRule threadingRule=new SetPropertiesRule();
  threadingRule.addAlias("setPoolExhaustedAction","setPoolExhaustedActionString");
  digester.addRule(path + "/threading-profile",threadingRule);
  digester.addSetNext(path + "/threading-profile","setThreadingProfile");
}
