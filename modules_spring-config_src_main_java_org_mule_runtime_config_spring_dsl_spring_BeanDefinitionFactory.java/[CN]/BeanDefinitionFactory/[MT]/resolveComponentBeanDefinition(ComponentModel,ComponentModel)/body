{
  Optional<ComponentBuildingDefinition> buildingDefinitionOptional=componentBuildingDefinitionRegistry.getBuildingDefinition(componentModel.getIdentifier());
  if (buildingDefinitionOptional.isPresent() || customBuildersComponentIdentifiers.contains(componentModel.getIdentifier())) {
    this.componentModelProcessor.processRequest(new CreateBeanDefinitionRequest(parentComponentModel,componentModel,buildingDefinitionOptional.orElse(null)));
  }
 else {
    boolean isWrapperComponent=isWrapperComponent(componentModel.getIdentifier(),of(parentComponentModel.getIdentifier()));
    if (!isWrapperComponent) {
      throw new MuleRuntimeException(createStaticMessage(format("No component building definition for element %s. It may be that there's a dependency " + "missing to the project that handle that extension.",componentModel.getIdentifier())));
    }
    processComponentWrapper(componentModel);
  }
}
