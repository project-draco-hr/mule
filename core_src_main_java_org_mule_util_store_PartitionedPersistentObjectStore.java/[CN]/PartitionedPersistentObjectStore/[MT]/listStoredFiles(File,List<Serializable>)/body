{
  File[] files=directory.listFiles();
  if (files == null) {
    return;
  }
  Arrays.sort(files);
  for (int i=0; i < files.length; i++) {
    if (files[i].isDirectory()) {
      listStoredFiles(files[i],keys);
    }
 else     if (files[i].getName().endsWith(FILE_EXTENSION)) {
      String id=files[i].getCanonicalPath();
      int beginIndex=storeDirectory.getCanonicalPath().length() + 1;
      int length=id.length() - FILE_EXTENSION.length();
      id=id.substring(beginIndex,length);
      String partition=id.substring(0,id.indexOf(File.separator));
      id=id.substring(partition.length() + 1);
      keys.add(id);
    }
  }
}
