{
  EndpointBuilder builder=new EndpointURIEndpointBuilder("test://address",muleContext);
  EndpointFactory endpointFactory=new DefaultEndpointFactory();
  endpointFactory.setMuleContext(muleContext);
  try {
    ImmutableEndpoint ep=endpointFactory.getInboundEndpoint(builder);
    assertEquals(InboundEndpoint.class,ep.getClass());
    assertEquals(ep.getEndpointURI().getUri().toString(),"test://address");
    assertTrue(ep.isInbound());
  }
 catch (  Exception e) {
    fail("Unexpected exception: " + e.getMessage());
  }
}
