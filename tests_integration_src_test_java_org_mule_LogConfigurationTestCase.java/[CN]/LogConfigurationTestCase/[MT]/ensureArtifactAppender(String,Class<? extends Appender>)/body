{
  withAppClassLoader(APP_NAME,new Callable<Void>(){
    @Override public Void call() throws Exception {
      Logger logger=getRootLoggerForApp(APP_NAME);
      assertThat(Level.WARN,equalTo(logger.getLevel()));
      assertThat(true,equalTo(loggerHasAppender(APP_NAME,logger,appenderName)));
      assertThat(1,equalTo(appendersCount(APP_NAME)));
      assertThat(1,equalTo(selectByClass(APP_NAME,appenderClass).size()));
      assertThat(appenderName,equalTo(selectByClass(APP_NAME,appenderClass).get(0).getName()));
      return null;
    }
  }
);
}
