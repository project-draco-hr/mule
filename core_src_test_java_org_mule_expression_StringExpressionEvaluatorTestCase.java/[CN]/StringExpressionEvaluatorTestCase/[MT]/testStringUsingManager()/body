{
  MuleMessage message=new DefaultMuleMessage(new Apple(),props);
  Object o=muleContext.getExpressionManager().evaluate("#[string:payload is #[function:shortPayloadClass] and has #[headers:count] headers]",message);
  assertNotNull(o);
  assertEquals("payload is Apple and has 3 headers",o.toString());
  o=muleContext.getExpressionManager().evaluate("#[string:literal string]",message);
  assertNotNull(o);
  assertEquals("literal string",o.toString());
}
