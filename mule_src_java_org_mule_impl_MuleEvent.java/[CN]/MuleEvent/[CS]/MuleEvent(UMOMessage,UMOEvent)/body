{
  super(message.getPayload());
  this.message=message;
  this.id=rewriteEvent.getId();
  this.session=rewriteEvent.getSession();
  ((MuleSession)session).setComponent(rewriteEvent.getComponent());
  this.endpoint=rewriteEvent.getEndpoint();
  this.synchronous=rewriteEvent.isSynchronous();
  this.timeout=rewriteEvent.getTimeout();
  this.outputStream=(ResponseOutputStream)rewriteEvent.getOutputStream();
  if (rewriteEvent instanceof MuleEvent) {
    this.transformedMessage=((MuleEvent)rewriteEvent).getCachedMessage();
  }
  if (endpoint.getProperties() != null) {
    properties.putAll(endpoint.getProperties());
  }
  Map prevProps=rewriteEvent.getProperties();
  if (prevProps != null)   properties.putAll(prevProps);
  properties.putAll(message.getProperties());
}
