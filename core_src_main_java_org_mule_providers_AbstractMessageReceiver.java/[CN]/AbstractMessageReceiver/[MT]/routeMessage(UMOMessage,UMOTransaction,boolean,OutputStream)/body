{
  if (connector.isEnableMessageEvents()) {
    MuleManager.getInstance().fireNotification(new MessageNotification(message,endpoint,component.getDescriptor().getName(),MessageNotification.MESSAGE_RECEIVED));
  }
  if (logger.isDebugEnabled()) {
    logger.debug("Message Received from: " + endpoint.getEndpointURI());
  }
  if (logger.isTraceEnabled()) {
    try {
      logger.trace("Message Payload: \n" + StringMessageUtils.truncate(StringMessageUtils.toString(message.getPayload()),200,false));
    }
 catch (    Exception e) {
    }
  }
  if (endpoint.getFilter() != null) {
    if (!endpoint.getFilter().accept(message)) {
      handleUnacceptedFilter(message);
      return null;
    }
  }
  return listener.onMessage(message,trans,synchronous,outputStream);
}
