{
  String result=parser.getFilename(adapter,"Test1_[function:count].txt");
  assertEquals("Test1_0.txt",result);
  result=parser.getFilename(adapter,"Test2_[function:dateStamp-yyMMdd].txt");
  assertEquals("got result: " + result,16,result.length());
  result=parser.getFilename(adapter,"Test3_[function:dateStamp].txt");
  assertEquals("got result: '" + result,31,result.length());
  result=parser.getFilename(adapter,"Test4_[function:systime].txt");
  assertFalse(result.equals("Test4_[function:systime].txt"));
  result=parser.getFilename(adapter,"Test5_[function:uuid].txt");
  assertFalse(result.equals("Test5_[function:uuid].txt"));
  result=parser.getFilename(adapter,"Test6_[function:count].txt");
  assertEquals("Test6_1.txt",result);
  result=parser.getFilename(adapter,"Test7_[header:originalFilename].txt");
  assertEquals("Test7_originalName.txt",result);
  result=parser.getFilename(adapter,"Test8_[header:foo].txt");
  assertEquals("Test8_bar.txt",result);
  try {
    result=parser.getFilename(adapter,"Test9_[header:xxx].txt");
    fail("Property xxx is not available");
  }
 catch (  Exception e) {
  }
  result=parser.getFilename(adapter,"Test9_[header:xxx?].txt");
  assertEquals("Test9_[header:xxx?].txt",result);
}
