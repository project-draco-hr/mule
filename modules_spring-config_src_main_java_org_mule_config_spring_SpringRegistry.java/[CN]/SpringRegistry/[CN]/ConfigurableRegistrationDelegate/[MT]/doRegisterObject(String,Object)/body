{
  if (applicationContext.containsBean(key)) {
    if (logger.isWarnEnabled()) {
      logger.warn(String.format("Spring registry already contains an object named '%s'. The previous object will be overwritten.",key));
    }
    SpringRegistry.this.unregisterObject(key);
  }
  try {
    value=initialiseObject(applicationContext,key,value);
    applyLifecycle(value);
    applicationContext.getBeanFactory().registerSingleton(key,value);
  }
 catch (  Exception e) {
    throw new RegistrationException(createStaticMessage("Could not register object for key " + key),e);
  }
}
