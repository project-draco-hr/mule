{
  if (applicationContext instanceof MuleApplicationContext) {
    MuleContext muleContext=((MuleApplicationContext)applicationContext).getMuleContext();
    if (!muleContext.isStarted()) {
      return;
    }
  }
  if (applicationContext instanceof ConfigurableApplicationContext && ((ConfigurableApplicationContext)applicationContext).isActive()) {
    ((ConfigurableApplicationContext)applicationContext).close();
  }
}
