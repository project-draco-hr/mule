{
  String line=HttpParser.readLine(is);
  if (line == null) {
    throw new MuleRuntimeException("End of Stream");
  }
  int space1=line.indexOf(" ");
  int space2=line.indexOf(" ",space1 + 1);
  if (space1 == -1 || space2 == -1) {
    throw new MessageException("Http message header line is malformed: " + line);
  }
  method=line.substring(0,space1);
  request=line.substring(space1 + 1,space2);
  httpVersion=line.substring(space2 + 1);
  setProperty(HttpConnector.HTTP_METHOD_PROPERTY,method);
  setProperty(HttpConnector.HTTP_REQUEST_PROPERTY,request);
  setProperty(HttpConnector.HTTP_VERSION_PROPERTY,httpVersion);
}
