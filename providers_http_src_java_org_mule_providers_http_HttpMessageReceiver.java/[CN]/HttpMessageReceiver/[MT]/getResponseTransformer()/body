{
  if (responseTransformer == null) {
    responseTransformer=(AbstractEventAwareTransformer)((AbstractConnector)connector).getDefaultResponseTransformer();
    if (responseTransformer == null) {
      throw new InitialisationException("Response transformer is required for the http endpoint. Check the connector service descriptor");
    }
  }
  if (!responseTransformer.getReturnClass().equals(String.class) && !responseTransformer.getReturnClass().equals(byte[].class) && !responseTransformer.getReturnClass().equals(Object.class)) {
    throw new InitialisationException("Response transformer for " + connector.getName() + " must return either "+ "a String or byte[]");
  }
  return responseTransformer;
}
