{
  if (endpoint.getEncoding() != null) {
    conn=new HttpServerConnection(socket,endpoint.getEncoding());
  }
 else {
    conn=new HttpServerConnection(socket);
  }
  cookieSpec=PropertiesHelper.getStringProperty(endpoint.getProperties(),HttpConnector.HTTP_COOKIE_SPEC_PROPERTY,((HttpConnector)connector).getCookieSpec());
  enableCookies=PropertiesHelper.getBooleanProperty(endpoint.getProperties(),HttpConnector.HTTP_ENABLE_COOKIES_PROPERTY,((HttpConnector)connector).isEnableCookies());
}
