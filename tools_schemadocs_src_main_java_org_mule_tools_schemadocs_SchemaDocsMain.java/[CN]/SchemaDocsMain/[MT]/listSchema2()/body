{
  ClassLoader loader=getClass().getClassLoader();
  List files=new LinkedList();
  Enumeration resources=loader.getResources("META-INF");
  FilenameFilter filter=new FilenameFilter(){
    public boolean accept(    File dir,    String name){
      if (name.startsWith(MULE) && name.endsWith(XSD)) {
        for (int i=0; i < BLOCKED.length; ++i) {
          if (name.indexOf(BLOCKED[i]) > -1) {
            return false;
          }
        }
        return true;
      }
 else {
        return false;
      }
    }
  }
;
  while (resources.hasMoreElements()) {
    URL url=(URL)resources.nextElement();
    logger.debug("url: " + url);
    if (url.toString().startsWith("jar:")) {
      readFromJar(url,files);
    }
 else     if ("file".equals(url.getProtocol())) {
      readFromDirectory(new File(url.getFile()),files,filter);
    }
  }
  return files;
}
