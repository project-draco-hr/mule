{
  MuleClient client=new MuleClient();
  client.dispatch("clientEndpoint2",null,null);
  MuleMessage result=client.request("vm://out",5000);
  assertNotNull(result.getAdapter().getProperty(HttpConstants.HEADER_CONTENT_TYPE));
  assertEquals("application/xml",result.getAdapter().getProperty(HttpConstants.HEADER_CONTENT_TYPE));
  assertNotNull(result.getAdapter().getProperty(HttpConstants.HEADER_CONTENT_DISPOSITION));
  assertEquals("attachment; filename=foo.zip",result.getAdapter().getProperty(HttpConstants.HEADER_CONTENT_DISPOSITION));
  assertNotNull(result.getAdapter().getProperty("X-Test"));
  assertEquals("foo",result.getAdapter().getProperty("X-Test"));
}
