{
  final UnresolvableDbConfigException connectionErrorDebugInfo=new UnresolvableDbConfigException("Error");
  when(dbConfigResolver.resolve(event)).thenThrow(connectionErrorDebugInfo);
  AbstractSingleQueryDbMessageProcessor processor=createMessageProcessor();
  final List<FieldDebugInfo> debugInfo=processor.getDebugInfo(event);
  assertThat(debugInfo.size(),equalTo(1));
  assertThat(debugInfo,hasItem(fieldLike("Config",DbConfig.class,connectionErrorDebugInfo)));
}
