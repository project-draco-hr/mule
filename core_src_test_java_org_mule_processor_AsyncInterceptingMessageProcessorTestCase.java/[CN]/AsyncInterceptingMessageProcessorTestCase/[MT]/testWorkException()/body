{
  Flow flow=new Flow("flow",muleContext);
  LatchedExceptionListener exceptionListener=new LatchedExceptionListener();
  flow.setExceptionListener(exceptionListener);
  initialiseObject(flow);
  MuleEvent event=getTestEvent(TEST_MESSAGE,flow,MessageExchangePattern.ONE_WAY);
  MessageProcessor next=new MessageProcessor(){
    public MuleEvent process(    MuleEvent event) throws MuleException {
      throw new org.mule.api.expression.RequiredValueException(CoreMessages.createStaticMessage(""));
    }
  }
;
  messageProcessor=createAsyncInterceptingMessageProcessor(next);
  if (messageProcessor instanceof Initialisable) {
    ((Initialisable)messageProcessor).initialise();
  }
  if (messageProcessor instanceof Startable) {
    ((Startable)messageProcessor).start();
  }
  messageProcessor.process(event);
  assertTrue(exceptionListener.latch.await(RECEIVE_TIMEOUT * 5,TimeUnit.MILLISECONDS));
}
