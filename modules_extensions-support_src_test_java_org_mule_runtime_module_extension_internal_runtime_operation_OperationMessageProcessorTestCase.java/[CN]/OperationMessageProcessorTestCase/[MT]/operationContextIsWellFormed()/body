{
  ArgumentCaptor<ExecutionContext> operationContextCaptor=ArgumentCaptor.forClass(ExecutionContext.class);
  messageProcessor.process(event);
  verify(operationExecutor).execute(operationContextCaptor.capture());
  ExecutionContext<ComponentModel> executionContext=operationContextCaptor.getValue();
  assertThat(executionContext,is(instanceOf(ExecutionContextAdapter.class)));
  ExecutionContextAdapter<ComponentModel> executionContextAdapter=(ExecutionContextAdapter)executionContext;
  assertThat(executionContextAdapter.getEvent(),is(sameInstance(event)));
  assertThat(executionContextAdapter.getConfiguration().get().getValue(),is(sameInstance(configuration)));
}
