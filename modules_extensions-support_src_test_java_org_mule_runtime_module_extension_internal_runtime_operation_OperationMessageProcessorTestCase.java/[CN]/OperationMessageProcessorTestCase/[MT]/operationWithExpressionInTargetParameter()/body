{
  String flowName="flowName";
  expectedException.expect(IllegalOperationException.class);
  expectedException.expectMessage(format(INVALID_TARGET_MESSAGE,flowName,operationModel.getName(),"an expression"));
  target="#[someExpression]";
  messageProcessor=createOperationMessageProcessor();
  when(context.getRegistry().lookupObject(OBJECT_EXPRESSION_LANGUAGE)).thenReturn(new MVELExpressionLanguage(context));
  doReturn(new DefaultExpressionManager(context)).when(context).getExpressionManager();
  FlowConstruct flowConstruct=mock(FlowConstruct.class);
  when(flowConstruct.getName()).thenReturn(flowName);
  messageProcessor.setFlowConstruct(flowConstruct);
  messageProcessor.setMuleContext(context);
  messageProcessor.initialise();
}
