{
  out.defaultWriteObject();
  try {
    out.writeObject(exception);
  }
 catch (  NotSerializableException e) {
    logger.warn("Exception " + exception.getClass().getName() + " is not serializable and will be lost when sending ExceptionMessage over the wire: "+ e.getMessage());
  }
  try {
    out.writeObject(payload);
  }
 catch (  NotSerializableException e) {
    logger.warn("Payload " + payload.getClass().getName() + " is not serializable and will be lost when sending ExceptionMessage over the wire: "+ e.getMessage());
  }
}
