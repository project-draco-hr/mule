{
  OutboundEndpoint ep;
  Iterator iterator=endpoints.iterator();
  while (iterator.hasNext()) {
    ep=(OutboundEndpoint)iterator.next();
    if (endpointName.equals(ep.getName())) {
      return ep;
    }
 else     if (endpointName.equals(ep.getName())) {
      return ep;
    }
 else     if (endpointName.equals(ep.getEndpointURI().getUri().toString())) {
      return ep;
    }
  }
  try {
    return getMuleContext().getRegistry().lookupEndpointFactory().getOutboundEndpoint(endpointName);
  }
 catch (  MalformedEndpointException e) {
    throw new EndpointNotFoundException(CoreMessages.endpointNotFound(endpointName),e);
  }
}
