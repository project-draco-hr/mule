{
  DbConfig dbConfig=mock(DbConfig.class);
  final Result<List<MetaDataKey>> expectedMetaDataResult=mock(Result.class);
  when(dbConfig.getMetaDataKeys()).thenReturn(expectedMetaDataResult);
  DbConfigResolver dbConfigResolver=mock(DbConfigResolver.class);
  when(dbConfigResolver.resolve(null)).thenReturn(dbConfig);
  MuleRegistry registry=createMockRegistry(dbConfigResolver);
  DefaultDbConfigResolver defaultDbConfigResolver=new DefaultDbConfigResolver(registry);
  final Result<List<MetaDataKey>> metaDataResult=defaultDbConfigResolver.getMetaDataKeys();
  assertThat(metaDataResult,is(expectedMetaDataResult));
}
