{
  String spaceKey=getSpaceKey(endpoint);
  logger.info("looking for space: " + spaceKey);
  UMOSpace space=(UMOSpace)spaces.get(spaceKey);
  if (space == null) {
    logger.info("Space not found, creating space: " + spaceKey);
    space=spaceFactory.create(endpoint);
    spaces.put(spaceKey,space);
    if (endpoint.getTransactionConfig().getFactory() != null) {
      space.setTransactionFactory(endpoint.getTransactionConfig().getFactory());
    }
  }
  return space;
}
