{
  if (succeeded == false) {
    return false;
  }
 else   if (succeeded == true && commitSucceeded == false) {
    succeeded=false;
    username=null;
    if (password != null)     password=null;
  }
 else {
    logout();
  }
  return true;
}
