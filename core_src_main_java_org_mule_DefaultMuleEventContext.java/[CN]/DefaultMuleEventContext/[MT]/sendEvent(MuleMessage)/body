{
  if (event.getEndpoint() instanceof OutboundEndpoint) {
    return clientInterface.process((OutboundEndpoint)event.getEndpoint(),message);
  }
 else   if (session.getFlowConstruct() instanceof Service) {
    Service service=(Service)session.getFlowConstruct();
    DefaultMuleEvent eventToSend=new DefaultMuleEvent(message,event.getEndpoint(),session);
    MuleEvent event=service.sendEvent(eventToSend);
    return event == null ? null : event.getMessage();
  }
 else {
    throw new MessagingException(CoreMessages.createStaticMessage("Current event has 'inbound' endpoint and FlowConstuct is not a 'Service', MuleEventContext cannot  this message"),event);
  }
}
