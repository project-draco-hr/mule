{
  final MessageExecutionContext executionContext=create(flow);
  final MuleMessage messageParent=MuleMessage.builder().payload(TEST_PAYLOAD).build();
  final MuleMessage message=MuleMessage.builder().payload(TEST_PAYLOAD).build();
  final DefaultMuleEvent eventParent=new DefaultMuleEvent(executionContext,messageParent,flow);
  ((DefaultFlowCallStack)eventParent.getFlowCallStack()).push(new FlowStackElement(flow.getName(),"/0"));
  final DefaultMuleEvent event=new DefaultMuleEvent(executionContext,message,flow);
  event.setParent(eventParent);
  assertThat(event.getCorrelationId(),is(MSG_EXEC_CTX_ID + ":" + "/0"));
}
