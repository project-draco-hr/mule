{
  this.muleContext=context;
  try {
    namespaceManager=muleContext.getRegistry().lookupObject(NamespaceManager.class);
  }
 catch (  RegistrationException e) {
    throw new ExpressionRuntimeException(CoreMessages.failedToLoad("NamespaceManager"),e);
  }
  if (namespaceManager != null) {
    if (namespaces == null) {
      namespaces=new HashMap(namespaceManager.getNamespaces());
    }
 else {
      namespaces.putAll(namespaceManager.getNamespaces());
    }
  }
}
