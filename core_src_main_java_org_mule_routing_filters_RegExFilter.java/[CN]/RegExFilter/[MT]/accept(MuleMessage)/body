{
  try {
    if (value != null && value.getRawValue() != null) {
      Object evaluatedValue=value.resolveValue(new DefaultMuleEvent(message,MessageExchangePattern.ONE_WAY,new Flow("",muleContext)));
      return accept(evaluatedValue);
    }
 else {
      return accept(muleContext.getTransformationService().transform(message,DataTypeFactory.STRING).getPayload());
    }
  }
 catch (  Exception e) {
    throw new IllegalArgumentException(e);
  }
}
