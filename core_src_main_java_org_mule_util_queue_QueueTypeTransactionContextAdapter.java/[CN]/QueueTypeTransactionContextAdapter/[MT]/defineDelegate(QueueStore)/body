{
  if (transactionContext == null) {
    if (queue instanceof RecoverableQueueStore) {
      transactionContext=queueTransactionContextFactory.createPersistentTransactionContext();
    }
 else {
      transactionContext=queueTransactionContextFactory.createTransientTransactionContext();
    }
  }
}
