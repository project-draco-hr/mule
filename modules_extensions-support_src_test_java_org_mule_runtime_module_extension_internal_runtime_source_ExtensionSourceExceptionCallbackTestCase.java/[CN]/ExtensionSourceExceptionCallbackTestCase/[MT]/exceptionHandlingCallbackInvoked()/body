{
  ArgumentCaptor<MessagingException> exceptionCaptor=forClass(MessagingException.class);
  onException();
  verify(exceptionHandlingCallback).accept(exceptionCaptor.capture());
  MessagingException messagingException=exceptionCaptor.getValue();
  assertThat(messagingException,is(notNullValue()));
  assertThat(messagingException.getCause(),is(sameInstance(exception)));
}
