{
  MuleMessage message=new DefaultMuleMessage("<root other=\"1\" attr=\"oldValue\"/>",muleContext);
  message.setPayload(message.getPayload(Document.class));
  evaluate("xpath('/root/@attr').text=xpath('/root/@other')",message);
  assertTrue(message.getPayloadAsString().contains("<root other=\"1\" attr=\"1\"/>"));
}
