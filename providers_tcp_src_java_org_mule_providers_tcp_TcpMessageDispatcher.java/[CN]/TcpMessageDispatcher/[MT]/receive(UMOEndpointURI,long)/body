{
  Socket socket=null;
  try {
    socket=initSocket(endpointUri.getAddress());
    try {
      byte[] result=receive(socket,(int)timeout);
      if (result == null) {
        return null;
      }
      UMOMessage message=new MuleMessage(connector.getMessageAdapter(result));
      return message;
    }
 catch (    SocketTimeoutException e) {
      logger.info("Socket timed out normally while doing a synchronous receive on endpointUri: " + endpointUri);
      return null;
    }
  }
  finally {
    if (socket != null && !socket.isClosed()) {
      socket.close();
    }
  }
}
