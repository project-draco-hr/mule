{
  MuleMessage message=event.getMessage();
  if (routes == null || routes.size() == 0) {
    throw new RoutePathNotFoundException(CoreMessages.noEndpointsForRouter(),event,null);
  }
  Builder builder=MuleEvent.builder(event).correlation(new Correlation(routes.size(),null));
  List<MuleEvent> results=new ArrayList<>(routes.size());
  try {
    for (int i=0; i < routes.size(); i++) {
      MessageProcessor mp=getRoute(i,event);
      boolean filterAccepted=!(mp instanceof LegacyOutboundEndpoint) || ((LegacyOutboundEndpoint)mp).filterAccepts(message,builder);
      event=builder.build();
      builder=MuleEvent.builder(event);
      if (filterAccepted) {
        AbstractRoutingStrategy.validateMessageIsNotConsumable(event,message);
        MuleMessage clonedMessage=cloneMessage(event,message);
        MuleEvent result=sendRequest(event,createEventToRoute(event,clonedMessage),mp,true);
        if (result != null && !VoidMuleEvent.getInstance().equals(result)) {
          results.add(result);
        }
        if (!continueRoutingMessageAfter(result)) {
          break;
        }
      }
    }
  }
 catch (  MuleException e) {
    throw new CouldNotRouteOutboundMessageException(builder.build(),routes.get(0),e);
  }
  return resultsHandler.aggregateResults(results,builder.build());
}
