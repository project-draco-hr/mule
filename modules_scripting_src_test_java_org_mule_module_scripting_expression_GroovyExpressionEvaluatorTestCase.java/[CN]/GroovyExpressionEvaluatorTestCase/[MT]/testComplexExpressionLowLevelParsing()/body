{
  final GroovyExpressionEvaluator evaluator=new GroovyExpressionEvaluator();
  evaluator.setMuleContext(muleContext);
  muleContext.getExpressionManager().registerEvaluator(evaluator);
  MuleMessage msg=new DefaultMuleMessage(Arrays.asList(0,"test"),muleContext);
  String result=muleContext.getExpressionManager().parse("#[groovy:payload[0]] - #[groovy:payload[1].toUpperCase()]",msg);
  assertNotNull(result);
  assertEquals("Expressions didn't evaluate correctly","0 - TEST",result);
}
