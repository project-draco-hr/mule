{
  if (string == null) {
    return null;
  }
  if (isEmpty(string)) {
    return ArrayUtils.EMPTY_STRING_ARRAY;
  }
  String[] rawTokens=split(string,delim);
  List<String> tokens=new ArrayList<String>();
  if (rawTokens != null) {
    for (int i=0; i < rawTokens.length; i++) {
      String token=trim(rawTokens[i]);
      if (isNotEmpty(token)) {
        tokens.add(token);
      }
    }
  }
  return (String[])ArrayUtils.toArrayOfComponentType(tokens.toArray(),String.class);
}
