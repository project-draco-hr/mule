{
  if (expectedType instanceof Class) {
    if (((Class)expectedType).isPrimitive()) {
      if (((Class)expectedType).getName().equals("boolean") && (clazz == Boolean.class)) {
        return true;
      }
      if (((Class)expectedType).getName().equals("byte") && (clazz == Byte.class)) {
        return true;
      }
      if (((Class)expectedType).getName().equals("short") && (clazz == Short.class)) {
        return true;
      }
      if (((Class)expectedType).getName().equals("char") && (clazz == Character.class)) {
        return true;
      }
      if (((Class)expectedType).getName().equals("int") && (clazz == Integer.class)) {
        return true;
      }
      if (((Class)expectedType).getName().equals("float") && (clazz == Float.class)) {
        return true;
      }
      if (((Class)expectedType).getName().equals("long") && (clazz == Long.class)) {
        return true;
      }
      if (((Class)expectedType).getName().equals("double") && (clazz == Double.class)) {
        return true;
      }
      return false;
    }
 else {
      return ((Class)expectedType).isAssignableFrom(clazz);
    }
  }
  if (expectedType instanceof ParameterizedType) {
    return isAssignableFrom(((ParameterizedType)expectedType).getRawType(),clazz);
  }
  if (expectedType instanceof WildcardType) {
    Type[] upperBounds=((WildcardType)expectedType).getUpperBounds();
    if (upperBounds.length != 0) {
      return isAssignableFrom(upperBounds[0],clazz);
    }
  }
  return false;
}
