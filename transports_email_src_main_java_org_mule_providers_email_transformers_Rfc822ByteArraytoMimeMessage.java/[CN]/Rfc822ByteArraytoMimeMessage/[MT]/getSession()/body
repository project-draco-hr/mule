{
  if (null == endpoint) {
    throw new TransformerException(this,new IllegalStateException("The transformer is no associated with an endpoint."));
  }
  UMOConnector connector=endpoint.getConnector();
  if (!(connector instanceof AbstractMailConnector)) {
    throw new TransformerException(this,new IllegalStateException("The transformer is not associated with an email endpoint."));
  }
  return ((AbstractMailConnector)connector).getSessionDetails(endpoint).getSession();
}
