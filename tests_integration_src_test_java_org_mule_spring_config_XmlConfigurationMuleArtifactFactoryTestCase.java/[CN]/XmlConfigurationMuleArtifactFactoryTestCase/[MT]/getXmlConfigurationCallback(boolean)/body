{
  return new XmlConfigurationCallback(){
    @Override public String getSchemaLocation(    String arg0){
      if (arg0.equals("http://www.mulesoft.org/schema/mule/jdbc")) {
        return "http://www.mulesoft.org/schema/mule/jdbc/current/mule-jdbc.xsd";
      }
 else {
        return null;
      }
    }
    @Override public Element getGlobalElement(    String arg0){
      if (datasourceConfigured && arg0.equals("jdbcDataSource")) {
        try {
          return XMLUnit.buildControlDocument("<jdbc:derby-data-source name=\"jdbcDataSource\" url=\"jdbc:derby:muleEmbeddedDB;create=true\"  xmlns:jdbc=\"http://www.mulesoft.org/schema/mule/jdbc\"/>").getDocumentElement();
        }
 catch (        Exception e) {
          return null;
        }
      }
 else       if (datasourceConfigured && arg0.equals("mysqlDatasource")) {
        try {
          return XMLUnit.buildControlDocument("<jdbc:mysql-data-source name=\"mysqlDatasource\" user=\"myUser\" password=\"secret\" host=\"localhost\" database=\"test\"  port=\"3306\" xmlns:jdbc=\"http://www.mulesoft.org/schema/mule/jdbc\"/>").getDocumentElement();
        }
 catch (        Exception e) {
          return null;
        }
      }
 else {
        return null;
      }
    }
  }
;
}
