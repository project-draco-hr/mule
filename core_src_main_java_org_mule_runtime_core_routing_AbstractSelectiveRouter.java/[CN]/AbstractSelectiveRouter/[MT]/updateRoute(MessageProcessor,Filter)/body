{
  updateRoute(processor,new RoutesUpdater(){
    public void updateAt(    int index){
      MessageProcessorFilterPair addedPair=new MessageProcessorFilterPair(processor,filter);
      MessageProcessorFilterPair removedPair=conditionalMessageProcessors.set(index,transitionLifecycleManagedObjectForAddition(addedPair));
      transitionLifecycleManagedObjectForRemoval(removedPair);
    }
  }
);
}
