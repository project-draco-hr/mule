{
  MuleClient muleClient=new MuleClient(muleContext);
  MuleMessage response=muleClient.send("vm://in3",ORIGINAL_MESSAGE,null);
  if (!deadLetterQueueLatch.await(TIMEOUT,TimeUnit.MILLISECONDS)) {
    fail("dead letter queue must be reached");
  }
  assertThat(outboundComponentReached,Is.is(false));
  assertThat(response,IsNull.<Object>notNullValue());
  assertThat(response.getPayload(),IsInstanceOf.instanceOf(NullPayload.class));
  assertThat(response.getExceptionPayload(),IsNull.<Object>notNullValue());
  assertThat(response.getExceptionPayload(),IsInstanceOf.instanceOf(DefaultExceptionPayload.class));
}
