{
  if (activationSpec.getClass().equals(MuleActivationSpec.class)) {
    MuleActivationSpec muleActivationSpec=(MuleActivationSpec)activationSpec;
    MuleEndpointKey key=new MuleEndpointKey(endpointFactory,(MuleActivationSpec)activationSpec);
    Component component=(Component)endpoints.remove(key);
    if (component == null) {
      logger.warn("No endpoint was registered with key: " + key);
      return;
    }
    String modelName=null;
    try {
      modelName=resolveModelName(muleActivationSpec);
    }
 catch (    ResourceException e) {
      logger.error(e.getMessage(),e);
    }
    try {
      muleContext.getRegistry().unregisterComponent(component.getName());
    }
 catch (    MuleException e) {
      logger.error(e.getMessage(),e);
    }
  }
}
