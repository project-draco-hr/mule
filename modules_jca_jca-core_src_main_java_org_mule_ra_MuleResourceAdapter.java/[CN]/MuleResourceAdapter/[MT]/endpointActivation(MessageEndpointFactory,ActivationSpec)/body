{
  if (activationSpec.getResourceAdapter() != this) {
    throw new ResourceException("ActivationSpec not initialized with this ResourceAdapter instance");
  }
  if (activationSpec.getClass().equals(MuleActivationSpec.class)) {
    MuleActivationSpec muleActivationSpec=(MuleActivationSpec)activationSpec;
    try {
      String modelName=resolveModelName(muleActivationSpec);
      JcaModel model=getJcaModel(modelName);
      ImmutableEndpoint endpoint=createMessageInflowEndpoint(muleActivationSpec);
      Component component=createJcaComponent(endpointFactory,model,endpoint);
      MuleEndpointKey key=new MuleEndpointKey(endpointFactory,muleActivationSpec);
      endpoints.put(key,component);
    }
 catch (    Exception e) {
      logger.error(e.getMessage(),e);
    }
  }
 else {
    throw new NotSupportedException("That type of ActicationSpec not supported: " + activationSpec.getClass());
  }
}
