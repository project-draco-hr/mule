{
  if (logger.isInfoEnabled()) {
    logger.info("Initializing application: " + appName);
  }
  try {
    ClassLoader parent=new DefaultMuleSharedDomainClassLoader(getClass().getClassLoader());
    ClassLoader cl=new MuleApplicationClassLoader(new File(configUrl.getFile()),parent);
    ConfigurationBuilder cfgBuilder=(ConfigurationBuilder)ClassUtils.instanciateClass(configBuilderClassName,new Object[]{configUrl.toExternalForm()},cl);
    if (!cfgBuilder.isConfigured()) {
      DefaultMuleContextFactory muleContextFactory=new DefaultMuleContextFactory();
      this.muleContext=muleContextFactory.createMuleContext(cfgBuilder);
    }
  }
 catch (  Exception e) {
    throw new DeploymentInitException(CoreMessages.failedToLoad(configBuilderClassName),e);
  }
}
