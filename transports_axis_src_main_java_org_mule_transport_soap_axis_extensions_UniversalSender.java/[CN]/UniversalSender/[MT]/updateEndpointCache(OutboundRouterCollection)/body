{
  endpointsCache.clear();
  for (Iterator iterator=router.getRouters().iterator(); iterator.hasNext(); ) {
    OutboundRouter r=(OutboundRouter)iterator.next();
    for (Iterator iterator1=r.getEndpoints().iterator(); iterator1.hasNext(); ) {
      Endpoint endpoint=(Endpoint)iterator1.next();
      endpointsCache.put(endpoint.getEndpointURI().getAddress(),endpoint);
    }
  }
}
