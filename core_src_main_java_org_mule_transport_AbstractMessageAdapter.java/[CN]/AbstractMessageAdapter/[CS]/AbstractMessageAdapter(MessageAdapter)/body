{
  logger=LogFactory.getLog(getClass());
  if (null != template) {
    Iterator propertyNames=template.getPropertyNames().iterator();
    while (propertyNames.hasNext()) {
      String key=(String)propertyNames.next();
      try {
        setProperty(key,template.getProperty(key));
      }
 catch (      Exception e) {
        throw new MuleRuntimeException(CoreMessages.failedToReadPayload(),e);
      }
    }
    Iterator attachmentNames=template.getAttachmentNames().iterator();
    while (attachmentNames.hasNext()) {
      String key=(String)attachmentNames.next();
      try {
        addAttachment(key,template.getAttachment(key));
      }
 catch (      Exception e) {
        throw new MuleRuntimeException(CoreMessages.failedToReadPayload(),e);
      }
    }
    encoding=template.getEncoding();
    exceptionPayload=template.getExceptionPayload();
    try {
      id=template.getUniqueId();
    }
 catch (    UniqueIdNotSupportedException e) {
    }
  }
}
