{
  final String expectedParamValue1="foo";
  String expectedParamValue2="bar";
  String paramExpressionValue="#[payload]";
  addResolvableExpression(expectedParamValue1,paramExpressionValue);
  List<QueryParamValue> templateParams=getQueryParamValues(paramExpressionValue,expectedParamValue2);
  List<QueryParamValue> resolvedParams=paramResolver.resolveParams(muleEvent,templateParams);
  assertThat(resolvedParams.size(),equalTo(2));
  assertThat((String)resolvedParams.get(0).getValue(),equalTo(expectedParamValue1));
  assertThat((String)resolvedParams.get(1).getValue(),equalTo(expectedParamValue2));
}
