{
  try {
    MessageReceiver receiver=getReceiverForURI(httpServletRequest);
    httpServletRequest.setAttribute(PAYLOAD_PARAMETER_NAME,payloadParameterName);
    MuleMessage message=receiver.createMuleMessage(httpServletRequest,receiver.getEndpoint().getEncoding());
    MuleEvent event=receiver.routeMessage(message);
    MuleMessage returnMessage=!receiver.getEndpoint().getExchangePattern().hasResponse() || event == null ? null : event.getMessage();
    writeResponse(httpServletResponse,returnMessage);
  }
 catch (  Exception e) {
    handleException(e,"Failed to Post event to Mule",httpServletResponse);
  }
}
