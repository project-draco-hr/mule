{
  Object payload=Collections.emptySet();
  Flow fc=getTestFlow();
  MuleSession session=getTestSession(fc,muleContext);
  MuleMessage toSplit=MuleMessage.builder().payload(payload).build();
  CollectionSplitter splitter=new CollectionSplitter();
  splitter.setMuleContext(muleContext);
  MuleEvent event=MuleEvent.builder(DefaultMessageContext.create(fc,TEST_CONNECTOR)).message(toSplit).flow(fc).session(session).build();
  populateFieldsFromInboundEndpoint(event,getTestInboundEndpoint("ep"));
  assertSame(VoidMuleEvent.getInstance(),splitter.process(event));
}
