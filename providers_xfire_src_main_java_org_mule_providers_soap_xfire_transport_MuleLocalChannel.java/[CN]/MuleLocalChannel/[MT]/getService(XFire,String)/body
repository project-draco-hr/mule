{
  if (null == xfire) {
    logger.warn("No XFire instance in context, unable to determine service");
    return null;
  }
  int i=uri.indexOf("//");
  if (i == -1) {
    throw new XFireException("Malformed service URI");
  }
  String name=uri.substring(i + 2);
  Service service=xfire.getServiceRegistry().getService(name);
  if (null == service) {
    logger.warn("Unable to locate '" + name + "' in ServiceRegistry");
  }
  return service;
}
