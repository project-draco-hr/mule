{
  QueueTransactionContext queueTransactionContext=new QueueTypeTransactionContextAdapter<QueueTransactionContext>(mockQueueTransactionContextFactory);
  Mockito.when(mockQueueStore.isPersistent()).thenReturn(true);
  queueTransactionContext.offer(mockQueueStore,mockValue,10);
  verify(mockQueueTransactionContextFactory.createPersistentTransactionContext());
}
