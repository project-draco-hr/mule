{
  int len;
  try {
    do {
      len=is.read(buffer,0,size);
      if (0 == len) {
        Object lock=new Object();
synchronized (lock) {
          try {
            lock.wait(PAUSE_PERIOD);
          }
 catch (          InterruptedException e) {
          }
        }
      }
    }
 while (0 == len);
    return len;
  }
 catch (  SocketException e) {
    logger.debug("Socket exception occured: " + e.getMessage());
    return EOF;
  }
catch (  SocketTimeoutException e) {
    logger.debug("Socket timeout.");
    return EOF;
  }
}
