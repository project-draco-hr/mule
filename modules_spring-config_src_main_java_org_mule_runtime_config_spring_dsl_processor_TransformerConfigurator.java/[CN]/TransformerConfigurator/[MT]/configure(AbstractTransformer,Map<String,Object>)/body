{
  String returnClass=(String)parameters.get("returnClass");
  String mimeType=(String)parameters.get("mimeType");
  String name=(String)parameters.get("name");
  String encoding=(String)parameters.get("encoding");
  Boolean ignoreBadInput=parameters.get("ignoreBadInput") == null ? null : Boolean.valueOf((String)parameters.get("ignoreBadInput"));
  if (returnClass != null || mimeType != null) {
    DataTypeParamsBuilder builder=DataType.builder().type(getReturnType(returnClass));
    if (isNotEmpty(mimeType)) {
      builder.mediaType(mimeType);
    }
    transformerInstance.setReturnDataType(builder.charset(encoding).build());
  }
  if (ignoreBadInput != null) {
    transformerInstance.setIgnoreBadInput(ignoreBadInput);
  }
  transformerInstance.setName(name);
}
