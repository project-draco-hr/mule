{
  Object[] params=new Object[paramNames.size()];
  for (int i=0; i < paramNames.size(); i++) {
    String param=(String)paramNames.get(i);
    String name=param.substring(2,param.length() - 1);
    Object value=null;
    if ("NOW".equalsIgnoreCase(name)) {
      value=new Timestamp(Calendar.getInstance().getTimeInMillis());
    }
 else {
      try {
        value=BeanUtils.getProperty(root,name);
      }
 catch (      Exception ignored) {
      }
    }
    if (value == null) {
      value=uri.getParams().getProperty(name);
    }
    if (name.equals("payload")) {
      value=root;
    }
    if (value == null) {
      throw new IllegalArgumentException("Can not retrieve argument " + name);
    }
    params[i]=value;
  }
  return params;
}
