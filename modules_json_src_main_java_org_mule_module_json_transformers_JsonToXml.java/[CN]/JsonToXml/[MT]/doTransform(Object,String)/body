{
  String returnValue=null;
  JSON json=null;
  if (src == null || src instanceof NullPayload) {
    return this.getStringOfEncoding(this.getXmlDeclaration(encoding) + "\n" + this.getXmlOfNull(),encoding);
  }
  if (!(src instanceof JSON) && !(src instanceof String)) {
    src=src.toString();
  }
  if (src instanceof String) {
    String jsonString=(String)src;
    if (JsonUtils.isBoolean(jsonString) || JsonUtils.isString(jsonString) || JsonUtils.isNumber(jsonString)) {
      return this.getStringOfEncoding(this.getXmlDeclaration(encoding) + "\n" + this.getXmlOfCommonValue(jsonString),encoding);
    }
 else     if (JsonUtils.isArray(jsonString)) {
      json=JSONArray.fromObject(jsonString);
    }
 else     if (JsonUtils.isObject(jsonString)) {
      json=JSONObject.fromObject(jsonString);
    }
 else {
      throw new IllegalArgumentException("Could not recognize type of '" + jsonString + "'");
    }
  }
  if (json != null || src instanceof JSON) {
    if (json == null) {
      json=(JSON)src;
    }
    returnValue=this.getXmlOfJson(json,encoding);
  }
  return returnValue;
}
