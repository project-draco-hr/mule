{
  ConfigurationInstantiator mockInstantiator=mock(ConfigurationInstantiator.class);
  final String defaultConfiguration="default";
  final String beta="beta";
  final String alpha="alpha";
  Extension extension=factory.createFrom(new DeclarationDescriptor("test","1.0").withConfig(defaultConfiguration).describedAs(defaultConfiguration).instantiatedWith(mockInstantiator).withConfig(beta).describedAs(beta).instantiatedWith(mockInstantiator).withConfig(alpha).describedAs(alpha).instantiatedWith(mockInstantiator));
  List<Configuration> configurations=extension.getConfigurations();
  assertThat(configurations,hasSize(3));
  assertThat(configurations.get(1).getName(),equalTo(alpha));
  assertThat(configurations.get(2).getName(),equalTo(beta));
}
