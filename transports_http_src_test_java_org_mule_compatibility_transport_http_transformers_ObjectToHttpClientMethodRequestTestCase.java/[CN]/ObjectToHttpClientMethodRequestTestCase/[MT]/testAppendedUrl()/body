{
  MuleMessage message=setupRequestContext("http://mycompany.com/test?fruits=apple%20orange",HttpConstants.METHOD_GET);
  message.setPayload("test");
  message.setOutboundProperty(HttpConnector.HTTP_GET_BODY_PARAM_PROPERTY,"body");
  ObjectToHttpClientMethodRequest transformer=createTransformer();
  Object response=transformer.transform(message);
  assertTrue(response instanceof HttpMethod);
  HttpMethod httpMethod=(HttpMethod)response;
  assertEquals("fruits=apple%20orange&body=test",httpMethod.getQueryString());
}
