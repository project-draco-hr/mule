{
  MuleReceiveActivity activity;
  JpdlProcessDefinition processDefinition=parse.contextStackFind(JpdlProcessDefinition.class);
  if (processDefinition.getInitial() == null) {
    processDefinition.setInitial(parse.contextStackFind(ActivityImpl.class));
    activity=new MuleReceiveActivity(true);
  }
 else {
    activity=new MuleReceiveActivity(false);
  }
  if (element.hasAttribute("var"))   activity.setVariableName(XmlUtil.attribute(element,"var",parse));
  if (element.hasAttribute("endpoint"))   activity.setEndpoint(XmlUtil.attribute(element,"endpoint",parse));
  if (element.hasAttribute("type"))   activity.setPayloadClass(XmlUtil.attribute(element,"type",parse));
  return activity;
}
