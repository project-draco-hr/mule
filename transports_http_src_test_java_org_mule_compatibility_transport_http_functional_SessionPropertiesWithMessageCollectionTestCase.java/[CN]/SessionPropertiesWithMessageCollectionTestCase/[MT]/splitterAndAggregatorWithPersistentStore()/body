{
  Flow flow=(Flow)getFlowConstruct("synchronousCollectionAggregatorFlow");
  List<String> inputData=new ArrayList<>();
  int numberOfElements=10;
  for (int i=0; i < numberOfElements; i++) {
    inputData.add(String.valueOf(i));
  }
  MuleEvent responseEvent=flow.process(getTestEvent(inputData));
  assertThat(((List<String>)responseEvent.getSession().<List>getProperty("recordsToUpdate")).size(),is(numberOfElements));
}
