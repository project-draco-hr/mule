{
  try {
    proxyPool=getPoolingProfile().getPoolFactory().createPool(descriptor,model,new OptimisedProxyFactory(descriptor,model),getPoolingProfile());
    if (poolingProfile.getInitialisationPolicy() == PoolingProfile.POOL_INITIALISE_ALL_COMPONENTS) {
      int threads=poolingProfile.getMaxActive();
      for (int i=0; i < threads; i++) {
        proxyPool.returnObject(proxyPool.borrowObject());
      }
    }
 else     if (poolingProfile.getInitialisationPolicy() == PoolingProfile.POOL_INITIALISE_ONE_COMPONENT) {
      proxyPool.returnObject(proxyPool.borrowObject());
    }
    poolInitialised.set(true);
  }
 catch (  Exception e) {
    throw new InitialisationException(new Message(Messages.X_FAILED_TO_INITIALISE,"Proxy Pool"),e,this);
  }
}
