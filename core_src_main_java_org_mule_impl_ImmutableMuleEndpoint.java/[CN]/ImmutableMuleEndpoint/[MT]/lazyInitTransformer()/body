{
  if (transformer == null) {
    if (connector instanceof AbstractConnector) {
      if (UMOEndpoint.ENDPOINT_TYPE_SENDER.equals(type)) {
        transformer=((AbstractConnector)connector).getDefaultOutboundTransformer();
      }
 else       if (UMOEndpoint.ENDPOINT_TYPE_SENDER_AND_RECEIVER.equals(type)) {
        transformer=((AbstractConnector)connector).getDefaultInboundTransformer();
      }
 else {
        transformer=((AbstractConnector)connector).getDefaultInboundTransformer();
      }
    }
    if (transformer != null) {
      transformer.setEndpoint(this);
    }
  }
}
