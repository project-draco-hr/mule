{
  String endpointName=uri.getEndpointName();
  if (endpointName != null) {
    String endpointString=MuleManager.getRegistry().lookupEndpointIdentifier(endpointName,endpointName);
    UMOEndpoint endpoint=MuleManager.getRegistry().lookupEndpoint(endpointString);
    if (endpoint != null) {
      if (StringUtils.isNotEmpty(uri.getAddress())) {
        endpoint.setEndpointURI(uri);
      }
    }
    return endpoint;
  }
  return null;
}
