{
  int currInterval=0;
  while (true) {
    if (doStop)     break;
    if (currInterval >= checkInterval) {
      currInterval=0;
      if (mustPersist()) {
        manager.persist();
      }
    }
    try {
      currInterval+=sleepInterval;
      sleep(sleepInterval);
    }
 catch (    InterruptedException e) {
    }
  }
}
