{
  TestClassLoader classLoader=new TestClassLoader();
  URL blockedResource=new URL("file:///app.txt");
  classLoader.addResource(RESOURCE_NAME,blockedResource);
  ClassLoaderFilter filter=mock(ClassLoaderFilter.class);
  when(filter.exportsResource(RESOURCE_NAME)).thenReturn(false);
  ArtifactClassLoader artifactClassLoader=mock(ArtifactClassLoader.class);
  when(artifactClassLoader.getClassLoader()).thenReturn(classLoader);
  filteringArtifactClassLoader=new FilteringArtifactClassLoader(PLUGIN_NAME,artifactClassLoader,filter);
  Enumeration<URL> resources=filteringArtifactClassLoader.getResources(RESOURCE_NAME);
  assertThat(resources,EnumerationMatcher.equalTo(Collections.EMPTY_LIST));
}
