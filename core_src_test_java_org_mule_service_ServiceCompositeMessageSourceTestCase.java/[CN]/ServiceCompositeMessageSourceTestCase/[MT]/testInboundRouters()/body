{
  ServiceCompositeMessageSource serviceCompositeMessageSource=(ServiceCompositeMessageSource)compositeSource;
  serviceCompositeMessageSource.setListener(listener);
  serviceCompositeMessageSource.addMessageProcessor(new AppendingInterceptingMessageProcessor("one"));
  serviceCompositeMessageSource.addMessageProcessor(new AppendingInterceptingMessageProcessor("two"));
  serviceCompositeMessageSource.addSource(source);
  serviceCompositeMessageSource.initialise();
  serviceCompositeMessageSource.start();
  source.triggerSource();
  assertEquals(TEST_MESSAGE + "one" + "two",listener.event.getMessageAsString());
}
