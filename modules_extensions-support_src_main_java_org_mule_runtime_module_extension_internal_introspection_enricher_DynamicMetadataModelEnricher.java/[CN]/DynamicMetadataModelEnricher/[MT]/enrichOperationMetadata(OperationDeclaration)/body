{
  final Optional<ImplementingMethodModelProperty> modelProperty=operationDeclaration.getModelProperty(ImplementingMethodModelProperty.class);
  if (modelProperty.isPresent()) {
    final Method operationMethod=modelProperty.get().getMethod();
    MetadataScopeAdapter metadataScope=new MetadataScopeAdapter(getMetadataScope(operationMethod));
    MetadataResolverFactory metadataResolverFactory=getMetadataResolverFactory(metadataScope);
    operationDeclaration.setMetadataResolverFactory(metadataResolverFactory);
    if (metadataScope.isCustomScope()) {
      declareOutput(operationDeclaration.getOutput(),operationDeclaration.getOutputAttributes(),metadataScope);
      declareContent(operationDeclaration,operationMethod);
      declareComponentMetadataKeyId(operationMethod,operationDeclaration);
    }
  }
}
