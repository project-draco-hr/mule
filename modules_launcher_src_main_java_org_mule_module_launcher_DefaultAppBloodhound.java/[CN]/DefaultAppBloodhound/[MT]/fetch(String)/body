{
  final String muleHome=System.getProperty(MuleProperties.MULE_HOME_DIRECTORY_PROPERTY);
  final String deployConfig=String.format("%s/apps/%s/%s",muleHome,appName,"mule-deploy.properties");
  final Properties p=new Properties();
  final InputStream is=IOUtils.getResourceAsStream(deployConfig,getClass());
  if (is == null) {
    return null;
  }
  p.load(is);
  return new ApplicationDescriptor(){
    public String getEncoding(){
      return p.getProperty("encoding");
    }
    public String getConfigurationBuilder(){
      return p.getProperty("config.builder");
    }
    public String getDomainName(){
      return p.getProperty("domain");
    }
    public boolean isParentFirstClassLoader(){
      return Boolean.parseBoolean(p.getProperty("classloader.parentFirst",Boolean.TRUE.toString()));
    }
    public int getDescriptorVersion(){
      return 1;
    }
  }
;
}
