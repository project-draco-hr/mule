{
  OutboundRouter router=processOutboundRouter(componentFactoryClass);
  Reply replyEp=(Reply)componentFactoryClass.getAnnotation(Reply.class);
  if (replyEp != null) {
    router.setReplyTo(replyEp.uri());
  }
  OutboundEndpoint outboundEndpoint;
  List<AnnotationMetaData> annotations=AnnotationUtils.getClassAndMethodAnnotations(componentFactoryClass);
  for (  AnnotationMetaData annotation : annotations) {
    outboundEndpoint=tryOutboundEndpointAnnotation(annotation,ChannelType.Outbound);
    if (outboundEndpoint != null) {
      router.addRoute(outboundEndpoint);
    }
  }
  if (router instanceof MuleContextAware) {
    ((MuleContextAware)router).setMuleContext(context);
  }
  router.initialise();
  ((OutboundRouterCollection)service.getOutboundMessageProcessor()).addRoute(router);
}
