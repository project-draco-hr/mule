{
  InboundEndpoint inboundEndpoint;
  List<AnnotationMetaData> annotations=AnnotationUtils.getClassAndMethodAnnotations(componentFactoryClass);
  for (  AnnotationMetaData annotation : annotations) {
    inboundEndpoint=tryInboundEndpointAnnotation(annotation,ChannelType.Inbound);
    if (inboundEndpoint != null) {
      if (annotation.getType() == ElementType.METHOD) {
        inboundEndpoint.getProperties().put(MuleProperties.MULE_METHOD_PROPERTY,annotation.getElementName());
      }
      service.getInboundRouter().addEndpoint(inboundEndpoint);
    }
  }
  processInboundRouters(componentFactoryClass,service);
}
