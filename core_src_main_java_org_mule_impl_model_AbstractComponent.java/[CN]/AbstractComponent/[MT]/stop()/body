{
  if (!stopped.get()) {
    logger.debug("Stopping UMOComponent");
    stopping.set(true);
    MuleManager.getInstance().fireNotification(getNotificationStopping());
    unregisterListeners();
    if (MuleManager.getInstance().getQueueManager().getQueueSession().getQueue(descriptor.getName() + ".component").size() > 0) {
      try {
        stopping.whenFalse(null);
      }
 catch (      InterruptedException e) {
      }
    }
    doStop();
    stopped.set(true);
    MuleManager.getInstance().fireNotification(getNotificationStopped());
  }
}
