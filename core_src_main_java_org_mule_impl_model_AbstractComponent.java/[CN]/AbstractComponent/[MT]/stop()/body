{
  if (!stopped.get()) {
    logger.debug("Stopping UMOComponent");
    stopping.set(true);
    fireComponentNotification(ComponentNotification.COMPONENT_STOPPING);
    unregisterListeners();
    if (getManagementContext().getQueueManager().getQueueSession().getQueue(descriptor.getName() + ".component").size() > 0) {
      try {
        stopping.whenFalse(null);
      }
 catch (      InterruptedException e) {
      }
    }
    doStop();
    stopped.set(true);
    initialised.set(false);
    fireComponentNotification(ComponentNotification.COMPONENT_STOPPED);
  }
}
