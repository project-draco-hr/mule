{
  checkArgument(value != null,"value cannot be null");
  if (map.containsKey(key)) {
    throw new IllegalStateException(String.format("A %s is already registered for the name '%s'",value.getClass().getSimpleName(),key));
  }
  map.put(key,value);
}
