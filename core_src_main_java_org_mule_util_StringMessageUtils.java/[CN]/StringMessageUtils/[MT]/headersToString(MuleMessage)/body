{
  if (m == null) {
    return null;
  }
  StringBuffer buf=new StringBuffer();
  buf.append("\nMessage properties:\n");
  for (int i=0; i < PropertyScope.ALL_SCOPES.length; i++) {
    PropertyScope scope=PropertyScope.ALL_SCOPES[i];
    try {
      Set names=m.getPropertyNames(scope);
      buf.append("  ").append(scope.getScope().toUpperCase()).append(" scoped properties:\n");
      for (      Object name : names) {
        buf.append("    ").append(name).append("=").append(m.getProperty(name.toString(),scope)).append("\n");
      }
    }
 catch (    IllegalArgumentException e) {
      continue;
    }
  }
  return buf.toString();
}
