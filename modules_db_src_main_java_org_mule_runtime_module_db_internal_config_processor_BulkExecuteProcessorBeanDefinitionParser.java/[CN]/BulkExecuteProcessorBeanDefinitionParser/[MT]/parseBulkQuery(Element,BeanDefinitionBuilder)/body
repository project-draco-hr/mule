{
  String file=element.getAttribute("file");
  BeanDefinitionBuilder bulkQueryResolver;
  if (StringUtils.isEmpty(file)) {
    bulkQueryResolver=BeanDefinitionBuilder.genericBeanDefinition(BulkQueryResolverFactoryBean.class);
    bulkQueryResolver.addConstructorArgValue(element.getTextContent());
  }
 else {
    bulkQueryResolver=BeanDefinitionBuilder.genericBeanDefinition(FileBulkQueryResolver.class);
    bulkQueryResolver.addConstructorArgValue(file);
    bulkQueryResolver.addConstructorArgValue(new SimpleQueryTemplateParser());
    bulkQueryResolver.addConstructorArgValue(new DefaultFileReader());
  }
  builder.addConstructorArgValue(bulkQueryResolver.getBeanDefinition());
}
