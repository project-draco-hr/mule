{
  final Collection<String> payload=new ArrayList<String>();
  payload.add("pedro");
  payload.add("rodolfo");
  payload.add("roque");
  MuleMessage parent=new DefaultMuleMessage(payload,muleContext);
  MuleMessage result=client.send("vm://input-13",parent);
  assertTrue("Counter variable should not be visible outside foreach scope.",result.getExceptionPayload() != null && result.getExceptionPayload().getException().getCause() instanceof RequiredValueException);
}
