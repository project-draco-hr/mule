{
  final Map<String,String> payload=new HashMap<>();
  payload.put("name","david");
  payload.put("surname","bowie");
  MuleMessage result=flowRunner("map-config").withPayload(payload).run().getMessage();
  assertThat(result.getPayload(),instanceOf(Map.class));
  Map<?,?> resultPayload=(Map<?,?>)result.getPayload();
  assertThat(resultPayload.entrySet(),hasSize(payload.size()));
  assertThat(result.getOutboundProperty("totalMessages"),is(payload.size()));
  assertSame(payload,resultPayload);
}
