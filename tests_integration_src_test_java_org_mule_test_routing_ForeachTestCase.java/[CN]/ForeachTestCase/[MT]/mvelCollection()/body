{
  MuleMessage parent=new DefaultMuleMessage(null,muleContext);
  client.send("vm://input-20",parent);
  Map<String,String> m=new HashMap<String,String>();
  m.put("key1","val1");
  m.put("key2","val2");
  MuleMessage out=client.request("vm://out",getTestTimeoutSecs());
  assertTrue(out.getPayload() instanceof String);
  String outPayload=(String)out.getPayload();
  assertTrue(m.containsValue(outPayload));
  out=client.request("vm://out",getTestTimeoutSecs());
  assertTrue(out.getPayload() instanceof String);
  outPayload=(String)out.getPayload();
  assertTrue(m.containsValue(outPayload));
}
