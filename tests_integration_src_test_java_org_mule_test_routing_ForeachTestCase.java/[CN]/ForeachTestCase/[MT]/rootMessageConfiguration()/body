{
  final Collection<String> payload=new ArrayList<>();
  payload.add("pyotr");
  payload.add("ilych");
  InternalMessage result=flowRunner("parent-message-config").withPayload(payload).run().getMessage();
  assertThat(result.getPayload().getValue(),instanceOf(Collection.class));
  Collection<?> resultPayload=(Collection<?>)result.getPayload().getValue();
  assertThat(resultPayload,hasSize(2));
  assertSame(payload,resultPayload);
  assertSame(payload,((InternalMessage)result.getOutboundProperty("parent")).getPayload().getValue());
}
