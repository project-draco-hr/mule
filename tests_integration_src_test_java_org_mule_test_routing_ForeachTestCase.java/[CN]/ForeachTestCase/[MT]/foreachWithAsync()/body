{
  final int size=20;
  List<String> list=new ArrayList<String>(size);
  for (int i=0; i < size; i++) {
    list.add(RandomStringUtils.randomAlphabetic(10));
  }
  CountDownLatch latch=new CountDownLatch(size);
  MuleEvent event=getTestEvent(list);
  event.setFlowVariable("latch",latch);
  this.testFlow("foreachWithAsync",event);
  latch.await(10,TimeUnit.SECONDS);
}
