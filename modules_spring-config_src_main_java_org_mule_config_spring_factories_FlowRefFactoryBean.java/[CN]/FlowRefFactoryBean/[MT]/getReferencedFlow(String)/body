{
  if (name == null) {
    throw new MuleRuntimeException(CoreMessages.objectIsNull(name));
  }
 else   if (!referenceCache.containsKey(name)) {
    MessageProcessor processor=lookupReferencedFlowInApplicationContext(name);
    if (processor instanceof Initialisable) {
      ((Initialisable)processor).initialise();
    }
    referenceCache.putIfAbsent(name,processor);
  }
  return referenceCache.get(name);
}
