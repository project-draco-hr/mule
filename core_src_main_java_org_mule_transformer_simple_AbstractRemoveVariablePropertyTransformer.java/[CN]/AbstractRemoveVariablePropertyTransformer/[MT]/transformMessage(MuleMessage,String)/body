{
  if (wildcardAttributeEvaluator.hasWildcards()) {
    wildcardAttributeEvaluator.processValues(message.getPropertyNames(getScope()),new WildcardAttributeEvaluator.MatchCallback(){
      @Override public void processMatch(      String matchedValue){
        message.removeProperty(matchedValue,getScope());
        if (logger.isDebugEnabled()) {
          logger.debug(String.format("Removing property: '%s' from scope: '%s'",matchedValue,getScope().getScopeName()));
        }
      }
    }
);
  }
 else {
    Object keyValue=identifierEvaluator.resolveValue(message);
    if (keyValue != null) {
      message.removeProperty(keyValue.toString(),getScope());
    }
 else {
      logger.info("Key expression return null, no property will be removed");
    }
  }
  return message;
}
