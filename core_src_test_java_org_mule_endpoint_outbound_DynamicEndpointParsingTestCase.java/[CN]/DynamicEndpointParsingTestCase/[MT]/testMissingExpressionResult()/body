{
  OutboundEndpoint endpoint=createRequestResponseEndpoint("test://#[header:host]:#[header:port]");
  assertTrue(endpoint instanceof DynamicOutboundEndpoint);
  MuleEvent event=getTestEvent("test");
  event.getMessage().setOutboundProperty("port",12345);
  try {
    endpoint.process(event);
    fail("A required header is missing on the message");
  }
 catch (  DispatchException expected) {
    assertTrue(expected.getCause() instanceof RequiredValueException);
  }
}
