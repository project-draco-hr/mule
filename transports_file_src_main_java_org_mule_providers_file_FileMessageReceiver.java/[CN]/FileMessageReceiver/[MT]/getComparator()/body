{
  Object o=this.getEndpoint().getProperty(COMPARATOR_CLASS_NAME_PROPERTY);
  Object reverseProperty=this.getEndpoint().getProperty(COMPARATOR_REVERSE_ORDER_PROPERTY);
  boolean reverse=false;
  if (o != null) {
    if (reverseProperty != null) {
      reverse=Boolean.valueOf((String)reverseProperty).booleanValue();
    }
    Class clazz=Class.forName(o.toString());
    o=clazz.newInstance();
    return reverse ? new ReverseComparator((Comparator)o) : (Comparator)o;
  }
  return null;
}
