{
  try {
    File[] files=this.listFiles();
    if (logger.isDebugEnabled()) {
      logger.debug("Files: " + files);
    }
    Comparator comparator=getComparator();
    if (comparator != null) {
      Arrays.sort(files,comparator);
    }
    for (int i=0; i < files.length; i++) {
      if (files[i].isFile()) {
        this.processFile(files[i]);
      }
    }
  }
 catch (  Exception e) {
    this.handleException(e);
  }
}
