{
  MuleMessage result=message;
  Object temp=message;
  Transformer lastTransformer=null;
  for (Iterator iterator=transformers.iterator(); iterator.hasNext(); ) {
    lastTransformer=(Transformer)iterator.next();
    temp=lastTransformer.transform(temp);
    if (temp instanceof MuleMessage) {
      result=(MuleMessage)temp;
    }
 else {
      result.setPayload(temp);
    }
  }
  if (lastTransformer != null && DataTypeFactory.MULE_MESSAGE.equals(lastTransformer.getReturnDataType())) {
    return result;
  }
 else {
    return result.getPayload();
  }
}
