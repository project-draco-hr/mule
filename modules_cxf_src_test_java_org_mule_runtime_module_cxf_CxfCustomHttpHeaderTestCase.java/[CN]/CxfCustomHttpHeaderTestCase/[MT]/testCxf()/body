{
  String endpointAddress="http://localhost:" + dynamicPort.getValue() + "/services/TestComponent";
  String myProperty="myProperty";
  HashMap<String,Object> props=new HashMap<>();
  props.put(MuleProperties.MULE_USER_PROPERTY,"alan");
  props.put(MuleProperties.MULE_METHOD_PROPERTY,"onReceive");
  props.put(myProperty,myProperty);
  MuleMessage reply=muleContext.getClient().send(String.format(endpointAddress),new DefaultMuleMessage(REQUEST_PAYLOAD,props,muleContext),HTTP_REQUEST_OPTIONS);
  assertNotNull(reply);
  assertNotNull(reply.getPayload());
  assertEquals(SOAP_RESPONSE,getPayloadAsString(reply));
  latch.await(3000,SECONDS);
  assertEquals(1,notificationMsgList.size());
  assertEquals("alan",notificationMsgList.get(0).getInboundProperty(MuleProperties.MULE_USER_PROPERTY));
  assertNull(notificationMsgList.get(0).getInboundProperty(MuleProperties.MULE_IGNORE_METHOD_PROPERTY));
  assertEquals(myProperty,notificationMsgList.get(0).getInboundProperty(myProperty));
}
