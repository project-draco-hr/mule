{
  Object message=getTransformedMessage();
  if (expectedType != null && expectedType.isAssignableFrom(message.getClass())) {
    return message;
  }
 else {
    throw new TransformerException(CoreMessages.transformOnObjectNotOfSpecifiedType(this.getComponentDescriptor().getName(),expectedType),this.event.getEndpoint().getTransformer());
  }
}
