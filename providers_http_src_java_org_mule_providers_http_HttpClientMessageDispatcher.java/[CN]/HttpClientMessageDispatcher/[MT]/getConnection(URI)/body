{
  HttpConnection connection=null;
  Protocol protocol=Protocol.getProtocol(connector.getProtocol().toLowerCase());
  String host=uri.getHost();
  int port=uri.getPort();
  connection=new HttpConnection(host,port,protocol);
  connection.setProxyHost(connector.getProxyHostname());
  connection.setProxyPort(connector.getProxyPort());
  return connection;
}
