{
  MuleActivationSpec activationSpec=new MuleActivationSpec();
  activationSpec.setResourceAdapter(resourceAdapter);
  activationSpec.setModelName("jcaModel");
  activationSpec.setEndpoint("test://test");
  MessageEndpointFactory endpointFactory=new MockEndpointFactory();
  assertEquals(0,resourceAdapter.endpoints.size());
  resourceAdapter.endpointActivation(endpointFactory,activationSpec);
  assertEquals(1,resourceAdapter.endpoints.size());
  resourceAdapter.endpointDeactivation(endpointFactory,activationSpec);
  assertEquals(0,resourceAdapter.endpoints.size());
}
