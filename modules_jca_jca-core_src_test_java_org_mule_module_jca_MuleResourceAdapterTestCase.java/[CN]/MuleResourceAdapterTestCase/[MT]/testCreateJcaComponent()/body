{
  MessageEndpointFactory endpointFactory=new MockEndpointFactory();
  JcaModel jcaModel=resourceAdapter.getJcaModel("jca");
  MuleActivationSpec activationSpec=new MuleActivationSpec();
  activationSpec.setEndpoint("test://testEndpoint");
  InboundEndpoint endpoint=resourceAdapter.createMessageInflowEndpoint(activationSpec);
  Service service=resourceAdapter.createJcaService(endpointFactory,jcaModel,endpoint);
  assertNotNull(service);
  assertEquals("JcaService#" + endpointFactory.hashCode(),service.getName());
  assertNotNull(service);
  assertTrue(service instanceof JcaService);
  assertNotNull(service.getComponent());
  assertTrue(service.getComponent() instanceof JcaComponent);
  assertNotNull(((JcaComponent)service.getComponent()).workManager);
  testJcaService(service);
  testEndpoint(service);
  ImmutableEndpoint endpoint2=(ImmutableEndpoint)service.getInboundRouter().getEndpoints().get(0);
  assertEquals(endpoint,endpoint2);
  assertEquals(endpointFactory,((JcaComponent)service.getComponent()).messageEndpointFactory);
}
