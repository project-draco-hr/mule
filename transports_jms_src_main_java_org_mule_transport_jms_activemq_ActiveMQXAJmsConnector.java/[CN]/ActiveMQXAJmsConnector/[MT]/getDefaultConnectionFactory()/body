{
  try {
    ConnectionFactory connectionFactory=(ConnectionFactory)ClassUtils.instanciateClass(ACTIVEMQ_XA_CONNECTION_FACTORY_CLASS,getBrokerURL());
    applyVendorSpecificConnectionFactoryProperties(connectionFactory);
    return connectionFactory;
  }
 catch (  Exception e) {
    logger.warn(e);
    return null;
  }
}
