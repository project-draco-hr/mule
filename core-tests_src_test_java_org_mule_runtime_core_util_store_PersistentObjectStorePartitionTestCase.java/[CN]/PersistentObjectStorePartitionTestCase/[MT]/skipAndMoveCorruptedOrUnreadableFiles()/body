{
  final String KEY="key";
  final String VALUE="value";
  try {
    File.createTempFile("temp",".obj",objectStoreFolder.getRoot());
    File corruptedFolder=openDirectory(workingDirectory.getAbsolutePath() + File.separator + PersistentObjectStorePartition.CORRUPTED_FOLDER);
    int corruptedBefore=corruptedFolder.list().length;
    partition.store(KEY,VALUE);
    assertEquals(2,objectStoreFolder.getRoot().listFiles().length);
    assertEquals(corruptedBefore + 1,corruptedFolder.list().length);
  }
 catch (  Exception e) {
    fail("Supposed to have skipped corrupted or unreadable files");
  }
}
