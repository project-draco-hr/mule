{
  while (true) {
    if (stopRequested) {
      logger.debug("Received request to stop expiring group monitoring");
      break;
    }
    List<EventGroup> expired=new ArrayList<EventGroup>(1);
    for (    Object o : eventGroups.values()) {
      EventGroup group=(EventGroup)o;
      if ((group.getCreated() + getTimeout() * MILLI_TO_NANO_MULTIPLIER) < System.nanoTime()) {
        expired.add(group);
      }
    }
    if (expired.size() > 0) {
      for (      Object anExpired : expired) {
        EventGroup group=(EventGroup)anExpired;
        handleGroupExpiry(group);
      }
    }
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e) {
      break;
    }
  }
  logger.debug("Expiring group monitoring fully stopped");
}
