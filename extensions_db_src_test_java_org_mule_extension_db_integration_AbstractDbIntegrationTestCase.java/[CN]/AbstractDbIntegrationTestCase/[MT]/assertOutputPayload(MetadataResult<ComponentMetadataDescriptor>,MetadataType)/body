{
  assertThat(metadata.isSuccess(),is(true));
  assertThat(metadata.get().getOutputMetadata().isSuccess(),is(true));
  MetadataResult<TypeMetadataDescriptor> output=metadata.get().getOutputMetadata().get().getPayloadMetadata();
  assertThat(output.isSuccess(),is(true));
  assertThat(output.get().getType(),is(type));
}
