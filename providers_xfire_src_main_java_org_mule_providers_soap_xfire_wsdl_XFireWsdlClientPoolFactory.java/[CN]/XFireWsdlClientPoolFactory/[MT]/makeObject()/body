{
  String wsdlUrl=_uri.getAddress();
  String serviceName=wsdlUrl.substring(0,wsdlUrl.lastIndexOf('?'));
  Service service=_xfire.getServiceRegistry().getService(new QName(serviceName));
  Client client;
  if (service != null) {
    client=new Client(new MuleUniversalTransport(),service,wsdlUrl);
  }
 else {
    client=new Client(new URL(wsdlUrl));
    Service newService=client.getService();
    newService.setName(new QName(serviceName));
    _xfire.getServiceRegistry().register(newService);
  }
  client.setXFire(_xfire);
  client.setEndpointUri(_uri.toString());
  return client;
}
