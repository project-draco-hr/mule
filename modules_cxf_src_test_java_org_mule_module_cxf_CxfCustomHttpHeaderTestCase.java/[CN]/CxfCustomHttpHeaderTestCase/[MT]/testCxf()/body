{
  Object payload=new Object[]{"Test String"};
  String myProperty="myProperty";
  HashMap<String,Object> props=new HashMap<String,Object>();
  props.put(MuleProperties.MULE_USER_PROPERTY,"alan");
  props.put(MuleProperties.MULE_METHOD_PROPERTY,"onReceive");
  props.put(myProperty,myProperty);
  MuleClient client=muleContext.getClient();
  MuleMessage reply=client.send("cxf:" + endpointAddress,payload,props);
  assertNotNull(reply);
  assertNotNull(reply.getPayload());
  assertEquals("Test String Received",reply.getPayloadAsString());
  Thread.sleep(3000);
  assertEquals(2,notificationMsgList.size());
  assertEquals("alan",notificationMsgList.get(0).getOutboundProperty(MuleProperties.MULE_USER_PROPERTY));
  assertNull(notificationMsgList.get(0).getOutboundProperty(MuleProperties.MULE_IGNORE_METHOD_PROPERTY));
  assertEquals(myProperty,notificationMsgList.get(0).getOutboundProperty(myProperty));
}
