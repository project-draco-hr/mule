{
  OAuthManager<OAuthAdapter> module=this.getOAuthManager();
  if (oauthCallback == null) {
    FetchAccessTokenMessageProcessor fetchAccessTokenMessageProcessor=new FetchAccessTokenMessageProcessor((OAuthManager<OAuthAdapter>)moduleObject);
    oauthCallback=new DefaultHttpCallback(Arrays.asList(new ExtractAuthorizationCodeMessageProcessor(Pattern.compile(this.getAuthCodeRegex())),fetchAccessTokenMessageProcessor,listener),getMuleContext(),module.getDomain(),module.getLocalPort(),module.getRemotePort(),module.getPath(),module.getAsync(),getFlowConstruct().getExceptionListener(),module.getConnector());
    fetchAccessTokenMessageProcessor.setRedirectUri(oauthCallback.getUrl());
    if (accessTokenUrl != null) {
      fetchAccessTokenMessageProcessor.setAccessTokenUrl(accessTokenUrl);
    }
 else {
      fetchAccessTokenMessageProcessor.setAccessTokenUrl(module.getAccessTokenUrl());
    }
    oauthCallback.start();
  }
}
