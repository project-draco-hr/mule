{
  String ref=attributes.getValue(refAttrib);
  String container=null;
  if (containerAttrib != null) {
    container=attributes.getValue(containerAttrib);
  }
  if (ref != null) {
    Object cRef=ref;
    if (container != null) {
      cRef=new ContainerKeyPair(container,ref);
    }
    Object obj=getContainer().getComponent(cRef);
    digester.push(obj);
  }
 else {
    String classRef=attributes.getValue(classAttrib);
    if (classRef == null && classRefRequired) {
      throw new ConfigurationException(new Message(Messages.MUST_SPECIFY_REF_ATTRIB_X_OR_CLASS_ATTRIB_X_FOR_X,refAttrib,classAttrib,this.digester.getCurrentElementName()));
    }
 else {
      super.begin(attributes);
    }
  }
}
