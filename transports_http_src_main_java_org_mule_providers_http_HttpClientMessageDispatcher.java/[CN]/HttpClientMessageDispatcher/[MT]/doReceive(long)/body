{
  HttpMethod httpMethod=new GetMethod(endpoint.getEndpointURI().getAddress());
  setupAuthorization(null,httpMethod);
  boolean releaseConn=false;
  try {
    HttpClient client=new HttpClient();
    client.executeMethod(httpMethod);
    if (httpMethod.getStatusCode() == HttpStatus.SC_OK) {
      UMOMessage res=(UMOMessage)receiveTransformer.transform(httpMethod);
      if (StringUtils.EMPTY.equals(res.getPayload())) {
        releaseConn=true;
      }
      return res;
    }
 else {
      releaseConn=true;
      throw new ReceiveException(HttpMessages.requestFailedWithStatus(httpMethod.getStatusLine().toString()),endpoint,timeout);
    }
  }
 catch (  ReceiveException e) {
    releaseConn=true;
    throw e;
  }
catch (  Exception e) {
    releaseConn=true;
    throw new ReceiveException(endpoint,timeout,e);
  }
 finally {
    if (releaseConn) {
      httpMethod.releaseConnection();
    }
  }
}
