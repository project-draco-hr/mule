{
  if (client == null) {
    client=new HttpClient();
    HttpState state=new HttpState();
    if (connector.getProxyUsername() != null) {
      state.setProxyCredentials(new AuthScope(null,-1,null,null),new UsernamePasswordCredentials(connector.getProxyUsername(),connector.getProxyPassword()));
    }
    client.setState(state);
    client.setHttpConnectionManager(new MultiThreadedHttpConnectionManager());
    HeadMethod method=new HeadMethod(endpoint.getEndpointURI().getAddress());
    client.executeMethod(getHostConfig(endpoint.getEndpointURI().getUri()),method);
  }
}
