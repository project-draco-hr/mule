{
  FlowConstruct c=muleContext.getRegistry().lookupFlowConstruct("orange2");
  Object flow=getComponent(c);
  assertTrue("Flow should be an Orange",flow instanceof Orange);
  assertEquals(new Integer(8),((Orange)flow).getSegments());
  assertEquals("Florida Sunny",((Orange)flow).getBrand());
  flow=getComponent(c);
  assertTrue("Service should be an Orange",flow instanceof Orange);
  assertEquals(new Integer(8),((Orange)flow).getSegments());
  assertEquals("Florida Sunny",((Orange)flow).getBrand());
}
