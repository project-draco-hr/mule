{
  if (payload instanceof MuleMessage) {
    return ((MuleMessage)payload).getDataType();
  }
 else {
    DataType<?> dataType=DataTypeFactory.create(payload.getClass(),previous.getDataType().getMimeType());
    dataType.setEncoding(previous.getDataType().getEncoding());
    return dataType;
  }
}
