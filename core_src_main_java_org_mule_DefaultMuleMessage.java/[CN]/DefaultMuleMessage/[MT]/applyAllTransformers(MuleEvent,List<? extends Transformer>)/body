{
  if (!transformers.isEmpty()) {
    for (    Transformer transformer : transformers) {
      if (getPayload() == null) {
        if (transformer.isAcceptNull()) {
          setPayload(NullPayload.getInstance());
          setDataType(null);
        }
 else {
          if (logger.isDebugEnabled()) {
            logger.debug("Transformer " + transformer + " doesn't support the null payload, exiting from transformer chain.");
          }
          break;
        }
      }
      Class<?> srcCls=getPayload().getClass();
      DataType<?> originalSourceType=DataTypeFactory.create(srcCls);
      if (transformer.isSourceDataTypeSupported(originalSourceType)) {
        transformMessage(event,transformer);
      }
 else {
        if (logger.isDebugEnabled()) {
          logger.debug("Transformer " + transformer + " doesn't support the source payload: "+ srcCls);
        }
        if (!transformer.isIgnoreBadInput()) {
          throw new IllegalArgumentException("Cannot apply transformer " + transformer + " on source payload: "+ srcCls);
        }
      }
    }
  }
}
