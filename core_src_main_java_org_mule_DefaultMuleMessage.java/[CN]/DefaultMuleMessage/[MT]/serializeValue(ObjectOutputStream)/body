{
  if (getValue() instanceof Serializable) {
    out.writeBoolean(true);
    out.writeObject(getValue());
  }
 else {
    out.writeBoolean(false);
    byte[] valueAsByteArray=muleContext.getTransformationService().getPayloadAsBytes(this);
    out.writeInt(valueAsByteArray.length);
    new DataOutputStream(out).write(valueAsByteArray);
  }
}
