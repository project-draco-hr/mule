{
  setMuleContext(muleContext);
  initAppliedTransformerHashCodes();
  if (message instanceof MuleMessage) {
    MuleMessage muleMessage=(MuleMessage)message;
    setPayload(muleMessage.getPayload());
    copyMessageProperties(muleMessage);
  }
 else {
    setPayload(message);
    originalPayload=message;
  }
  addProperties(properties);
  resetAccessControl();
}
