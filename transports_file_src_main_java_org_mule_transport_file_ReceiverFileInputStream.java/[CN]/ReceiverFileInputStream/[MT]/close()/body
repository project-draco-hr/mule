{
  super.close();
  if (moveToOnClose != null) {
    boolean success=FileUtils.moveFile(currentFile,moveToOnClose);
    if (success == false) {
      log.error("Could not move " + currentFile.getAbsolutePath() + " to "+ moveToOnClose.getAbsolutePath());
    }
  }
 else   if (deleteOnClose) {
    if (!currentFile.delete()) {
      try {
        throw new DefaultMuleException(FileMessages.failedToDeleteFile(currentFile));
      }
 catch (      DefaultMuleException e) {
        IOException e2=new IOException();
        e2.initCause(e);
        throw e2;
      }
    }
  }
}
