{
  super.close();
  if (moveToOnClose != null) {
    FileUtils.moveFileWithCopyFallback(currentFile,moveToOnClose);
  }
 else   if (deleteOnClose) {
    if (!currentFile.delete()) {
      try {
        throw new DefaultMuleException(FileMessages.failedToDeleteFile(currentFile));
      }
 catch (      DefaultMuleException e) {
        IOException e2=new IOException();
        e2.initCause(e);
        throw e2;
      }
    }
  }
}
