{
  if (MULE_ENCODING_PROPERTY.equals(key)) {
    setDataType(DataType.builder().type(getDataType().getType()).charset((String)value).build());
  }
 else   if (CONTENT_TYPE_PROPERTY.equalsIgnoreCase(key)) {
    final DataTypeBuilder builder=DataType.builder();
    try {
      builder.mediaType((String)value);
    }
 catch (    IllegalArgumentException e) {
      if (Boolean.parseBoolean(System.getProperty(SYSTEM_PROPERTY_PREFIX + "strictContentType"))) {
        throw new IllegalArgumentException("Invalid Content-Type property value",e);
      }
 else {
        String encoding=defaultCharset().name();
        logger.warn(format("%s when parsing Content-Type '%s': %s",e.getClass().getName(),value,e.getMessage()));
        logger.warn(format("Using defualt encoding: %s",encoding));
        builder.charset(encoding);
      }
    }
    setDataType(builder.type(getDataType().getType()).build());
  }
}
