{
  Map properties=new HashMap();
  properties.put("delegateInstance",new Apple());
  try {
    UMOEndpoint endpoint=managementContext.getRegistry().createEndpointFromUri("test://in",UMOEndpoint.ENDPOINT_TYPE_RECEIVER,managementContext);
    MuleDescriptor desc=(MuleDescriptor)MuleTestUtils.createDescriptor(NoArgsCallWrapper.class.getName(),"WrapperUMO",endpoint,null,properties);
    managementContext.getRegistry().registerService(desc,managementContext);
  }
 catch (  UMOException e) {
    Throwable t=ExceptionUtils.getRootCause(e);
    assertNotNull(t);
    assertTrue(t instanceof InitialisationException);
    assertTrue("Wrong exception?",t.getMessage().indexOf("The required object/property") > -1);
  }
}
