{
  Map properties=new HashMap();
  properties.put("delegateClass",Apple.class.getName());
  properties.put("delegateMethod","wash");
  UMOEndpoint endpoint=managementContext.getRegistry().createEndpointFromUri("test://in",UMOEndpoint.ENDPOINT_TYPE_RECEIVER,managementContext);
  MuleDescriptor desc=(MuleDescriptor)MuleTestUtils.createDescriptor(NoArgsCallWrapper.class.getName(),"WrapperUMO",endpoint,null,properties);
  managementContext.getRegistry().registerService(desc,managementContext);
  UMOComponent component=managementContext.getRegistry().lookupSystemModel().getComponent("WrapperUMO");
  UMOEvent event=getTestEvent("Test",desc,endpoint);
  UMOMessage reply=component.sendEvent(event);
  assertNotNull(reply);
  assertNull(reply.getExceptionPayload());
  assertEquals("Test",reply.getPayload());
}
