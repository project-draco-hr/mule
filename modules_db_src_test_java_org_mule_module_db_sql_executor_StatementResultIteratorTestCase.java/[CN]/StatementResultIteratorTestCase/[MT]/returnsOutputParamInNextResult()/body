{
  int paramValue=7;
  when(statement.getResultSet()).thenReturn(null);
  when(statement.getUpdateCount()).thenReturn(StatementResultIterator.NO_UPDATE_COUNT);
  when(statement.getObject(1)).thenReturn(7);
  DefaultOutputQueryParam param1=new DefaultOutputQueryParam(1,UnknownDbType.getInstance(),"param1");
  List<QueryParam> params=new LinkedList<QueryParam>();
  params.add(param1);
  QueryTemplate queryTemplate=new QueryTemplate("dummy",QueryType.STORE_PROCEDURE_CALL,params);
  StatementResultIterator iterator=new StatementResultIterator(null,statement,queryTemplate,null,null);
  Object nextResult=iterator.next();
  assertThat(nextResult,is(instanceOf(OutputParamResult.class)));
  OutputParamResult outputParamResult=(OutputParamResult)nextResult;
  assertThat(outputParamResult.getName(),equalTo("param1"));
  assertThat((Integer)outputParamResult.getResult(),equalTo(paramValue));
}
