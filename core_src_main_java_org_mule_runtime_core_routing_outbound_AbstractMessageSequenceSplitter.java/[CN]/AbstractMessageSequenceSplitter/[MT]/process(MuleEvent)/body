{
  if (isSplitRequired(event)) {
    MessageSequence<?> seq=splitMessageIntoSequence(event);
    if (!seq.isEmpty()) {
      MuleEvent aggregatedResults=resultsHandler.aggregateResults(processParts(seq,event),event,muleContext);
      if (aggregatedResults instanceof VoidMuleEvent) {
        return null;
      }
 else {
        return aggregatedResults;
      }
    }
 else {
      logger.warn("Splitter returned no results. If this is not expected, please check your split expression");
      return VoidMuleEvent.getInstance();
    }
  }
 else {
    return processNext(event);
  }
}
