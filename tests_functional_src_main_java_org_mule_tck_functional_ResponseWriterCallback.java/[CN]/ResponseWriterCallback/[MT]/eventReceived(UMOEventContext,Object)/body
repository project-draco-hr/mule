{
  if (context.isSynchronous()) {
    throw new IllegalStateException("The ResponseWrterCallback should not be used for synchronous tests as it will cause two copies of the message to be written back to the client");
  }
  super.eventReceived(context,component);
  String result=context.getMessageAsString() + " Received Async";
  assert(context.getOutputStream() != null);
  context.getOutputStream().write(result.getBytes());
  context.getOutputStream().flush();
}
