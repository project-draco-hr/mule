{
  MetadataKey expectedAmerica=buildAmericaKey();
  MetadataKey expectedEurope=buildEuropeKey();
  componentId=new ProcessorId(SIMPLE_MULTILEVEL_KEY_RESOLVER,FIRST_PROCESSOR_INDEX);
  final MetadataResult<List<MetadataKey>> metadataKeysResult=metadataManager.getMetadataKeys(componentId);
  assertThat(metadataKeysResult.isSuccess(),is(true));
  final List<MetadataKey> metadataKeys=metadataKeysResult.get();
  assertThat(metadataKeys,hasSize(2));
  MetadataKey america=metadataKeys.get(0);
  assertThat(america,is(expectedAmerica));
  MetadataKey europe=metadataKeys.get(1);
  assertThat(europe,is(expectedEurope));
}
