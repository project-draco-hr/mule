{
  connectionManager.bind(config,connectionProvider);
  ArgumentCaptor<ConnectionHandlingStrategyFactory> captor=ArgumentCaptor.forClass(ConnectionHandlingStrategyFactory.class);
  verify(connectionProvider).getHandlingStrategy(captor.capture());
  getConnection();
  ConnectionHandlingStrategyFactory factory=captor.getValue();
  assertThat(factory,is(notNullValue()));
  ConnectionHandlingStrategy strategy=factory.supportsPooling();
  assertThat(strategy,instanceOf(PoolingConnectionHandlingStrategy.class));
  PoolingProfile poolingProfile=((PoolingConnectionHandlingStrategy)strategy).getPoolingProfile();
  assertThat(poolingProfile,equalTo(new PoolingProfile()));
}
