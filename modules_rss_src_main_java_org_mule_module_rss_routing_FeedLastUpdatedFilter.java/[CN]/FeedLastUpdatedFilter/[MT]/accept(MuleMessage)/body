{
  SyndFeed feed;
  try {
    feed=(SyndFeed)message.getPayload(DataTypeFactory.create(SyndFeed.class));
  }
 catch (  TransformerException e) {
    throw new MuleRuntimeException(CoreMessages.failedToReadPayload(),e);
  }
  Date updated=feed.getPublishedDate();
  if (updated == null) {
    if (isAcceptWithoutUpdateDate()) {
      if (logger.isDebugEnabled()) {
        logger.debug("Feed does not have a last updated or published date set, assuming the feed should be processed");
      }
      return true;
    }
 else {
      if (logger.isWarnEnabled()) {
        logger.warn("Feed does not have a last updated or published date set, not consuming the feed because 'acceptWithoutUpdateDate' is false");
      }
      return false;
    }
  }
  if (lastUpdate != null) {
    if (lastUpdate.after(updated) || lastUpdate.equals(updated)) {
      if (logger.isDebugEnabled()) {
        logger.debug("Feed update is not newer than the last update, not processing");
      }
      return false;
    }
  }
  lastUpdate=updated;
  return true;
}
