{
  for (Iterator iterator=message.getPropertyNames().iterator(); iterator.hasNext(); ) {
    String key=iterator.next().toString();
    if (JmsConstants.JMS_PROPERTY_NAMES.contains(key)) {
      Object value=message.getProperty(key);
      if (value instanceof String) {
        msg.setStringProperty(key,(String)value);
      }
 else       if (value instanceof Boolean) {
        msg.setBooleanProperty(key,(Boolean)value);
      }
 else       if (value instanceof Short) {
        msg.setShortProperty(key,(Short)value);
      }
 else       if (value instanceof Integer) {
        msg.setIntProperty(key,(Integer)value);
      }
 else       if (value instanceof Float) {
        msg.setFloatProperty(key,(Float)value);
      }
 else       if (value instanceof Double) {
        msg.setDoubleProperty(key,(Double)value);
      }
 else       if (value instanceof Byte) {
        msg.setByteProperty(key,(Byte)value);
      }
    }
 else {
      Object value=message.getProperty(key);
      if (MuleProperties.MULE_CORRELATION_ID_PROPERTY.equals(key)) {
        msg.setJMSCorrelationID(message.getCorrelationId());
      }
      if (!(MuleProperties.MULE_REPLY_TO_PROPERTY.equals(key) && value instanceof Destination)) {
        key=JmsMessageUtils.encodeHeader(key);
        try {
          msg.setObjectProperty(key,value);
        }
 catch (        JMSException e) {
          if (logger.isDebugEnabled()) {
            logger.debug("Unable to set property '" + key + "' of type "+ ClassUtils.getSimpleName(value.getClass())+ "': "+ e.getMessage());
          }
        }
      }
    }
  }
}
