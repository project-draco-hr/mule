{
  mockMetadataResolverFactory(sourceModel,new DefaultMetadataResolverFactory(MockResolver.class,emptyMap(),MockResolver.class,NullMetadataResolver.class));
  when(sourceModel.getOutput()).thenReturn(new ImmutableOutputModel(EMPTY,toMetadataType(Apple.class),false,emptySet()));
  validator.validate(extensionModel);
}
