{
  when(extensionModel.getOperationModels()).thenReturn(asList(operationModel));
  when(extensionModel.getSourceModels()).thenReturn(asList(sourceModel));
  when(operationModel.getOutput()).thenReturn(new ImmutableOutputModel("",toMetadataType(String.class),false,emptySet()));
  when(operationModel.getOutputAttributes()).thenReturn(new ImmutableOutputModel(EMPTY,create(JAVA).voidType().build(),false,emptySet()));
  when(operationModel.getName()).thenReturn("operation");
  mockMetadataResolverFactory(operationModel,null);
  when(sourceModel.getOutput()).thenReturn(new ImmutableOutputModel("",toMetadataType(String.class),false,emptySet()));
  when(sourceModel.getOutputAttributes()).thenReturn(new ImmutableOutputModel(EMPTY,create(JAVA).voidType().build(),false,emptySet()));
  when(sourceModel.getName()).thenReturn("source");
  mockMetadataResolverFactory(sourceModel,null);
  MetadataKeyIdModelProperty keyIdModelProperty=new MetadataKeyIdModelProperty(loader.load(InvalidMetadataKeyIdPojo.class));
  when(sourceModel.getModelProperty(MetadataKeyIdModelProperty.class)).thenReturn(of(keyIdModelProperty));
  when(operationModel.getModelProperty(MetadataKeyIdModelProperty.class)).thenReturn(empty());
}
