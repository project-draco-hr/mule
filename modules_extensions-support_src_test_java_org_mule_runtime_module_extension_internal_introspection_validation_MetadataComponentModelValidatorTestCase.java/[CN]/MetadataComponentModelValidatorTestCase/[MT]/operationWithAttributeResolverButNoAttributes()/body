{
  exception.expect(IllegalModelDefinitionException.class);
  when(extensionModel.getSourceModels()).thenReturn(emptyList());
  mockMetadataResolverFactory(operationModel,new DefaultMetadataResolverFactory(NullMetadataResolver.class,emptyMap(),SimpleOutputResolver.class,SimpleOutputResolver.class));
  when(operationModel.getModelProperty(MetadataKeyIdModelProperty.class)).thenReturn(empty());
  when(operationModel.getOutput()).thenReturn(new ImmutableOutputModel("",toMetadataType(Object.class),false,emptySet()));
  when(operationModel.getOutputAttributes()).thenReturn(new ImmutableOutputModel("",toMetadataType(void.class),false,emptySet()));
  validator.validate(extensionModel);
}
