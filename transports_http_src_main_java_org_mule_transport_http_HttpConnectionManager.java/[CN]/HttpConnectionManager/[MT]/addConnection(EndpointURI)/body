{
  try {
    String endpointKey=getKeyForEndpointUri(endpointURI);
    if (socketDispatchers.containsKey(endpointKey)) {
      socketDispatcherCount.put(endpointKey,socketDispatcherCount.get(endpointKey) + 1);
    }
 else {
      ServerSocket serverSocket=connector.getServerSocket(endpointURI.getUri());
      HttpRequestDispatcher httpRequestDispatcher=new HttpRequestDispatcher(connector,connector.getRetryPolicyTemplate(),serverSocket,workManager);
      socketDispatchers.put(endpointKey,httpRequestDispatcher);
      socketDispatcherCount.put(endpointKey,new Integer(1));
      workManager.scheduleWork(httpRequestDispatcher,WorkManager.INDEFINITE,null,connector);
    }
  }
 catch (  Exception e) {
    throw new ConnectException(e,connector);
  }
}
