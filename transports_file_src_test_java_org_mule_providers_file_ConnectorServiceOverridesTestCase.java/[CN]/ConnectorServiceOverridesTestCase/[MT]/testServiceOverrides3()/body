{
  UMOEndpointURI uri=new MuleEndpointURI("file:///temp?connector=fileConnector1");
  UMOEndpoint endpoint=managementContext.getRegistry().getOrCreateEndpointForUri(uri,UMOEndpoint.ENDPOINT_TYPE_RECEIVER);
  assertNotNull(endpoint);
  assertNotNull(endpoint.getConnector());
  assertNull(((AbstractConnector)endpoint.getConnector()).getServiceOverrides());
  endpoint=new MuleEndpoint("file:///temp?connector=fileConnector1",true);
  FileConnector c=(FileConnector)managementContext.getRegistry().lookupConnector("fileConnector2");
  assertNotNull(c);
  assertNotNull(c.getServiceOverrides());
  endpoint.setConnector(c);
  endpoint.initialise();
  assertNotNull(((AbstractConnector)endpoint.getConnector()).getServiceOverrides());
  endpoint=new MuleEndpoint("file:///temp?connector=fileConnector3",true);
  endpoint.initialise();
  assertNull(((AbstractConnector)endpoint.getConnector()).getServiceOverrides());
  endpoint=new MuleEndpoint("file:///temp?connector=fileConnector2",true);
  endpoint.initialise();
  assertNotNull(((AbstractConnector)endpoint.getConnector()).getServiceOverrides());
}
