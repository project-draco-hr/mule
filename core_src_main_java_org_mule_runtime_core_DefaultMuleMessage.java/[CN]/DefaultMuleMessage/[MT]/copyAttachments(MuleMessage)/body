{
  if (previous.getInboundAttachmentNames().size() > 0) {
    for (    String name : previous.getInboundAttachmentNames()) {
      try {
        inboundAttachments.put(name,previous.getInboundAttachment(name));
      }
 catch (      Exception e) {
        throw new MuleRuntimeException(CoreMessages.failedToReadAttachment(name),e);
      }
    }
  }
  if (previous.getOutboundAttachmentNames().size() > 0) {
    for (    String name : previous.getOutboundAttachmentNames()) {
      try {
        addOutboundAttachment(name,previous.getOutboundAttachment(name));
      }
 catch (      Exception e) {
        throw new MuleRuntimeException(CoreMessages.failedToReadAttachment(name),e);
      }
    }
  }
}
