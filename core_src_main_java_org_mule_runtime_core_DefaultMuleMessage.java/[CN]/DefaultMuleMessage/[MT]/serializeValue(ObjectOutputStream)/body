{
  if (getValue() instanceof Serializable) {
    out.writeBoolean(true);
    out.writeObject(getValue());
  }
 else {
    out.writeBoolean(false);
    byte[] valueAsByteArray=(byte[])muleContext.getTransformationService().transform(this,DataType.BYTE_ARRAY).getPayload();
    out.writeInt(valueAsByteArray.length);
    new DataOutputStream(out).write(valueAsByteArray);
  }
}
