{
  boolean valueSerialized=in.readBoolean();
  if (valueSerialized) {
    setValue(in.readObject());
  }
 else {
    int length=in.readInt();
    byte[] valueAsByteArray=new byte[length];
    new DataInputStream(in).readFully(valueAsByteArray);
    setValue(valueAsByteArray);
  }
}
