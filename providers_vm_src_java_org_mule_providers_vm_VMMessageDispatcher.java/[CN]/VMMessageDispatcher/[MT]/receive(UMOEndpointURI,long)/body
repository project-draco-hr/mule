{
  if (!connector.isQueueEvents()) {
    throw new UnsupportedOperationException("Receive only supported on the VM Queue Connector");
  }
  QueueSession queueSession=null;
  try {
    queueSession=connector.getQueueSession();
    Queue queue=queueSession.getQueue(endpointUri.getAddress());
    if (queue == null) {
      return null;
    }
 else {
      UMOEvent event=null;
      try {
        event=(UMOEvent)queue.poll(timeout);
      }
 catch (      InterruptedException e) {
        logger.error("failed to receive event from queue: " + endpointUri);
      }
      if (event != null) {
        return event.getMessage();
      }
      return null;
    }
  }
 catch (  Exception e) {
    throw e;
  }
}
