{
  UMOEndpointURI endpointUri=event.getEndpoint().getEndpointURI();
  if (endpointUri == null) {
    throw new DispatchException(new Message(Messages.X_IS_NULL,"Endpoint"),event.getMessage(),event.getEndpoint());
  }
  if (connector.isQueueEvents()) {
    BoundedPersistentQueue queue=connector.createQueue(endpointUri.getAddress());
    queue.put(event);
  }
 else {
    VMMessageReceiver receiver=connector.getReceiver(event.getEndpoint().getEndpointURI());
    if (receiver == null) {
      logger.warn("No receiver for endpointUri: " + event.getEndpoint().getEndpointURI());
      return;
    }
    receiver.onEvent(event);
  }
  logger.debug("dispatched Event on endpointUri: " + endpointUri);
}
