{
  this.muleHome=muleHome;
  String mavenRepoVar=System.getProperty("m2.repo");
  if (!StringUtils.isBlank(mavenRepoVar)) {
    mavenRepo=FileUtils.newFile(mavenRepoVar);
    if (!mavenRepo.exists() || !mavenRepo.isDirectory()) {
      mavenRepo=null;
    }
  }
  client=new HttpClient();
  HttpConnectionManagerParams connParams=new HttpConnectionManagerParams();
  connParams.setConnectionTimeout(10000);
  client.getHttpConnectionManager().setParams(connParams);
  hostConfig=new HostConfiguration();
  if (StringUtils.isNotBlank(proxyHostname)) {
    hostConfig.setProxy(proxyHostname,NumberUtils.toInt(proxyPort));
  }
  httpState=new HttpState();
  if (StringUtils.isNotBlank(proxyUsername)) {
    httpState.setProxyCredentials(new AuthScope(null,-1,null,null),new UsernamePasswordCredentials(proxyUsername,proxyPassword));
  }
}
