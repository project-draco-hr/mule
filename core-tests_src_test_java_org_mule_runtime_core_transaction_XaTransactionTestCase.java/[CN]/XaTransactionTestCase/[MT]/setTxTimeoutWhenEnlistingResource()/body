{
  javax.transaction.Transaction tx=mock(javax.transaction.Transaction.class);
  when(mockTransactionManager.getTransaction()).thenReturn(tx);
  XaTransaction xaTransaction=new XaTransaction(mockMuleContext);
  int timeoutValue=1500;
  int timeoutValueInSeconds=1500 / 1000;
  xaTransaction.setTimeout(timeoutValue);
  xaTransaction.begin();
  xaTransaction.enlistResource(mockXaResource);
  verify(mockXaResource).setTransactionTimeout(timeoutValueInSeconds);
}
