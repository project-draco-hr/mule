{
  MuleEvent result;
  if (messagingExceptionHandler != null) {
    result=messagingExceptionHandler.handleException(exception,exception.getEvent());
  }
 else {
    result=exception.getEvent().getFlowConstruct().getExceptionListener().handleException(exception,event);
  }
  exception.setProcessedEvent(result);
  if (!exception.handled()) {
    super.processExceptionReplyTo(event,exception,replyTo);
  }
 else {
    completionHandler.onCompletion(exception.getEvent());
  }
}
