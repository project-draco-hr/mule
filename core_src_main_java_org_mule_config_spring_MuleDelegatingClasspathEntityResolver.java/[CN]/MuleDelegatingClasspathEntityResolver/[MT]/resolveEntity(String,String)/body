{
  if (systemId.indexOf(BASE_RESOURCE_PATH) > 0) {
    String resourcePath=systemId.substring(systemId.lastIndexOf(BASE_RESOURCE_PATH));
    Resource resource=this.resourceLoader.getResource(resourcePath);
    if (resource != null) {
      InputSource source=new InputSource(resource.getInputStream());
      source.setPublicId(publicId);
      source.setSystemId(systemId);
      if (logger.isDebugEnabled()) {
        logger.debug("Found XML entity [" + systemId + "]: "+ resource);
      }
      return source;
    }
  }
  return super.resolveEntity(publicId,systemId);
}
