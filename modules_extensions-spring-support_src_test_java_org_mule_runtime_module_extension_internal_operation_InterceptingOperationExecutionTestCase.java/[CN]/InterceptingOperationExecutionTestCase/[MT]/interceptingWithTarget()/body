{
  final String payload="Hello!";
  MuleEvent event=flowRunner("interceptingWithTarget").withPayload(payload).run();
  assertThat(event.getMessage().getPayload(),is(payload));
  MuleMessage message=event.getFlowVariable("banana");
  assertThat(message.getPayload(),is(instanceOf(Banana.class)));
  final Banana banana=message.getPayload();
  assertThat(banana.isPeeled(),is(true));
  assertThat(banana.isBitten(),is(true));
  assertThat(config.getBananasCount(),is(0));
  assertThat(config.getNonBananasCount(),is(1));
  assertThat(config.getExceptionCount(),is(0));
}
