{
  ArrayList<XmlSchemaAttributeOrGroupRef> attributes=generateAttributes(schema,operationExtension.getParameters());
  if (moduleExtension.hasConfig()) {
    XmlSchemaAttribute configRefAttribute=new XmlSchemaAttribute(schema,false);
    configRefAttribute.setName(MODULE_OPERATION_CONFIG_REF);
    QName attributeTypeQName=new QName(MULE_NAMESPACE,MULE_SUBSTITUTABLE_NAME_TYPE,MULE_PREFIX);
    configRefAttribute.setSchemaTypeName(attributeTypeQName);
    configRefAttribute.setUse(XmlSchemaUse.REQUIRED);
    attributes.add(configRefAttribute);
  }
  return generateSchemaType(schema,operationExtension.getName(),ABSTRACT_MESSAGE_PROCESSOR_TYPE,attributes);
}
