{
  ConnectionFactory wrappedConnectionFactory=connectionFactory;
  if (isXaConnectionFactory(connectionFactory) && muleContext.getTransactionManager() != null) {
    wrappedConnectionFactory=new ConnectionFactoryWrapper(connectionFactory,jmsConnector.getSameRMOverrideValue());
  }
  return wrappedConnectionFactory;
}
