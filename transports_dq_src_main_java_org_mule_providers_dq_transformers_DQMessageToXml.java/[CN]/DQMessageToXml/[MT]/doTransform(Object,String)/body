{
  DQMessage msg=(DQMessage)src;
  try {
    org.dom4j.Document document=DocumentHelper.createDocument();
    Element root=document.addElement(DQMessage.XML_ROOT);
    Iterator it=msg.getEntryNames().iterator();
    String name;
    Object field;
    while (it.hasNext()) {
      name=(String)it.next();
      field=msg.getEntry(name);
      if (field instanceof String) {
        String f=((String)field).trim();
        field=(f.length() == 0) ? null : f;
      }
      if (field != null) {
        root.addElement(DQMessage.XML_ENTRY).addAttribute(DQMessage.XML_NAME,name).addText(field.toString());
      }
    }
    return document.asXML();
  }
 catch (  Exception e) {
    throw new TransformerException(this,e);
  }
}
