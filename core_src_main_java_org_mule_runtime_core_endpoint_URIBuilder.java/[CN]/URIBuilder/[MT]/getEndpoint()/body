{
  if (null == cache.get()) {
    try {
      EndpointURI endpointUri=new MuleEndpointURI(getConstructor(),getEncodedConstructor(),muleContext);
      cache.compareAndSet(null,endpointUri);
    }
 catch (    EndpointException e) {
      throw (IllegalStateException)new IllegalStateException("Bad endpoint configuration").initCause(e);
    }
  }
  return cache.get();
}
