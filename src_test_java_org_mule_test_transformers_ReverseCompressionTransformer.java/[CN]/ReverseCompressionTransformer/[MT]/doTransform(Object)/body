{
  String msg=(String)src;
  if (!getDoCompression()) {
    return new StringBuffer(msg).reverse().toString();
  }
  try {
    if (CompressionHelper.isCompressed(msg.getBytes())) {
      msg=new String(uncompressMessage(src));
      return new StringBuffer(msg).reverse().toString();
    }
 else {
      msg=new StringBuffer(msg).reverse().toString();
      return new String(compressMessage(msg));
    }
  }
 catch (  IOException e) {
    throw new TransformerException("Failed: " + e.getMessage(),e);
  }
}
