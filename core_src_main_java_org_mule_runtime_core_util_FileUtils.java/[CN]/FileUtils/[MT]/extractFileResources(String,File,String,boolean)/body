{
  File file=FileUtils.newFile(path);
  if (!file.exists()) {
    throw new IOException("The resource by path " + path + " ");
  }
  if (file.isDirectory()) {
    if (keepParentDirectory) {
      outputDir=FileUtils.newFile(outputDir.getPath() + File.separator + resourceName);
      if (!outputDir.exists()) {
        outputDir.mkdirs();
      }
    }
 else {
      outputDir=FileUtils.newFile(outputDir.getPath());
    }
    copyDirectory(file,outputDir);
  }
 else {
    if (keepParentDirectory) {
      outputDir=FileUtils.newFile(outputDir.getPath() + File.separator + resourceName);
    }
 else {
      outputDir=FileUtils.newFile(outputDir.getPath() + File.separator + file.getName());
    }
    copyFile(file,outputDir);
  }
}
