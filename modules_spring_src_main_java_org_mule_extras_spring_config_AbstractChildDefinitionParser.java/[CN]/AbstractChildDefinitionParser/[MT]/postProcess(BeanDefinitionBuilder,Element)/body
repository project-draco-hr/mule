{
  String parentBean=((Element)element.getParentNode()).getAttribute("id");
  if (StringUtils.isBlank(parentBean)) {
    parentBean=StringUtils.EMPTY + beanDefinition.hashCode();
  }
  String name=parentBean + "-" + element.getNodeName();
  element.setAttribute("id",name);
  BeanDefinition parent=registry.getBeanDefinition(parentBean);
  String propertyName=getPropertyName(element);
  PropertyValue pv;
  pv=parent.getPropertyValues().getPropertyValue(propertyName);
  if (pv == null) {
    propertyName+="s";
    pv=parent.getPropertyValues().getPropertyValue(propertyName);
  }
  if (pv != null) {
    if (!(pv.getValue() instanceof List)) {
      Object o=pv.getValue();
      ManagedList l=new ManagedList();
      l.add(o);
      parent.getPropertyValues().removePropertyValue(propertyName);
      pv=new PropertyValue(propertyName + "s",l);
      parent.getPropertyValues().addPropertyValue(pv);
    }
    ((List)pv.getValue()).add(beanDefinition);
  }
 else {
    pv=new PropertyValue(getPropertyName(element),beanDefinition);
  }
  parent.getPropertyValues().addPropertyValue(pv);
}
