{
  if (activationSpec.getClass().equals(MuleActivationSpec.class)) {
    MuleEndpointKey key=new MuleEndpointKey(endpointFactory,(MuleActivationSpec)activationSpec);
    UMODescriptor descriptor=(UMODescriptor)endpoints.get(key);
    if (descriptor == null) {
      logger.warn("No endpoint was registered with key: " + key);
      return;
    }
    try {
      MuleManager.getRegistry().unregisterComponent(descriptor.getName());
    }
 catch (    UMOException e) {
      logger.error(e.getMessage(),e);
    }
  }
}
