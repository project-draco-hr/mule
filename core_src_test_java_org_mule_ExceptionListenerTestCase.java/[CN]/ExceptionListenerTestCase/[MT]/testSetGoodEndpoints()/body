{
  List<OutboundEndpoint> list=new ArrayList<OutboundEndpoint>();
  list.add(getTestOutboundEndpoint("test"));
  list.add(getTestOutboundEndpoint("test"));
  AbstractExceptionListener router=new DefaultServiceExceptionStrategy(muleContext);
  assertNotNull(router.getMessageProcessors());
  assertEquals(0,router.getMessageProcessors().size());
  router.addEndpoint(getTestOutboundEndpoint("test"));
  assertEquals(1,router.getMessageProcessors().size());
  router.setMessageProcessors(list);
  assertNotNull(router.getMessageProcessors());
  assertEquals(2,router.getMessageProcessors().size());
}
