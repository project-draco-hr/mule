{
  if (!app.getMuleContext().getLifecycleManager().isDirectTransition(Stoppable.PHASE_NAME)) {
    return;
  }
  try {
    app.stop();
  }
 catch (  Throwable t) {
    logger.error(String.format("Unable to cleanly stop application '%s'. Restart Mule if you get errors redeploying this application",app.getAppName()),t);
  }
}
