{
  if (!url.toString().endsWith(".zip")) {
    throw new IllegalArgumentException("Only Mule application zips are supported: " + url);
  }
  final File appsDir=MuleContainerBootstrapUtils.getMuleAppsDir();
  String appName;
  try {
    final String fullPath=url.toURI().toString();
    if (logger.isInfoEnabled()) {
      logger.info("Exploding a Mule application archive: " + fullPath);
    }
    appName=FilenameUtils.getBaseName(fullPath);
    File appDir=new File(appsDir,appName);
    final File source=new File(url.toURI());
    FileUtils.unzip(source,appDir);
    if ("file".equals(url.getProtocol())) {
      FileUtils.deleteQuietly(source);
    }
  }
 catch (  URISyntaxException e) {
    final IOException ex=new IOException(e.getMessage());
    ex.fillInStackTrace();
    throw ex;
  }
  return deploymentService.getAppFactory().createApp(appName);
}
