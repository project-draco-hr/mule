{
  String cacheFlow="CacheRouterWithSpringObjectStore";
  CachingMessageProcessor cacheMessageProcessor=getCachingMessageProcessorFromFlow(cacheFlow);
  assertTrue(cacheMessageProcessor.getFilter() instanceof AcceptAllFilter);
  CachingStrategy cachingStrategy=cacheMessageProcessor.getCachingStrategy();
  assertTrue(cachingStrategy instanceof ObjectStoreCachingStrategy);
  ObjectStoreCachingStrategy objectStoreCachingStrategy=(ObjectStoreCachingStrategy)cachingStrategy;
  assertTrue(objectStoreCachingStrategy.getConsumableFilter() instanceof ConsumableMuleMessageFilter);
  assertTrue(objectStoreCachingStrategy.getKeyGenerator() instanceof MD5MuleEventKeyGenerator);
  assertEquals("org.mule.util.store.TextFileObjectStore",objectStoreCachingStrategy.getStore().getClass().getName());
  assertTrue(objectStoreCachingStrategy.getResponseGenerator() instanceof DefaultResponseGenerator);
}
