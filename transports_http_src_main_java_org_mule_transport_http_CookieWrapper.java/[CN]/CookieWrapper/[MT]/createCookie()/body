{
  Cookie cookie=new Cookie();
  cookie.setName(getName());
  cookie.setValue(getValue());
  cookie.setDomain(domain);
  cookie.setPath(path);
  if (expiryDate != null) {
    cookie.setExpiryDate(getExpiryDateFromString(expiryDate));
  }
  if (maxAge != null && expiryDate == null) {
    cookie.setExpiryDate(new Date(System.currentTimeMillis() + Integer.valueOf(maxAge) * 1000L));
  }
  if (secure != null) {
    cookie.setSecure(Boolean.valueOf(secure));
  }
  if (version != null) {
    cookie.setVersion(Integer.valueOf(version));
  }
  return cookie;
}
