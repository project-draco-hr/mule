{
  MuleEvent result=flowRunner("SubFlowViaFlowRef").withPayload("").run();
  assertThat(result.getMessageAsString(muleContext),is("1xyz2"));
  assertThat(result.getMessage().getOutboundProperty(LIFECYCLE_TRACKER_PROCESSOR_PROPERTY),is("[setMuleContext, setService, setMuleContext, initialise, start]"));
  assertThat(result.getFlowVariable(FLOW_CONSRUCT_PROPERTY),is(muleContext.getRegistry().lookupFlowConstruct("SubFlowViaFlowRef")));
}
