{
  MuleMessage result=flowRunner("SubFlowViaProcessorRef").withPayload("").run().getMessage();
  assertEquals("1xyz2",getPayloadAsString(result));
  assertEquals("[setMuleContext, setService, setMuleContext, initialise, start]",result.getOutboundProperty(LifecycleTrackerProcessor.LIFECYCLE_TRACKER_PROCESSOR_PROPERTY));
  assertEquals(muleContext.getRegistry().lookupFlowConstruct("SubFlowViaProcessorRef"),result.getOutboundProperty(LifecycleTrackerProcessor.FLOW_CONSRUCT_PROPERTY));
}
