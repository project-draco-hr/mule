{
  MuleEvent result=flowRunner("SubFlowViaProcessorRef").withPayload("").run();
  assertEquals("1xyz2",result.getMessageAsString(muleContext));
  assertEquals("[setMuleContext, setService, setMuleContext, initialise, start]",result.getMessage().getOutboundProperty(LifecycleTrackerProcessor.LIFECYCLE_TRACKER_PROCESSOR_PROPERTY));
  assertEquals(muleContext.getRegistry().lookupFlowConstruct("SubFlowViaProcessorRef"),result.getFlowVariable(LifecycleTrackerProcessor.FLOW_CONSRUCT_PROPERTY));
}
