{
  MuleClient client=muleContext.getClient();
  MuleMessage result=client.send("vm://ProcessorChainViaProcessorRef","",null);
  assertEquals("1xyz2",getPayloadAsString(result));
  assertEquals("[setMuleContext, setService, setMuleContext, initialise, start]",result.getInboundProperty(LifecycleTrackerProcessor.LIFECYCLE_TRACKER_PROCESSOR_PROPERTY));
  assertEquals(muleContext.getRegistry().lookupFlowConstruct("ProcessorChainViaProcessorRef"),result.getInboundProperty(LifecycleTrackerProcessor.FLOW_CONSRUCT_PROPERTY));
}
