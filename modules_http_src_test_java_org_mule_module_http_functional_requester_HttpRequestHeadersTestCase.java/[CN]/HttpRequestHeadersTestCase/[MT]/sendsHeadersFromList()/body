{
  Flow flow=(Flow)getFlowConstruct("headerList");
  MuleEvent event=getTestEvent(TEST_MESSAGE);
  event.getMessage().setInvocationProperty("headerName","testName2");
  event.getMessage().setInvocationProperty("headerValue","testValue2");
  flow.process(event);
  assertThat(getFirstReceivedHeader("testName1"),equalTo("testValue1"));
  assertThat(getFirstReceivedHeader("testName2"),equalTo("testValue2"));
}
