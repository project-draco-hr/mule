{
  MuleNature nature=MuleCorePlugin.getDefault().getMuleNature(project);
  IMuleModel model=nature.getMuleModel().createWorkingCopy();
  ConfigSet[] configs=sample.getConfigSets();
  for (int i=0; i < configs.length; i++) {
    ConfigSet config=configs[i];
    IFile file=(IFile)resources.get(config.getConfigPath());
    if (file != null) {
      IMuleConfiguration newConfig=model.createNewMuleConfiguration(config.getConfigName(),file.getProjectRelativePath().toString());
      model.addMuleConfiguration(newConfig);
      IMuleConfigSet newSet=model.createNewMuleConfigSet(config.getName());
      newSet.addConfiguration(newConfig);
      model.addMuleConfigSet(newSet);
    }
  }
  model.save();
}
