{
  this.muleContext=muleContext;
  uri=preprocessUri(uri);
  String startUri=uri;
  uri=convertExpressionDelimiters(uri,"#");
  uri=convertExpressionDelimiters(uri,"$");
  if (uri.indexOf("#[") >= 0) {
    address=uri;
    dynamic=true;
  }
 else {
    try {
      this.uri=new URI((encodedUri != null && uri.equals(startUri)) ? preprocessUri(encodedUri) : uri);
    }
 catch (    URISyntaxException e) {
      throw new MalformedEndpointException(uri,e);
    }
    this.userInfo=this.uri.getUserInfo();
  }
}
