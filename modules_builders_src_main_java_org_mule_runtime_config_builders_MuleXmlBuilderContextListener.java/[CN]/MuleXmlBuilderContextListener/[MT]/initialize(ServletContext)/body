{
  String config=context.getInitParameter(INIT_PARAMETER_MULE_CONFIG);
  if (config == null) {
    config=getDefaultConfigResource();
    if (logger.isDebugEnabled()) {
      logger.debug("No Mule config file(s) specified, using default: " + config);
    }
  }
 else {
    if (logger.isDebugEnabled()) {
      logger.debug("Mule config file(s): " + config);
    }
  }
  try {
    muleContext=createMuleContext(config,context);
    context.setAttribute(MuleProperties.MULE_CONTEXT_PROPERTY,muleContext);
    muleContext.start();
  }
 catch (  MuleException ex) {
    context.log(ex.getMessage(),ex);
    ex.printStackTrace();
  }
catch (  Error error) {
    context.log(error.getMessage(),error);
    error.printStackTrace();
    throw error;
  }
}
