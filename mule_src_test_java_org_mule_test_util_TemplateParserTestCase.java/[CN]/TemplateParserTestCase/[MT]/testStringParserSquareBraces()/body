{
  TemplateParser tp=TemplateParser.createSquareBracesStyleParser();
  Map props=new HashMap();
  props.put("fromAddress","ross.mason@symphonysoft.com");
  String string="smtp://[fromAddress]";
  String result=tp.parse(props,string);
  assertEquals("smtp://ross.mason@symphonysoft.com",result);
  string="smtp://[toAddress]";
  result=tp.parse(props,string);
  assertEquals("smtp://",result);
}
