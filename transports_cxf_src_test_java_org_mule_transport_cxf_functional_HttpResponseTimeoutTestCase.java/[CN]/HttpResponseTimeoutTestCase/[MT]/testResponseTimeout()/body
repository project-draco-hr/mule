{
  MuleClient client=new MuleClient();
  Date beforeCall=new Date();
  MuleMessage message=client.send("vm://request","<test/>",null);
  assertNotNull(message);
  Date afterCall=new Date();
  assertTrue(message.getExceptionPayload().getRootException() instanceof SocketTimeoutException);
  assertTrue((afterCall.getTime() - beforeCall.getTime()) < 10000);
}
