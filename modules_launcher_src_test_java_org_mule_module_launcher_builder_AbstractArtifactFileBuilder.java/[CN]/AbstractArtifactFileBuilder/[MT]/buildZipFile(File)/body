{
  ZipOutputStream out=new ZipOutputStream(new FileOutputStream(tempFile));
  try {
    for (    ZipResource zipResource : resources) {
      addZipResource(out,zipResource);
    }
    addCustomFileContent(out);
  }
  finally {
    out.close();
  }
}
