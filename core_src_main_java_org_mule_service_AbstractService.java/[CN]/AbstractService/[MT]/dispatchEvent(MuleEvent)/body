{
  if (stopping.get() || stopped.get()) {
    throw new ServiceException(CoreMessages.componentIsStopped(name),event.getMessage(),this);
  }
  ImmutableEndpoint endpoint=event.getEndpoint();
  if (endpoint instanceof OutboundEndpoint) {
    try {
      ((OutboundEndpoint)endpoint).dispatch(event);
    }
 catch (    Exception e) {
      throw new DispatchException(event.getMessage(),event.getEndpoint(),e);
    }
    return;
  }
  if (logger.isDebugEnabled()) {
    logger.debug("Service: " + name + " has received asynchronous event on: "+ event.getEndpoint().getEndpointURI());
  }
  if (stats.isEnabled()) {
    stats.incReceivedEventASync();
  }
  doDispatch(event);
}
