{
  @SuppressWarnings("unchecked") List<InboundEndpoint> endpoints=getIncomingEndpoints();
  for (  InboundEndpoint endpoint : endpoints) {
    MessageReceiver receiver=((AbstractConnector)endpoint.getConnector()).getReceiver(this,endpoint);
    if (receiver != null) {
      try {
        receiver.disconnect();
      }
 catch (      Exception e) {
        throw new ModelException(MessageFactory.createStaticMessage("Failed to disconnect listener " + receiver + " for endpoint "+ endpoint.getName()),e);
      }
    }
  }
}
