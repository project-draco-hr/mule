{
  ImmutableEndpoint endpoint;
  List endpoints=getIncomingEndpoints();
  for (Iterator it=endpoints.iterator(); it.hasNext(); ) {
    endpoint=(ImmutableEndpoint)it.next();
    MessageReceiver receiver=((AbstractConnector)endpoint.getConnector()).getReceiver(this,endpoint);
    if (receiver != null) {
      if (LifecycleTransitionResult.OK != receiver.stop()) {
        throw new LifecycleException(CoreMessages.nestedRetry(),receiver);
      }
    }
  }
  return LifecycleTransitionResult.OK;
}
