{
  XMLInputFactory xif=XMLInputFactory.newInstance();
  XMLStreamReader coreReader=xif.createXMLStreamReader(getClass().getResourceAsStream("/simple.xml"));
  ReversibleXMLStreamReader xsr=new ReversibleXMLStreamReader(coreReader);
  xsr.setTracking(true);
  assertEquals(XMLStreamConstants.SPACE,xsr.next());
  assertEquals(XMLStreamConstants.START_ELEMENT,xsr.next());
  QName start=xsr.getName();
  assertEquals(XMLStreamConstants.CHARACTERS,xsr.next());
  String text=xsr.getText();
  xsr.reset();
  assertEquals(XMLStreamConstants.START_ELEMENT,xsr.next());
  assertEquals(start,xsr.getName());
  assertEquals(XMLStreamConstants.CHARACTERS,xsr.next());
  assertEquals(text,xsr.getText());
  assertEquals(XMLStreamConstants.END_ELEMENT,xsr.next());
  assertEquals(XMLStreamConstants.SPACE,xsr.next());
  assertEquals(XMLStreamConstants.END_DOCUMENT,xsr.next());
  xsr.reset();
  assertEquals(XMLStreamConstants.START_ELEMENT,xsr.next());
  assertEquals(start,xsr.getName());
  assertEquals(XMLStreamConstants.CHARACTERS,xsr.next());
  assertEquals(text,xsr.getText());
  assertEquals(XMLStreamConstants.END_ELEMENT,xsr.next());
  assertEquals(XMLStreamConstants.END_DOCUMENT,xsr.next());
}
