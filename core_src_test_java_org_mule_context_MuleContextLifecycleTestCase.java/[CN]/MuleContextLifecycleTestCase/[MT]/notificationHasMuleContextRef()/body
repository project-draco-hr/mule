{
  MuleContext ctx=ctxBuilder.buildMuleContext();
  ctx.initialise();
  new DefaultsConfigurationBuilder().configure(ctx);
  final AtomicReference<MuleContext> notifCtx=new AtomicReference<MuleContext>();
  final AtomicReference<String> resourceId=new AtomicReference<String>();
  MuleContextNotificationListener listener=new MuleContextNotificationListener<MuleContextNotification>(){
    public void onNotification(    MuleContextNotification notification){
      notifCtx.set(notification.getMuleContext());
      resourceId.set(notification.getResourceIdentifier());
    }
  }
;
  ctx.registerListener(listener);
  ctx.start();
  assertNotNull(notifCtx.get());
  assertSame(ctx,notifCtx.get());
  assertEquals(ctx.getConfiguration().getId(),resourceId.get());
}
