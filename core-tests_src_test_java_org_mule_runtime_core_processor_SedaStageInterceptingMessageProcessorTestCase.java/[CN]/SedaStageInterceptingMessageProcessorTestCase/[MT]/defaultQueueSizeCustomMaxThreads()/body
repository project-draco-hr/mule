{
  int maxThreads=200;
  ThreadingProfile tp=new ChainedThreadingProfile();
  tp.setMaxThreadsActive(maxThreads);
  SedaStageInterceptingMessageProcessor mp;
  mp=new SedaStageInterceptingMessageProcessor("name","name",queueProfile,queueTimeout,tp,queueStatistics,muleContext);
  assertThat(mp.queueProfile.getMaxOutstandingMessages(),is(equalTo(muleContext.getDefaultThreadingProfile().getMaxThreadsActive() * DEFAULT_QUEUE_SIZE_MAX_THREADS_FACTOR)));
}
