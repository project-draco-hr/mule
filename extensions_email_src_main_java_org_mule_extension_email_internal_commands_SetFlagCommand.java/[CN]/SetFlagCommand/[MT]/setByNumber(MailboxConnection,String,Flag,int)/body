{
  try {
    Folder folder=connection.getFolder(folderName,READ_WRITE);
    javax.mail.Message message=folder.getMessage(number);
    if (message == null) {
      throw new EmailException(format("No email was found in the mailbox of number:[%s]",number));
    }
    message.setFlag(flag,true);
  }
 catch (  MessagingException e) {
    throw new EmailException(format("Error while setting [%s] flag in email number:[%s]",flag.toString(),number),e);
  }
}
