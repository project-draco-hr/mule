{
  if (store instanceof ObjectStorePartition) {
    ObjectStorePartition partition=(ObjectStorePartition)store;
    partition.getBaseStore().disposePartition(partition.getPartitionName());
  }
 else {
    try {
      store.clear();
    }
 catch (    UnsupportedOperationException e) {
      logger.warn(String.format("ObjectStore of class %s does not support clearing",store.getClass().getCanonicalName()),e);
    }
  }
  if (store instanceof Disposable) {
    ((Disposable)store).dispose();
  }
}
