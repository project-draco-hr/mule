{
  if (stores.containsKey(name)) {
    return (T)stores.get(name);
  }
  ListableObjectStore<?> baseStore;
  if (isPersistent) {
    baseStore=(ListableObjectStore<?>)muleContext.getRegistry().lookupObject(MuleProperties.OBJECT_STORE_DEFAULT_PERSISTENT_NAME);
  }
 else {
    baseStore=(ListableObjectStore<?>)muleContext.getRegistry().lookupObject(MuleProperties.OBJECT_STORE_DEFAULT_IN_MEMORY_NAME);
  }
  T store=this.<T>getPartitionFromBaseObjectStore(baseStore,name);
  if (maxEntries == 0) {
    return putInStoreMap(name,store);
  }
 else {
    return getMonitorablePartition(name,baseStore,store,entryTTL,maxEntries,expirationInterval);
  }
}
