{
  this.response=response;
  if (contentLength >= 0) {
    response.getHeaders().putSingle(HttpHeaders.CONTENT_LENGTH,Long.toString(contentLength));
  }
  MuleMessage muleMessage=muleEvent.getMessage();
  for (  Map.Entry<String,List<Object>> e : response.getHeaders().entrySet()) {
    muleMessage.setOutboundProperty(e.getKey(),getHeaderValue(e.getValue()));
  }
  muleMessage.setInvocationProperty(JerseyResourcesComponent.JERSEY_RESPONSE,response);
  muleMessage.setOutboundProperty(HttpConnector.HTTP_STATUS_PROPERTY,response.getStatus());
  return getOutputStream();
}
