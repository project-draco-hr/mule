{
  poolingProfile=new PoolingProfile(1,1,DEFAULT_MAX_POOL_WAIT,WHEN_EXHAUSTED_FAIL,INITIALISE_NONE);
  initStrategy();
  ConnectionHandler<Lifecycle> connectionHandler=strategy.getConnectionHandler();
  try {
    strategy.getConnectionHandler();
    fail("Was expecting the pool to be exhausted");
  }
 catch (  ConnectionException e) {
  }
  connectionHandler.release();
  assertThat(strategy.getConnectionHandler(),is(notNullValue()));
}
