{
  Flow clientFlow=getMuleContextForApp(VM_CLIENT_APP).getRegistry().get("clientFlowOneWay");
  FlowExecutionListener flowExecutionListener=new FlowExecutionListener(getMuleContextForApp(VM_SERVER_APP));
  MuleEvent response=clientFlow.process(new DefaultMuleEvent(new DefaultMuleMessage("test-data",(Map<String,Object>)null,getMuleContextForApp(VM_CLIENT_APP)),MessageExchangePattern.REQUEST_RESPONSE,clientFlow));
  assertThat(response.getMessageAsString(),Is.is("test-data"));
  flowExecutionListener.waitUntilFlowIsComplete();
}
