{
  final String nativeLibName=System.mapLibraryName(name);
  final File tempLibrary=new File(perAppNativeLibs,nativeLibName + System.currentTimeMillis());
  try {
    final File library=new File(libraryPath);
    FileUtils.copyFile(library,tempLibrary);
    return tempLibrary;
  }
 catch (  IOException e) {
    throw new IllegalStateException(String.format("Unable to generate copy for native library '%s' at '%s'",nativeLibName,tempLibrary.getAbsolutePath()),e);
  }
}
