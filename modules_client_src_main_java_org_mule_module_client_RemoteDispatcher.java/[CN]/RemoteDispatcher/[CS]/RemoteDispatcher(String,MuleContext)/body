{
  this.muleContext=muleContext;
  EndpointFactory endpointFactory=muleContext.getRegistry().lookupEndpointFactory();
  asyncServerEndpoint=endpointFactory.getOutboundEndpoint(endpoint);
  EndpointBuilder endpointBuilder=endpointFactory.getEndpointBuilder(endpoint);
  endpointBuilder.setExchangePattern(MessageExchangePattern.REQUEST_RESPONSE);
  syncServerEndpoint=muleContext.getRegistry().lookupEndpointFactory().getOutboundEndpoint(endpointBuilder);
  wireFormat=requestWireFormat();
}
