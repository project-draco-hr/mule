{
  this.muleContext=muleContext;
  serializer=muleContext.getObjectSerializer();
  EndpointFactory endpointFactory=muleContext.getEndpointFactory();
  asyncServerEndpoint=endpointFactory.getOutboundEndpoint(endpoint);
  EndpointBuilder endpointBuilder=endpointFactory.getEndpointBuilder(endpoint);
  endpointBuilder.setExchangePattern(MessageExchangePattern.REQUEST_RESPONSE);
  syncServerEndpoint=muleContext.getEndpointFactory().getOutboundEndpoint(endpointBuilder);
  wireFormat=requestWireFormat();
}
