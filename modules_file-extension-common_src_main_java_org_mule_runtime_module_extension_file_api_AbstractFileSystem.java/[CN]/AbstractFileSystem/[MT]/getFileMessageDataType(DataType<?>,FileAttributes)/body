{
  String presumedMimeType=mimetypesFileTypeMap.getContentType(attributes.getPath());
  final DataTypeParamsBuilder<InputStream> dataTypeBuilder=DataType.builder().type(InputStream.class);
  if (presumedMimeType != null) {
    dataTypeBuilder.mediaType(presumedMimeType);
  }
 else {
    dataTypeBuilder.mediaType(originalDataType.getMediaType());
  }
  if (originalDataType.getMediaType().getCharset().isPresent()) {
    dataTypeBuilder.charset(originalDataType.getMediaType().getCharset().get());
  }
  return dataTypeBuilder.build();
}
