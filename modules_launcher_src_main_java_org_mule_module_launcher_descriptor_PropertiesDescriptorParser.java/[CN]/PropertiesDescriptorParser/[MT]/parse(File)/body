{
  final Properties p=new Properties();
  p.load(new FileInputStream(descriptor));
  ApplicationDescriptor d=new ApplicationDescriptor();
  d.setEncoding(p.getProperty("encoding"));
  d.setConfigurationBuilder(p.getProperty("config.builder"));
  d.setDomain(p.getProperty("domain"));
  d.setAppProperties(p.getProperty("app.properties"));
  d.setParentFirstClassLoader(BooleanUtils.toBoolean(p.getProperty("classloader.parentFirst",Boolean.TRUE.toString())));
  final String resProps=p.getProperty("config.resources");
  String[] urls;
  if (StringUtils.isBlank(resProps)) {
    urls=new String[]{ApplicationDescriptor.DEFAULT_CONFIGURATION_RESOURCE};
  }
 else {
    urls=resProps.split(",");
  }
  d.setConfigResources(urls);
  d.setRedeploymentEnabled(BooleanUtils.toBoolean(p.getProperty("redeployment.enabled",Boolean.TRUE.toString())));
  return d;
}
