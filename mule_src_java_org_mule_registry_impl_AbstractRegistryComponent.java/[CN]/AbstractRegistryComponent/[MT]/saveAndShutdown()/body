{
  setStateAtShutdown(getCurrentState());
  Unit[] units=getUnits();
  for (int i=0; i < units.length; i++) {
    units[i].setStateAtShutdown(units[i].getCurrentState());
  }
  shutDown();
}
