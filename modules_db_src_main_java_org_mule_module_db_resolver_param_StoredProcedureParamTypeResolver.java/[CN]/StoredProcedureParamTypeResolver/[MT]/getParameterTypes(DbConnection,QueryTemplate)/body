{
  DatabaseMetaData dbMetaData=connection.getMetaData();
  String storedProcedureName=getStoredProcedureName(dbMetaData,queryTemplate.getSqlText());
  ResultSet procedureColumns=dbMetaData.getProcedureColumns(connection.getCatalog(),null,storedProcedureName,"%");
  try {
    return getStoredProcedureParamTypes(connection,storedProcedureName,procedureColumns);
  }
  finally {
    if (procedureColumns != null) {
      procedureColumns.close();
    }
  }
}
