{
  if (type.equals(ServiceDescriptorFactory.TRANSPORT_SERVICE_TYPE)) {
    Properties tsd=findServiceDescriptor(TRANSPORT_SERVICE_PATH,name,TransportFactory.class,false);
    if (tsd == null) {
      tsd=findServiceDescriptor(PROVIDER_SERVICE_PATH,name,TransportFactory.class,false);
      if (tsd != null) {
        logTsdDeprecationWarning(name);
      }
    }
    if (tsd == null) {
      tsd=findServiceDescriptor(TRANSPORT_SERVICE_PATH,name,TransportFactory.class);
      if (tsd == null) {
        tsd=findServiceDescriptor(PROVIDER_SERVICE_PATH,name,TransportFactory.class);
        if (tsd != null) {
          logTsdDeprecationWarning(name);
        }
      }
    }
    return tsd;
  }
 else   if (type.equals(ServiceDescriptorFactory.EXCEPTION_SERVICE_TYPE)) {
    return findServiceDescriptor(EXCEPTION_SERVICE_PATH,name,ExceptionHelper.class);
  }
 else {
    logger.warn("Attempt to lookup unrecognized service type: " + type);
    return null;
  }
}
