{
  final Latch latch=new Latch();
  final AtomicBoolean transformPropagated=new AtomicBoolean(false);
  muleContext.registerListener(new FunctionalTestNotificationListener(){
    @Override public void onNotification(    ServerNotification notification){
      latch.countDown();
      if (notification.getSource().toString().endsWith("toClient-only")) {
        transformPropagated.set(true);
      }
    }
  }
,"polledUMO");
  MuleClient client=muleContext.getClient();
  InternalMessage result=client.request("vm://toclient",50000).getRight().get();
  assertNotNull(result.getPayload().getValue());
  assertTrue("Callback called",latch.await(1000,TimeUnit.MILLISECONDS));
  assertEquals("/foo toClient-only",getPayloadAsString(result));
  assertFalse(transformPropagated.get());
}
