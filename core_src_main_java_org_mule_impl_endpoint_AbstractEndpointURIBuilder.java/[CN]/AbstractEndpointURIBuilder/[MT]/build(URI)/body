{
  Properties props=getPropertiesForURI(uri);
  String replaceAddress=null;
  if (address != null) {
    replaceAddress=address;
    setEndpoint(uri,props);
    address=replaceAddress;
  }
 else {
    setEndpoint(uri,props);
  }
  UMOEndpointURI ep=new MuleEndpointURI(address,endpointName,connectorName,transformers,responseTransformers,createConnector,props,uri,userInfo);
  address=null;
  endpointName=null;
  connectorName=null;
  transformers=null;
  responseTransformers=null;
  createConnector=TransportFactory.GET_OR_CREATE_CONNECTOR;
  return ep;
}
