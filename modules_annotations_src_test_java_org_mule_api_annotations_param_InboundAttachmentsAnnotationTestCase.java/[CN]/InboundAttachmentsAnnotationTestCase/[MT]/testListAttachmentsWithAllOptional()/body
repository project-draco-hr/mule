{
  muleMessage.removeAttachment("foo");
  muleMessage.removeAttachment("bar");
  muleMessage.removeAttachment("baz");
  MuleClient client=new MuleClient(muleContext);
  MuleMessage message=client.send("vm://attachmentsListAllOptional",muleMessage);
  assertNotNull("return message from MuleClient.send() should not be null",message);
  assertTrue("Message payload should be a List",message.getPayload() instanceof List);
  List result=(List)message.getPayload();
  assertEquals(0,result.size());
}
