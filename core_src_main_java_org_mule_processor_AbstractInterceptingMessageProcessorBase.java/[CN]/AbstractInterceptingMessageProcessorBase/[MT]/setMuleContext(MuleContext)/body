{
  this.muleContext=context;
  notificationHandler=muleContext.getNotificationManager();
  if (next instanceof DefaultMessageProcessorChain) {
    ((DefaultMessageProcessorChain)next).setMuleContext(context);
  }
  this.messageProcessorExecutorWithNotifications=MessageProcessorExecutionTemplate.createExecutionTemplate(muleContext.getNotificationManager());
  this.messageProcessorExecutorWithoutNotifications=MessageProcessorExecutionTemplate.createExceptionTransformerExecutionTemplate();
}
