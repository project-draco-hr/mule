{
  TransactionTemplate<T> transactionTemplate=new TransactionTemplate<T>(transactionConfig,muleContext);
  TransactionTemplate.TransactionInterceptor<T> transactionInterceptorChain=transactionTemplate.new UnwrapManagedExceptionInterceptor(transactionTemplate.new HandleExceptionInterceptor(transactionTemplate.new ExecuteCallbackInterceptor()));
  transactionInterceptorChain=addTransactionInterceptorsIfRequired(transactionConfig,transactionTemplate,transactionInterceptorChain);
  transactionTemplate.setTransactionInterceptor(transactionInterceptorChain);
  return transactionTemplate;
}
