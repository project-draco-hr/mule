{
  final URL classPathRoot=ClassUtils.getClassPathRoot(getClass());
  System.out.println("classPathRoot = " + classPathRoot);
  File f=new File(classPathRoot.getPath(),"../../../test-01-plugin-impl-1/target/classes/");
  System.out.println("f = " + f);
  assertTrue("Dependent test classes not found, has required IT test modules been run before?",f.exists());
  URL[] parentUrls=new URL[]{f.toURI().toURL()};
  URLClassLoader parent=new URLClassLoader(parentUrls,Thread.currentThread().getContextClassLoader());
  assertNotNull(parent.loadClass("mypackage.SneakyChatter"));
  Set<String> overrides=new HashSet<String>();
  overrides.add("-mypackage");
  MulePluginClassLoader ext=new MulePluginClassLoader(new URL[0],parent,overrides);
  try {
    ext.loadClass("mypackage.SneakyChatter");
    fail("Should have failed to load the class");
  }
 catch (  ClassNotFoundException e) {
  }
}
