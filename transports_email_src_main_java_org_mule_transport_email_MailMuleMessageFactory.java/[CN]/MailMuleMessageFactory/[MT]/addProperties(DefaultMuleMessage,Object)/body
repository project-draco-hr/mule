{
  super.addProperties(muleMessage,transportMessage);
  Message mailMessage=(Message)transportMessage;
  addRecipientProperty(muleMessage,mailMessage,RecipientType.TO,MailProperties.INBOUND_TO_ADDRESSES_PROPERTY);
  addRecipientProperty(muleMessage,mailMessage,RecipientType.CC,MailProperties.INBOUND_CC_ADDRESSES_PROPERTY);
  addRecipientProperty(muleMessage,mailMessage,RecipientType.BCC,MailProperties.INBOUND_BCC_ADDRESSES_PROPERTY);
  addReplyToProperty(muleMessage,mailMessage);
  addFromProperty(muleMessage,mailMessage);
  muleMessage.setOutboundProperty(MailProperties.INBOUND_SUBJECT_PROPERTY,StringUtils.defaultIfEmpty(mailMessage.getSubject(),"(no subject)"));
  muleMessage.setOutboundProperty(MailProperties.INBOUND_CONTENT_TYPE_PROPERTY,StringUtils.defaultIfEmpty(mailMessage.getContentType(),"text/plain"));
  addSentDateProperty(muleMessage,mailMessage);
  addMailHeadersToMessageProperties(mailMessage,muleMessage);
}
