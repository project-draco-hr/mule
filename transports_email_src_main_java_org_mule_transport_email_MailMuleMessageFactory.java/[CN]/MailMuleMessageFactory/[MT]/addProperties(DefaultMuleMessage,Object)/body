{
  super.addProperties(muleMessage,transportMessage);
  Message mailMessage=(Message)transportMessage;
  addRecipientProperty(muleMessage,mailMessage,RecipientType.TO,MailProperties.TO_ADDRESSES_PROPERTY);
  addRecipientProperty(muleMessage,mailMessage,RecipientType.CC,MailProperties.CC_ADDRESSES_PROPERTY);
  addRecipientProperty(muleMessage,mailMessage,RecipientType.BCC,MailProperties.BCC_ADDRESSES_PROPERTY);
  addReplyToProperty(muleMessage,mailMessage);
  addFromProperty(muleMessage,mailMessage);
  muleMessage.setInboundProperty(MailProperties.SUBJECT_PROPERTY,StringUtils.defaultIfEmpty(mailMessage.getSubject(),"(no subject)"));
  muleMessage.setInboundProperty(MailProperties.CONTENT_TYPE_PROPERTY,StringUtils.defaultIfEmpty(mailMessage.getContentType(),"text/plain"));
  addSentDateProperty(muleMessage,mailMessage);
  addMailHeadersToMessageProperties(mailMessage,muleMessage);
}
