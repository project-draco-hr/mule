{
  AnnotatedTransformerProxy trans=(AnnotatedTransformerProxy)muleContext.getRegistry().lookupTransformer(getClass().getSimpleName() + ".dummy2");
  assertEquals(getClass().getSimpleName() + ".dummy2",trans.getName());
  assertTrue("should be a CollectionDataType",trans.getReturnDataType() instanceof CollectionDataType);
  assertEquals(String.class,((CollectionDataType)trans.getReturnDataType()).getItemType());
  DataType dt=DataTypeFactory.create(ArrayList.class,String.class,null);
  assertEquals(dt,trans.getReturnDataType());
  assertEquals(3,trans.getSourceDataTypes().size());
  assertTrue(trans.getSourceDataTypes().contains(DataTypeFactory.create(ReleasingInputStream.class)));
  assertTrue(trans.getSourceDataTypes().contains(DataTypeFactory.create(FileInputStream.class)));
  assertTrue(trans.getSourceDataTypes().contains(DataTypeFactory.create(ByteArrayInputStream.class)));
  assertEquals(9,trans.getPriorityWeighting());
}
