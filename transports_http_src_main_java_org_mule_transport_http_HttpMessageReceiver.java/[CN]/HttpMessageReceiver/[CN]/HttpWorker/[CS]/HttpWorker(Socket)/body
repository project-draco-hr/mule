{
  conn=new HttpServerConnection(socket,endpoint);
  cookieSpec=MapUtils.getString(endpoint.getProperties(),HttpConnector.HTTP_COOKIE_SPEC_PROPERTY,((HttpConnector)connector).getCookieSpec());
  enableCookies=MapUtils.getBooleanValue(endpoint.getProperties(),HttpConnector.HTTP_ENABLE_COOKIES_PROPERTY,((HttpConnector)connector).isEnableCookies());
  final SocketAddress clientAddress=socket.getRemoteSocketAddress();
  if (clientAddress != null) {
    remoteClientAddress=clientAddress.toString();
  }
}
