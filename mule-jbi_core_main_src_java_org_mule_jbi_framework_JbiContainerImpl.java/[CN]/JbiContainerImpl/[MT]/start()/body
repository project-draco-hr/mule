{
  if (LOGGER.isDebugEnabled()) {
    LOGGER.debug("Starting JbiContainer");
  }
  if (this.workingDir == null) {
    throw new JBIException("Working directory must not be set to null");
  }
  if (!this.workingDir.isDirectory()) {
    if (!this.workingDir.mkdirs()) {
      throw new JBIException("Could not create working directory");
    }
  }
  this.endpointRegistry=new EndpointRegistryImpl(this);
  this.componentRegistry=new ComponentRegistryImpl(this);
  this.endpointRegistry.start();
  this.componentRegistry.start();
}
