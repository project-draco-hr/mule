{
  try {
    LOGGER.info("Starting JBI");
    if (this.registry == null) {
      initialize();
    }
    AdminService admin=new AdminService(this);
    registerMBean(new StandardMBean(admin,AdminServiceMBean.class),createMBeanName(null,"service","admin"));
    InstallationService install=new InstallationService(this);
    registerMBean(new StandardMBean(install,InstallationServiceMBean.class),createMBeanName(null,"service","install"));
    DeploymentService deploy=new DeploymentService(this);
    registerMBean(new StandardMBean(deploy,DeploymentServiceMBean.class),createMBeanName(null,"service","deploy"));
    this.registry.start();
  }
 catch (  Exception e) {
    if (e instanceof JBIException) {
      throw (JBIException)e;
    }
 else {
      throw new JBIException(e);
    }
  }
}
