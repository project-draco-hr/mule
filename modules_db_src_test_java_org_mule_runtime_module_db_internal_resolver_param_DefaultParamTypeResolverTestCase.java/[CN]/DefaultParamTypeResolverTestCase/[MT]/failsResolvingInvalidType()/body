{
  QueryTemplate queryTemplate=new QueryTemplate(SQL_TEXT,QueryType.SELECT,Collections.<org.mule.module.db.internal.domain.param.QueryParam>singletonList(new DefaultInputQueryParam(1,new DynamicDbType(CUSTOM_TYPE_NAME),"7","param1")));
  when(metadataParamTypeResolver.getParameterTypes(connection,queryTemplate)).thenThrow(new SQLException("Error"));
  when(dbTypeManager.lookup(connection,CUSTOM_TYPE_NAME)).thenThrow(new UnknownDbTypeException(CUSTOM_TYPE_NAME));
  paramTypeResolver.getParameterTypes(connection,queryTemplate);
}
