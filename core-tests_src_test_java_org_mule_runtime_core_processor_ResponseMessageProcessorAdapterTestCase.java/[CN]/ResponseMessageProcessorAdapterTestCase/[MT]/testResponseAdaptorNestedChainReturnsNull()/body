{
  DefaultMessageProcessorChainBuilder builder=new DefaultMessageProcessorChainBuilder(muleContext);
  final ResponseMessageProcessorAdapter responseMessageProcessorAdapter=new ResponseMessageProcessorAdapter(new DefaultMessageProcessorChainBuilder(muleContext).chain(createStringAppendTransformer("a"),createStringAppendTransformer("b"),new ReturnNullMP()).build());
  responseMessageProcessorAdapter.setMuleContext(muleContext);
  builder.chain(createStringAppendTransformer("1"),responseMessageProcessorAdapter,createStringAppendTransformer("2"));
  assertEquals("012",builder.build().process(getTestEvent("0")).getMessageAsString(muleContext));
}
