{
  if (args.length == 0 || args[0].equals("?")) {
    printUsage();
    System.exit(0);
  }
  String files=getOpt(args,"-files",null);
  String outputDir=getOpt(args,"-outputdir",".");
  File f=new File(outputDir);
  if (!f.exists())   f.mkdirs();
  System.out.println("Outputting graphs to: " + f.getAbsolutePath());
  String caption=getOpt(args,"-caption",null);
  exec=getOpt(args,"-exec",null);
  if (files == null) {
    System.out.println("-files arg not set");
    System.exit(1);
  }
  MuleGrapher grapher=null;
  for (StringTokenizer stringTokenizer=new StringTokenizer(files,","); stringTokenizer.hasMoreTokens(); ) {
    String s=stringTokenizer.nextToken().trim();
    grapher=new MuleGrapher(s);
    grapher.generateGraph(outputDir,caption);
  }
}
