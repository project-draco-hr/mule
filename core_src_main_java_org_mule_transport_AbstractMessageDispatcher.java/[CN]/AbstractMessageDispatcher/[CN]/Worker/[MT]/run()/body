{
  try {
    retryTemplate.execute(new RetryCallback(){
      public void doWork(      RetryContext context) throws Exception {
        final MuleEvent finalEvent=RequestContext.setEvent(event);
        connect();
        doDispatch(finalEvent);
        if (connector.isEnableMessageEvents()) {
          String component=null;
          if (finalEvent.getService() != null) {
            component=finalEvent.getService().getName();
          }
          connector.fireNotification(new EndpointMessageNotification(finalEvent.getMessage(),finalEvent.getEndpoint(),component,EndpointMessageNotification.MESSAGE_DISPATCHED));
        }
      }
      public String getWorkDescription(){
        return getConnectionDescription();
      }
    }
);
  }
 catch (  Exception e) {
    AbstractMessageDispatcher.this.getConnector().handleException(e);
  }
}
