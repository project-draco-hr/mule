{
  try {
    event=RequestContext.setEvent(event);
    connectionStrategy.connect(AbstractMessageDispatcher.this);
    AbstractMessageDispatcher.this.doDispatch(event);
    if (connector.isEnableMessageEvents()) {
      String component=null;
      if (event.getService() != null) {
        component=event.getService().getName();
      }
      connector.fireNotification(new EndpointMessageNotification(event.getMessage(),event.getEndpoint(),component,EndpointMessageNotification.MESSAGE_DISPATCHED));
    }
  }
 catch (  Exception e) {
    AbstractMessageDispatcher.this.getConnector().handleException(e);
  }
}
