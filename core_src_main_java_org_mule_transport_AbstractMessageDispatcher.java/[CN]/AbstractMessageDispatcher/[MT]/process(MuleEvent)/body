{
  MuleEvent result=null;
  try {
    connect();
    if (endpoint.isSynchronous()) {
      MuleMessage resultMessage=doSend(event);
      if (resultMessage != null) {
        result=new DefaultMuleEvent(resultMessage,event);
      }
    }
 else {
      doDispatch(event);
    }
  }
 catch (  MuleException muleException) {
    throw muleException;
  }
catch (  Exception e) {
    throw new DispatchException(event.getMessage(),endpoint,e);
  }
  return result;
}
