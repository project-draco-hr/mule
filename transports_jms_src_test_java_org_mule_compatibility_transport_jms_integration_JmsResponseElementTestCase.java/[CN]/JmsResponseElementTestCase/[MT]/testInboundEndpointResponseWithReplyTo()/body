{
  MuleClient client=muleContext.getClient();
  String replyToUri="jms://out2";
  client.dispatch("jms://out",InternalMessage.builder().payload(MESSAGE).addOutboundProperty(MULE_REPLY_TO_PROPERTY,replyToUri).build());
  InternalMessage response=client.request(replyToUri,TIMEOUT).getRight().get();
  assertThat(getPayloadAsString(response),is(EXPECTED_MODIFIED_MESSAGE));
  assertThat(client.request(replyToUri,TINY_TIMEOUT).getRight().isPresent(),is(false));
}
