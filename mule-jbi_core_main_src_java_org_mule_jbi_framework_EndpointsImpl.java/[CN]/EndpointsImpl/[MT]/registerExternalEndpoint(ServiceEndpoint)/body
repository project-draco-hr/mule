{
  if (getEndpoint(this.externalEndpoints,endpoint.getServiceName(),endpoint.getEndpointName()) == null) {
    throw new JBIException("Endpoint is already registered");
  }
  if (!(endpoint instanceof ExternalEndpointImpl)) {
    throw new IllegalArgumentException("endpoint should be a " + ExternalEndpointImpl.class.getName());
  }
  AbstractServiceEndpoint se=(AbstractServiceEndpoint)endpoint;
  se.setActive(true);
  this.externalEndpoints.add(se);
}
