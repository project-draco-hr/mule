{
  OutboundEndpoint endpoint=super.getRecipientEndpointFromString(message,recipient);
  if (!recipients.containsKey(recipient)) {
    OutboundEndpoint mock=RouterTestUtils.createMockEndpoint(endpoint);
    recipients.put(recipient,mock);
    if (listener != null) {
      listener.mockEndpointAdded(mock);
    }
  }
  return recipients.get(recipient);
}
