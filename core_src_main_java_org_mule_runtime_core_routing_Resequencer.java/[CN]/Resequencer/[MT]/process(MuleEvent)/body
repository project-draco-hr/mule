{
  MuleEvent result=eventCorrelator.process(event);
  if (!isEventValid(result)) {
    return result;
  }
  MuleEvent last=null;
  for (  MuleEvent muleEvent : (MuleEvent[])result.getMessage().getPayload()) {
    last=processNext(muleEvent);
  }
  return last;
}
