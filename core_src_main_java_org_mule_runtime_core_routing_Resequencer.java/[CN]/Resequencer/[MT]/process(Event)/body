{
  Event result=eventCorrelator.process(event);
  if (!isEventValid(result)) {
    return result;
  }
  Event last=null;
  for (  Event muleEvent : (Event[])result.getMessage().getPayload().getValue()) {
    last=processNext(muleEvent);
  }
  return last;
}
