{
  MuleClient client=muleContext.getClient();
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("http.method","GET");
  MuleMessage replyMessage=client.send("http://localhost:" + dynamicPort3.getNumber() + "/webServiceProxy?wsdl","/services/webServiceProxy?WSDL",props);
  assertNotNull(replyMessage);
  String wsdl=replyMessage.getPayloadAsString();
  assertNotNull(wsdl);
  assertTrue(wsdl.indexOf("<wsdl:definitions") != -1);
  assertTrue(wsdl.indexOf("<wsdl:message name=\"echoResponse\">") != -1);
  assertTrue(wsdl.indexOf("<wsdl:message name=\"echo\">") != -1);
}
