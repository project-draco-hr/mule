{
  Map<String,Object> ctx=getInvocationContext(headers,attachments,operation);
  XMLStreamReader request=stringToXmlStreamReader(body,connection,operation);
  try {
    Exchange exchange=new ExchangeImpl();
    Object[] response=connection.invoke(request,ctx,exchange);
    return buildResult(response,exchange);
  }
 catch (  SoapFault sf) {
    throw new SoapFaultException(sf.getFaultCode(),sf.getSubCode(),sf.getMessage(),sf.getDetail());
  }
catch (  Exception e) {
    throw new WscException(format("An unexpected error occur while consuming the [%s] web service operation",operation),e);
  }
}
