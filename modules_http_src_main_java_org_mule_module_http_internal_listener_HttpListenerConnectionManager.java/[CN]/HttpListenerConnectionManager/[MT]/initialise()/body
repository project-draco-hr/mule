{
  Collection<TcpServerSocketProperties> tcpServerSocketPropertiesBeans=muleContext.getRegistry().lookupObjects(TcpServerSocketProperties.class);
  TcpServerSocketProperties tcpServerSocketProperties=new DefaultTcpServerSocketProperties();
  if (tcpServerSocketPropertiesBeans.size() == 1) {
    tcpServerSocketProperties=Iterables.getOnlyElement(tcpServerSocketPropertiesBeans);
  }
 else   if (tcpServerSocketPropertiesBeans.size() > 1) {
    throw new InitialisationException(CoreMessages.createStaticMessage("Only one global TCP server socket properties bean should be defined in the config"),this);
  }
  try {
    httpServerManager=new GrizzlyServerManager(ThreadNameHelper.getPrefix(muleContext),httpListenerRegistry,tcpServerSocketProperties);
  }
 catch (  IOException e) {
    throw new InitialisationException(e,this);
  }
}
