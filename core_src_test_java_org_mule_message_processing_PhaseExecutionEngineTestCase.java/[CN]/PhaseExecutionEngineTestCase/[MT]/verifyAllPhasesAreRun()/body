{
  PhaseExecutionEngine engine=new PhaseExecutionEngine(phaseList,mockExceptionHandler,mockEndPhase);
  addAllPhases();
  engine.process(mockTemplate,mockContext);
  verify(mockProcessPhase1,Mockito.times(1)).runPhase(any(MessageProcessTemplate.class),any(MessageProcessContext.class),any(PhaseResultNotifier.class));
  verify(mockProcessPhase2,Mockito.times(1)).runPhase(any(MessageProcessTemplate.class),any(MessageProcessContext.class),any(PhaseResultNotifier.class));
  verify(mockProcessPhase3,Mockito.times(1)).runPhase(any(MessageProcessTemplate.class),any(MessageProcessContext.class),any(PhaseResultNotifier.class));
}
