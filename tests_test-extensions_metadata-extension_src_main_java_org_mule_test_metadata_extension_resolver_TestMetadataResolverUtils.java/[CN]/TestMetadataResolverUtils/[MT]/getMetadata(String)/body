{
  final ObjectTypeBuilder objectBuilder=BaseTypeBuilder.create(new MetadataFormat(key,key,APPLICATION_JAVA_MIME_TYPE)).objectType();
switch (key) {
case MetadataConnection.CAR:
    objectBuilder.addField().key(TIRES).value().numberType();
  objectBuilder.addField().key(BRAND).value().stringType();
break;
case MetadataConnection.HOUSE:
objectBuilder.addField().key(DIRECTION).value().stringType();
objectBuilder.addField().key(SIZE).value().numberType();
break;
case MetadataConnection.PERSON:
objectBuilder.addField().key(NAME).value().stringType();
objectBuilder.addField().key(AGE).value().numberType();
break;
default :
throw new MetadataResolvingException("Uknown key " + key,FailureCode.INVALID_METADATA_KEY);
}
return objectBuilder.build();
}
