{
  List<ValueExtractorTransformer.ValueExtractorTemplate> enrichExpressionPairs=new ArrayList<ValueExtractorTransformer.ValueExtractorTemplate>();
  enrichExpressionPairs.add(new ValueExtractorTransformer.ValueExtractorTemplate("TESTw+TEST","#[header:INVOCATION:propName]",false,"foo"));
  ValueExtractorTransformer transformer=createPropertyGeneratorTransformer("TEST",enrichExpressionPairs);
  DefaultMuleMessage testMessage=new DefaultMuleMessage("TEST",muleContext);
  Object response=transformer.transform(testMessage);
  DefaultMuleMessage responseMessage=(DefaultMuleMessage)response;
  assertPropertyAddedToMessage(responseMessage,"propName","foo",PropertyScope.INVOCATION);
}
