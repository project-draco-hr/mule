{
synchronized (components) {
    final boolean wasRemoved=components.remove(proxy);
    if (wasRemoved) {
      ((Disposable)proxy).dispose();
    }
  }
}
