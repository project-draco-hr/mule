{
  if (refreshableBean instanceof Callable) {
    return ((Callable)refreshableBean).onCall(eventContext);
  }
  if (refreshableBean instanceof GroovyObject) {
    if (StringUtils.isEmpty(methodName)) {
      throw new MuleException(CoreMessages.propertiesNotSet("methodName"));
    }
    GroovyObject script=(GroovyObject)refreshableBean;
    return script.invokeMethod(methodName,eventContext.getTransformedMessage());
  }
  throw new Exception(new MuleException("script engine not supported"));
}
