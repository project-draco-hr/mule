{
  if (refreshableBean instanceof GroovyObject) {
    GroovyObject script=(GroovyObject)refreshableBean;
    MetaMethod onCall=script.getMetaClass().pickMethod("onCall",UMOEVENTCONTEXT);
    if (onCall != null) {
      return script.invokeMethod(ON_CALL,eventContext);
    }
 else {
      if (StringUtils.isEmpty(methodName)) {
        throw new MuleException(CoreMessages.propertiesNotSet("methodName"));
      }
      return script.invokeMethod(methodName,eventContext.getTransformedMessage());
    }
  }
  throw new Exception(new MuleException("script engine not supported"));
}
