{
  try {
    stopping.set(true);
    if (logger.isDebugEnabled()) {
      logger.debug("Stopping component: " + getName());
    }
    doStop();
    this.workManager.stop();
    stopped.set(true);
    stopping.set(false);
    if (logger.isDebugEnabled()) {
      logger.debug("Component stopped: " + getName());
    }
  }
 catch (  JBIException e) {
    throw e;
  }
catch (  Exception e) {
    throw new JBIException("Error calling stop on " + getName(),e);
  }
}
