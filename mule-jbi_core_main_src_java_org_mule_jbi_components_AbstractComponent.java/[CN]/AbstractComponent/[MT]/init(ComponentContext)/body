{
  try {
    if (logger.isDebugEnabled()) {
      logger.debug("Initializing component: " + getName());
    }
    this.context=context;
    Object mbean=getExtensionMBean();
    if (mbean != null) {
      this.mbeanName=createExtensionMBeanName();
      MBeanServer server=this.context.getMBeanServer();
      if (server == null) {
        throw new JBIException("null mBeanServer");
      }
      if (server.isRegistered(this.mbeanName)) {
        server.unregisterMBean(this.mbeanName);
      }
      server.registerMBean(mbean,this.mbeanName);
    }
    if (service == null) {
      service=new QName(name);
    }
    this.workManager=new MuleWorkManager();
    doInit();
    if (logger.isDebugEnabled()) {
      logger.debug("Component initialized: " + getName());
    }
  }
 catch (  JBIException e) {
    throw e;
  }
catch (  Exception e) {
    throw new JBIException("Error calling init on " + getName(),e);
  }
}
