{
  JarOutputStream jout=new JarOutputStream(out);
  Set<String> done=new HashSet<String>();
  Set<String> directories=new HashSet<String>();
  doManifest(done,jout);
  for (  Map.Entry<String,Resource> entry : getResources().entrySet()) {
    if (!done.contains(entry.getKey()))     writeResource(jout,directories,(String)entry.getKey(),(Resource)entry.getValue());
  }
  jout.finish();
}
