{
  if (resource == null)   return;
  createDirectories(directories,jout,path);
  ZipEntry ze=new ZipEntry(path);
  ze.setMethod(ZipEntry.DEFLATED);
  long lastModified=resource.lastModified();
  if (lastModified == 0L) {
    lastModified=System.currentTimeMillis();
  }
  ze.setTime(lastModified);
  if (resource.getExtra() != null)   ze.setExtra(resource.getExtra().getBytes());
  jout.putNextEntry(ze);
  try {
    resource.write(jout);
  }
 catch (  Exception e) {
    throw new IllegalArgumentException("Cannot write resource: " + path + " "+ e);
  }
  jout.closeEntry();
}
