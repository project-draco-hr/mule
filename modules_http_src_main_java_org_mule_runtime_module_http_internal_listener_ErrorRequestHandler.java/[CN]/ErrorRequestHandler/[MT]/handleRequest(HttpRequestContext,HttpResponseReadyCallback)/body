{
  responseCallback.responseReady(new org.mule.runtime.module.http.internal.domain.response.HttpResponseBuilder().setStatusCode(statusCode).setReasonPhrase(String.format(reasonPhraseFormat,requestContext.getRequest().getUri())).setEntity(new InputStreamHttpEntity(new ByteArrayInputStream(entity.getBytes()))).build(),new ResponseStatusCallback(){
    @Override public void responseSendFailure(    Throwable exception){
      logger.warn(String.format("Error while sending %s response %s",statusCode,exception.getMessage()));
      if (logger.isDebugEnabled()) {
        logger.debug("exception thrown",exception);
      }
    }
    @Override public void responseSendSuccessfully(){
    }
  }
);
}
