{
  if (null == element.getAttributeNode(ENDPOINT_REF_ATTRIBUTE)) {
    return super.createBeanDefinitionBuilder(element,beanClass);
  }
 else {
    String parent=element.getAttribute(ENDPOINT_REF_ATTRIBUTE);
    BeanDefinitionBuilder bdb=BeanDefinitionBuilder.childBeanDefinition(parent);
    bdb.getBeanDefinition().setBeanClassName(beanClass.getName());
    bdb.addPropertyValue("type",UMOImmutableEndpoint.ENDPOINT_TYPE_SENDER_AND_RECEIVER);
    return bdb;
  }
}
