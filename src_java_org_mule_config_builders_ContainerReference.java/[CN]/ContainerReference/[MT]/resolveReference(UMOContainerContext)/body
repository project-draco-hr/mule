{
  Object comp=null;
  try {
    comp=ctx.getComponent(containerRef);
  }
 catch (  ObjectNotFoundException e) {
    if (required) {
      throw e;
    }
 else {
      logger.warn("Component reference not found: " + e.getMessage());
      return;
    }
  }
  try {
    if (object instanceof Map) {
      ((Map)object).put(propertyName,comp);
    }
 else     if (object instanceof List) {
      ((List)object).add(comp);
    }
 else {
      BeanUtils.setProperty(object,propertyName,comp);
    }
  }
 catch (  Exception e) {
    throw new ContainerException(new Message(Messages.CANT_SET_PROP_X_ON_X_OF_TYPE_X,propertyName,object.getClass().getName(),comp.getClass().getName()));
  }
}
