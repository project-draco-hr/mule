{
  testService.getOutboundRouter().setMatchAll(true);
  testService.getOutboundRouter().addRouter(new TestRequiresNewMessageOutboundRouter(false));
  testService.getOutboundRouter().addRouter(new TestRequiresNewMessageOutboundRouter(false));
  TestRequiresNewMessageOutboundRouter.latch=new CountDownLatch(2);
  testEvent.getMessage().setPayload(new OutputHandler(){
    public void write(    MuleEvent event,    OutputStream out) throws IOException {
    }
  }
);
  try {
    testService.sendEvent(testEvent);
    fail("Exception was expected");
  }
 catch (  MessagingException e) {
  }
}
