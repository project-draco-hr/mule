{
  Transaction tx=TransactionCoordination.getInstance().getTransaction();
  if (tx == null) {
    return;
  }
  t=ExceptionHelper.getRootException(t);
  if (rollbackTxFilter == null && commitTxFilter == null) {
    rollbackTransaction();
  }
 else   if (rollbackTxFilter != null && rollbackTxFilter.accept(t.getClass().getName())) {
    rollbackTransaction();
  }
 else   if (commitTxFilter != null && !commitTxFilter.accept(t.getClass().getName())) {
    rollbackTransaction();
  }
}
