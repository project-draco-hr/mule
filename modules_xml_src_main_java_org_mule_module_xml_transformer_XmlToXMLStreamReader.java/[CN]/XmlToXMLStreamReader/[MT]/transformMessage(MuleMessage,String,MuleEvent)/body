{
  Object src=message.getPayload();
  try {
    XMLStreamReader xsr=XMLUtils.toXMLStreamReader(getXMLInputFactory(),src);
    if (xsr == null) {
      throw new TransformerMessagingException(MessageFactory.createStaticMessage("Unable to convert " + src.getClass() + " to XMLStreamReader."),event,this);
    }
    if (reversible && !(xsr instanceof ReversibleXMLStreamReader)) {
      return new ReversibleXMLStreamReader(xsr);
    }
 else {
      return xsr;
    }
  }
 catch (  XMLStreamException e) {
    throw new TransformerMessagingException(event,this,e);
  }
}
