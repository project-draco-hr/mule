{
  ComponentModel.Builder builder=new ComponentModel.Builder().setIdentifier(new ComponentIdentifier.Builder().withName(componentConfiguration.getIdentifier()).withNamespace(componentConfiguration.getNamespace()).build());
  if (isRoot) {
    builder.markAsRootComponent();
  }
  for (  Map.Entry<String,String> parameter : componentConfiguration.getParameters().entrySet()) {
    builder.addParameter(parameter.getKey(),parameter.getValue(),false);
  }
  for (  ComponentConfiguration childComponentConfiguration : componentConfiguration.getNestedComponentConfiguration()) {
    builder.addChildComponentModel(convertComponentConfiguration(childComponentConfiguration,false));
  }
  ComponentModel componentModel=builder.build();
  for (  ComponentModel childComponent : componentModel.getInnerComponents()) {
    childComponent.setParent(componentModel);
  }
  return componentModel;
}
