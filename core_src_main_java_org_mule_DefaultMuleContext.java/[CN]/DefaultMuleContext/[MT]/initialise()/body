{
  lifecycleManager.checkPhase(Initialisable.PHASE_NAME);
  if (getNotificationManager() == null) {
    throw new NullPointerException(CoreMessages.objectIsNull(MuleProperties.OBJECT_NOTIFICATION_MANAGER).getMessage());
  }
  if (workManager == null) {
    throw new NullPointerException(CoreMessages.objectIsNull("workManager").getMessage());
  }
  if (config == null) {
    logger.info("A mule configuration object was not registered. Using default configuration");
    config=new MuleConfiguration();
  }
  try {
    setupIds();
    validateEncoding();
    validateOSEncoding();
    validateXML();
    directories=new Directories(FileUtils.newFile(config.getWorkingDirectory()));
    workManager.start();
    getNotificationManager().start(workManager);
    fireNotification(new ManagerNotification(this,ManagerNotification.MANAGER_INITIALISING));
    directories.createDirectories();
    lifecycleManager.firePhase(this,Initialisable.PHASE_NAME);
    fireNotification(new ManagerNotification(this,ManagerNotification.MANAGER_INITIALISED));
  }
 catch (  Exception e) {
    throw new InitialisationException(e,this);
  }
  return LifecycleTransitionResult.OK;
}
