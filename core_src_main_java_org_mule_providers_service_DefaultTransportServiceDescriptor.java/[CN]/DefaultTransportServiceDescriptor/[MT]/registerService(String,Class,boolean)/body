{
  Class serviceClass=removeClassProperty(name);
  if (serviceClass == null) {
    if (defaultService != null) {
      serviceClass=defaultService;
      logger.debug("No connector service registered for key: " + name + ". Using default: "+ serviceClass);
    }
 else {
      logger.debug("No connector service registered for key: " + name + ". No default set either");
    }
  }
  if (serviceClass != null) {
    RootBeanDefinition bd=new RootBeanDefinition(serviceClass,false);
    bd.setDestroyMethodName("dispose");
    bd.setRole(BeanDefinition.ROLE_INFRASTRUCTURE);
    bd.setEnforceDestroyMethod(false);
    context.registerBeanDefinition(name,bd);
  }
}
