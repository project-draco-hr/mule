{
  if (evaluator.equals("custom")) {
    evaluator=customEvaluator;
  }
  Object result=ExpressionEvaluatorManager.evaluate(expression,evaluator,message,true);
  if (result instanceof Job) {
    CustomJobConfig customJob=new CustomJobConfig();
    customJob.setJob((Job)result);
    return customJob;
  }
 else   if (result instanceof JobConfig) {
    return (JobConfig)result;
  }
 else {
    throw new IllegalStateException(CoreMessages.propertyIsNotSupportedType(evaluator + ":" + expression,new Class[]{Job.class,JobConfig.class,Class.class,String.class},result.getClass()).getMessage());
  }
}
