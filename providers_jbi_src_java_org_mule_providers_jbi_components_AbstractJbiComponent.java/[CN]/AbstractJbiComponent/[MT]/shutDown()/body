{
  try {
    if (logger.isDebugEnabled()) {
      logger.debug("Shutting down component: " + getName());
    }
    started.set(false);
    doShutdown();
    if (this.mbeanName != null) {
      MBeanServer server=context.getMBeanServer();
      if (server == null) {
        throw new JBIException("null mBeanServer");
      }
      if (server.isRegistered(this.mbeanName)) {
        server.unregisterMBean(this.mbeanName);
      }
    }
    this.context=null;
    if (logger.isDebugEnabled()) {
      logger.debug("Component shut down: " + getName());
    }
  }
 catch (  JBIException e) {
    throw e;
  }
catch (  Exception e) {
    throw new JBIException("Error calling shutdown on " + getName(),e);
  }
}
