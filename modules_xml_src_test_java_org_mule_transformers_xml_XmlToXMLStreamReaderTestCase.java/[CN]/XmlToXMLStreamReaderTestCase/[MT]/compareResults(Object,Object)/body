{
  if (expected instanceof XMLStreamReader && result instanceof XMLStreamReader) {
    XMLStreamReader expectedStream=(XMLStreamReader)expected;
    XMLStreamReader resultStream=(XMLStreamReader)result;
    try {
      Document expectedDocument=XMLUtils.toW3cDocument(expectedStream);
      Document resultDocument=XMLUtils.toW3cDocument(resultStream);
      return XMLUnit.compareXML(expectedDocument,resultDocument).similar();
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  return super.compareResults(expected,result);
}
