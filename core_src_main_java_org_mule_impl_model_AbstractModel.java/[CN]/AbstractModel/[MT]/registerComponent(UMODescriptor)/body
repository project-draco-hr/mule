{
  if (descriptor == null) {
    throw new ModelException(new Message(Messages.X_IS_NULL,"UMO Descriptor"));
  }
  if (descriptor.getModelName() == null) {
    descriptor.setModelName(getName());
  }
 else   if (!descriptor.getModelName().equals(getName())) {
    throw new ModelException(Message.createStaticMessage("Model name on descriptor: " + descriptor.getName() + "."+ descriptor.getModelName()+ " doesn't match this model: "+ getName()));
  }
  if (descriptor.getExceptionListener() == null) {
    descriptor.setExceptionListener(exceptionListener);
  }
  if (descriptors.get(descriptor.getName()) != null) {
    throw new ModelException(new Message(Messages.DESCRIPTOR_X_ALREADY_EXISTS,descriptor.getName()));
  }
  UMOComponent component=(UMOComponent)components.get(descriptor.getName());
  if (component == null) {
    component=createComponent(descriptor);
    descriptors.put(descriptor.getName(),descriptor);
    components.put(descriptor.getName(),component);
  }
  logger.debug("Added Mule UMO: " + descriptor.getName());
  if (initialised.get()) {
    logger.info("Initialising component: " + descriptor.getName());
    component.initialise();
  }
  if (started.get()) {
    startComponent(descriptor.getName());
  }
}
