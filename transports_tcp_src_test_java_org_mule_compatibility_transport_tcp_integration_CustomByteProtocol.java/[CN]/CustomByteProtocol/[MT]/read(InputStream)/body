{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  int count=0;
  byte read[]=new byte[1];
  while (true) {
    if (safeRead(is,read) < 0) {
      return null;
    }
    byte b=read[0];
    if (b == '>') {
      count++;
      if (count == 3) {
        return baos.toByteArray();
      }
    }
 else {
      for (int i=0; i < count; i++) {
        baos.write('>');
      }
      count=0;
      baos.write(b);
    }
  }
}
