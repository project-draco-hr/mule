{
  logger.debug("Session has received synchronous event on: " + endpoint);
  if (component == null) {
    throw new IllegalStateException(new Message(Messages.X_IS_NULL,"Component").getMessage());
  }
 else   if (endpoint == null) {
    endpoint=component.getDescriptor().getOutboundEndpoint();
  }
  UMOEvent event=createOutboundEvent(message,endpoint,RequestContext.getEvent());
  UMOMessage result=sendEvent(event);
  if (endpoint.isRemoteSync() && endpoint.getResponseTransformer() != null) {
    Object response=endpoint.getResponseTransformer().transform(result.getPayload());
    result=new MuleMessage(response,result.getProperties(),result);
  }
  if (result != null)   RequestContext.rewriteEvent(result);
  return result;
}
