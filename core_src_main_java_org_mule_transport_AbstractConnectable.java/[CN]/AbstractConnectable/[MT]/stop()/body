{
  try {
    if (connected.get()) {
      disconnect();
    }
  }
 catch (  Exception e) {
    logger.error(e.getMessage(),e);
  }
  if (stopped.compareAndSet(false,true)) {
    try {
      doStop();
    }
 catch (    MuleException e) {
      logger.error(e.getMessage(),e);
    }
  }
}
