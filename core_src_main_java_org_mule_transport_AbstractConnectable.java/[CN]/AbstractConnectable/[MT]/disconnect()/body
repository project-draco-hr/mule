{
  if (!connected.get()) {
    return;
  }
  if (logger.isDebugEnabled()) {
    logger.debug("Disconnecting: " + this);
  }
  this.doDisconnect();
  connected.set(false);
  if (logger.isDebugEnabled()) {
    logger.debug("Disconnected: " + this);
  }
  connector.fireNotification(new ConnectionNotification(this,getConnectEventId(endpoint),ConnectionNotification.CONNECTION_DISCONNECTED));
}
