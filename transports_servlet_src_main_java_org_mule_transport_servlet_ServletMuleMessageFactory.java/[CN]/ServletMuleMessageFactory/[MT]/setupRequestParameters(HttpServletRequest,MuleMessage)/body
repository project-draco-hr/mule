{
  Enumeration<String> parameterNames=request.getParameterNames();
  if (parameterNames != null) {
    Map<String,Object> parameterProperties=new HashMap<String,Object>();
    Map<String,Object> parameterMap=new HashMap<String,Object>();
    while (parameterNames.hasMoreElements()) {
      String name=parameterNames.nextElement();
      String key=ServletConnector.PARAMETER_PROPERTY_PREFIX + name;
      String value=request.getParameterValues(name)[0];
      parameterProperties.put(key,value);
      parameterMap.put(name,value);
    }
    parameterProperties.put(ServletConnector.PARAMETER_MAP_PROPERTY_KEY,parameterMap);
    ((DefaultMuleMessage)message).addInboundProperties(parameterProperties);
  }
}
