{
  if (StringUtils.isEmpty(mimeType) && StringUtils.isEmpty(encoding)) {
    final TypedValue typedValue=resolveTypedValue(event);
    event.getMessage().setPayload(typedValue.getValue(),typedValue.getDataType());
  }
 else {
    Object value=resolveValue(event);
    DataType dataType=resolveDataType(event,value);
    event.getMessage().setPayload(value,dataType);
  }
  return event;
}
