{
  MuleClient client=new MuleClient();
  UMOMessage message=client.send("vm://testin",Integer.valueOf(12),null);
  assertNotNull(message);
  Integer payload=(Integer)message.getPayload();
  assertEquals(payload,Integer.valueOf(22));
  message=client.send("vm://testin","test matching component first time",null);
  assertNotNull(message);
  assertEquals((String)message.getPayload(),"emit tsrif tnenopmoc gnihctam tset");
  message=client.send("vm://testin","test mathching component second time",null);
  assertNotNull(message);
  assertEquals((String)message.getPayload(),"emit dnoces tnenopmoc gnihchtam tset");
  message=client.send("vm://testin",Integer.valueOf(15),null);
  assertNotNull(message);
  payload=(Integer)message.getPayload();
  assertEquals(payload,Integer.valueOf(25));
}
