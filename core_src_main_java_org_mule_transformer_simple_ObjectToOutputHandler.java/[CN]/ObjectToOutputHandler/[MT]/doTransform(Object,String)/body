{
  if (src instanceof String) {
    return new OutputHandler(){
      public void write(      MuleEvent event,      OutputStream out) throws IOException {
        out.write(((String)src).getBytes(encoding));
      }
    }
;
  }
 else   if (src instanceof byte[]) {
    return new OutputHandler(){
      public void write(      MuleEvent event,      OutputStream out) throws IOException {
        out.write((byte[])src);
      }
    }
;
  }
 else   if (src instanceof Serializable) {
    return new OutputHandler(){
      public void write(      MuleEvent event,      OutputStream out) throws IOException {
        SerializationUtils.serialize((Serializable)src,out);
      }
    }
;
  }
 else {
    throw new TransformerException(MessageFactory.createStaticMessage("Unable to convert " + src.getClass() + " to OutputHandler."));
  }
}
