{
  try {
    Collection<LocalQueueTxJournalEntry> logEntries=this.transactionJournal.logEntriesForTx(txId);
    for (    LocalQueueTxJournalEntry entry : logEntries) {
      if (entry.isAdd()) {
        queueProvider.getQueue(entry.getQueueName()).putNow(entry.getValue());
      }
 else       if (entry.isAddFirst()) {
        queueProvider.getQueue(entry.getQueueName()).untake(entry.getValue());
      }
    }
    this.transactionJournal.logCommit(txId);
  }
 catch (  Exception e) {
    throw new ResourceManagerException(e);
  }
}
