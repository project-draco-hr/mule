{
  if (poolingProfile != null) {
    int numToBorrow=0;
    int initPolicy=poolingProfile.getInitialisationPolicy();
    if (initPolicy == PoolingProfile.INITIALISE_ALL) {
      numToBorrow=poolingProfile.getMaxActive();
    }
 else     if (initPolicy == PoolingProfile.INITIALISE_ONE) {
      numToBorrow=1;
    }
    List<Object> holderList=new ArrayList<Object>(numToBorrow);
    try {
      for (int t=0; t < numToBorrow; t++) {
        holderList.add(getPooledObjectFactory().makeObject());
      }
    }
  finally {
      for (int t=0; t < holderList.size(); t++) {
        Object obj=holderList.get(t);
        if (obj != null) {
          this.returnObject(obj);
        }
      }
    }
  }
}
