{
  if (!supportsProtocol(endpointUri.getFullScheme())) {
    throw new InitialisationException(new Message(Messages.SCHEME_X_NOT_COMPATIBLE_WITH_CONNECTOR_X,endpointUri.getFullScheme(),getClass().getName()),this);
  }
  Properties props=new Properties();
  props.putAll(endpointUri.getParams());
  if (endpointUri.getUserInfo() != null) {
    props.setProperty("username",endpointUri.getUsername());
    String passwd=endpointUri.getPassword();
    if (passwd != null) {
      props.setProperty("password",passwd);
    }
  }
  String host=endpointUri.getHost();
  if (host != null) {
    props.setProperty("hostname",host);
    props.setProperty("host",host);
  }
  if (endpointUri.getPort() > -1) {
    props.setProperty("port",String.valueOf(endpointUri.getPort()));
  }
  org.mule.util.BeanUtils.populateWithoutFail(this,props,true);
  try {
    setName(ObjectNameHelper.getConnectorName(this));
  }
 catch (  RegistryException e) {
    throw new InitialisationException(e,this);
  }
}
