{
  try {
    serviceDescriptor=(TransportServiceDescriptor)MuleManager.getRegistry().lookupServiceDescriptor(ServiceDescriptorFactory.PROVIDER_SERVICE_TYPE,getProtocol().toLowerCase(),serviceOverrides);
    if (serviceDescriptor == null) {
      throw new ServiceException(Message.createStaticMessage("No service descriptor found for transport: " + getProtocol() + ".  This transport does not appear to be installed."));
    }
    if (logger.isDebugEnabled()) {
      logger.debug("Loading DispatcherFactory for connector: " + getName() + " ("+ getClass().getName()+ ")");
    }
    this.setDispatcherFactory(serviceDescriptor.createDispatcherFactory());
    try {
      this.setDispatcherFactory(serviceDescriptor.createDispatcherFactory());
    }
 catch (    TransportServiceException e) {
      logger.debug("Transport '" + getProtocol() + "' will not support outbound endpoints: "+ e.getMessage());
    }
    defaultInboundTransformer=serviceDescriptor.createInboundTransformer();
    defaultOutboundTransformer=serviceDescriptor.createOutboundTransformer();
    defaultResponseTransformer=serviceDescriptor.createResponseTransformer();
    sessionHandler=serviceDescriptor.createSessionHandler();
    Map props=new HashMap();
    PropertiesUtils.getPropertiesWithPrefix(MuleManager.getInstance().getProperties(),getProtocol().toLowerCase(),props);
    if (props.size() > 0) {
      props=PropertiesUtils.removeNamespaces(props);
      org.mule.util.BeanUtils.populateWithoutFail(this,props,true);
    }
  }
 catch (  Exception e) {
    throw new InitialisationException(e,this);
  }
}
