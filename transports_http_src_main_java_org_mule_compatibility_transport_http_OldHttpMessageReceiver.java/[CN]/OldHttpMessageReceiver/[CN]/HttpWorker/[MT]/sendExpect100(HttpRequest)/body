{
  RequestLine requestLine=request.getRequestLine();
  HttpVersion requestVersion=requestLine.getHttpVersion();
  if (HTTP_1_1.equals(requestVersion)) {
    Header expectHeader=request.getFirstHeader(HEADER_EXPECT);
    if (expectHeader != null) {
      String expectHeaderValue=expectHeader.getValue();
      if (HEADER_EXPECT_CONTINUE_REQUEST_VALUE.equals(expectHeaderValue)) {
        HttpResponse expected=new HttpResponse();
        expected.setStatusLine(requestLine.getHttpVersion(),SC_CONTINUE);
        final DefaultMuleEvent event=new DefaultMuleEvent(new DefaultMuleMessage(expected,getEndpoint().getMuleContext()),flowConstruct);
        DefaultMuleEventEndpointUtils.populateFieldsFromInboundEndpoint(event,(InboundEndpoint)endpoint);
        RequestContext.setEvent(event);
        conn.writeResponse(transformResponse(expected,event));
      }
    }
  }
}
