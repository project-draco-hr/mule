{
  MuleMessage message=createMuleMessage(null);
  DefaultMuleEvent event=new DefaultMuleEvent(message,flowConstruct);
  DefaultMuleEventEndpointUtils.populateFieldsFromInboundEndpoint(event,(InboundEndpoint)endpoint);
  OptimizedRequestContext.unsafeSetEvent(event);
  HttpResponse response=new HttpResponse();
  response.setStatusLine(requestLine.getHttpVersion(),SC_METHOD_NOT_ALLOWED);
  response.setBody(HttpMessages.methodNotAllowed(method).toString() + CRLF);
  return transformResponse(response,event);
}
