{
  FunctionalTestComponent testComponent=(FunctionalTestComponent)getComponent(contextPath);
  assertNotNull(testComponent);
  EventCallback callback=new EventCallback(){
    @Override public void eventReceived(    final MuleEventContext context,    final Object component) throws Exception {
      MuleMessage msg=context.getMessage();
      assertEquals(requestPath,msg.getInboundProperty(HttpConnector.HTTP_REQUEST_PROPERTY));
      assertEquals(requestPath,msg.getInboundProperty(HttpConnector.HTTP_REQUEST_PATH_PROPERTY));
      assertEquals(contextPath,msg.getInboundProperty(HttpConnector.HTTP_CONTEXT_PATH_PROPERTY));
    }
  }
;
  testComponent.setEventCallback(callback);
  MuleMessage result=client.send(url,"Hello World",null);
  assertEquals("Hello World Received",getPayloadAsString(result));
  final int status=result.getInboundProperty(HttpConnector.HTTP_STATUS_PROPERTY,0);
  assertEquals(200,status);
}
