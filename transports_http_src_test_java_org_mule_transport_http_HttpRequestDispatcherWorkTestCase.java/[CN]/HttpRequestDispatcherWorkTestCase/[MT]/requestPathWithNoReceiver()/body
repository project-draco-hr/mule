{
  HttpRequestDispatcherWork httpRequestDispatcherWork=new HttpRequestDispatcherWork(mockHttpConnector,mockSocket);
  setUpSocketMessage();
  when(mockSocket.getLocalSocketAddress()).thenReturn(mockInetSocketAddress);
  when(mockHttpConnector.lookupReceiver(any(Socket.class),any(HttpRequest.class))).thenReturn(null);
  ByteArrayOutputStream socketOutput=new ByteArrayOutputStream();
  when(mockSocket.getOutputStream()).thenReturn(socketOutput);
  httpRequestDispatcherWork.run();
  String response=new String(socketOutput.toByteArray());
  assertThat(response.startsWith("HTTP/1.0 404 Not Found"),Is.is(true));
}
