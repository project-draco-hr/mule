{
  HttpRequestDispatcherWork httpRequestDispatcherWork=new HttpRequestDispatcherWork(mockHttpConnector,mockSocket);
  when(mockHttpConnector.lookupReceiver(isA(Socket.class),isA(HttpRequest.class))).thenReturn(mockHttpMessageReceiver);
  setUpSocketMessage();
  when(mockHttpMessageReceiver.createWork(isA(HttpServerConnection.class))).thenReturn(mockWork);
  httpRequestDispatcherWork.run();
  verify(mockWork,times(1)).run();
}
