{
  String packageName=type.getPackage().getName();
  String classFileName=type.getName().substring(packageName.length() + 1) + ".class";
  String classFilePath=type.getResource(classFileName).toString();
  String packagePath=packageName.replace(".","/");
  classFilePath=classFilePath.substring(0,classFilePath.lastIndexOf(packagePath));
  int pathIndex=classFilePath.lastIndexOf("/target/");
  if (pathIndex != -1) {
    classFilePath=classFilePath.substring(0,pathIndex + 1);
  }
  try {
    return new URL(classFilePath);
  }
 catch (  MalformedURLException e) {
    throw new RuntimeException("Could not locate type in path",e);
  }
}
