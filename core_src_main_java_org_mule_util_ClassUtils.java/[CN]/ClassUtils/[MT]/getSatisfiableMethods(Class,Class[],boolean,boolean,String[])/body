{
  List result=new ArrayList();
  List ignore=(ignoreMethods == null ? Collections.EMPTY_LIST : Arrays.asList(ignoreMethods));
  List methods=Arrays.asList(implementation.getMethods());
  for (Iterator iterator=methods.iterator(); iterator.hasNext(); ) {
    Method method=(Method)iterator.next();
    Class[] methodParams=method.getParameterTypes();
    if (compare(methodParams,parameterTypes,matchOnObject)) {
      if (!ignore.contains(method.getName())) {
        if ((method.getReturnType().getName().equals("void") && voidOk) || !method.getReturnType().getName().equals("void")) {
          result.add(method);
        }
      }
    }
  }
  return result;
}
