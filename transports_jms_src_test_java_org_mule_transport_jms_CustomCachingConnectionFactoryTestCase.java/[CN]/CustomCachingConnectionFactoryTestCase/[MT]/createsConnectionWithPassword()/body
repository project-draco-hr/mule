{
  when(delegate.createConnection(null,PASSWORD)).thenReturn(connection);
  CustomCachingConnectionFactory cachingConnectionFactory=new CustomCachingConnectionFactory(delegate,null,PASSWORD);
  Connection actualConnection=cachingConnectionFactory.createConnection();
  assertThat(actualConnection,is(instanceOf(Proxy.class)));
  verify(delegate.createConnection(null,PASSWORD));
}
