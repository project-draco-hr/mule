{
  File directory=temporaryFolder.newFolder();
  File child=new File(directory,"file");
  FileUtils.write(child,"child");
  File subFolder=new File(directory,"subfolder");
  subFolder.mkdir();
  File grandChild=new File(subFolder,GRAND_CHILD);
  FileUtils.write(grandChild,GRAND_CHILD);
  assertExists(true,child,subFolder,grandChild);
  MuleEvent event=getTestEvent("");
  event.setFlowVariable(DELETE,directory.getAbsolutePath());
  runFlow(DELETE,event);
  assertExists(false,directory,child,subFolder,grandChild);
}
