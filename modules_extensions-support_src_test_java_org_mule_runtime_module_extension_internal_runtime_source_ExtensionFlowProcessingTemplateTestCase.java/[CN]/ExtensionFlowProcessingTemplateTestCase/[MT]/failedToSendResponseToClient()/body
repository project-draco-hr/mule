{
  doThrow(runtimeException).when(completionHandler).onCompletion(same(event),any(ExtensionSourceExceptionCallback.class));
  template.sendResponseToClient(event,responseCompletionCallback);
  verify(completionHandler,never()).onFailure(any(Exception.class));
  verify(responseCompletionCallback).responseSentWithFailure(runtimeException,event);
}
