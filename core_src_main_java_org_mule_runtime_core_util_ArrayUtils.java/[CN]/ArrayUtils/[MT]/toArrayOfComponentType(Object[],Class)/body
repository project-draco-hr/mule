{
  if (objects == null || objects.getClass().getComponentType().equals(clazz)) {
    return objects;
  }
  if (clazz == null) {
    throw new IllegalArgumentException("Array target class must not be null");
  }
  Object[] result=(Object[])Array.newInstance(clazz,objects.length);
  System.arraycopy(objects,0,result,0,objects.length);
  return result;
}
