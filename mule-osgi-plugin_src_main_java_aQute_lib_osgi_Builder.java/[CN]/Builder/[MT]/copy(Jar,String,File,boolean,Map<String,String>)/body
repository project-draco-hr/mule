{
  if (doNotCopy.matcher(from.getName()).matches())   return;
  if (from.isDirectory()) {
    String next=path;
    if (next.length() != 0)     next+='/';
    File files[]=from.listFiles();
    for (int i=0; i < files.length; i++) {
      copy(jar,next + files[i].getName(),files[i],preprocess,extra);
    }
  }
 else {
    if (from.exists()) {
      Resource resource=new FileResource(from);
      if (preprocess) {
        resource=new PreprocessResource(this,resource);
      }
      jar.putResource(path,resource);
    }
 else {
      error("Input file does not exist: " + from);
    }
  }
}
