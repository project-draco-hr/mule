{
  ExpressionTransformer transformer=new ExpressionTransformer();
  transformer.setMuleContext(muleContext);
  transformer.setReturnSourceIfNull(true);
  ExpressionConfig config=new ExpressionConfig("null");
  ExpressionArgument argument=new ExpressionArgument("test",config,true);
  argument.setMuleContext(muleContext);
  transformer.addArgument(argument);
  Event event=getTestEvent("Test");
  Object result=transformer.transformMessage(event,null);
  assertTrue(result instanceof InternalMessage);
  InternalMessage transformedMessage=(InternalMessage)result;
  assertEquals("Test",transformedMessage.getPayload().getValue());
}
