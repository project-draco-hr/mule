{
  MuleClient client=new MuleClient();
  List results=new ArrayList();
  for (int i=0; i < getNumberOfMessages(); i++) {
    MuleMessage result=client.send("component1.endpoint","test",null);
    assertNotNull(result);
    results.add(result);
  }
  assertEquals(results.size(),getNumberOfMessages());
  for (Iterator iterator=results.iterator(); iterator.hasNext(); ) {
    MuleMessage umoMessage=(MuleMessage)iterator.next();
    assertEquals("request received by component 3",umoMessage.getPayloadAsString());
  }
}
