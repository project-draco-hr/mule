{
  int i=uri.indexOf("?");
  if (i == -1) {
    return uri;
  }
  String query=uri.substring(i + 1);
  String base=uri.substring(0,i + 1);
  StringBuffer newQuery=new StringBuffer();
  TreeMap<String,String> p=getPropertiesFromQueryString(query);
  for (  Map.Entry<String,String> entry : p.entrySet()) {
    if (!paramValue.equals(entry.getValue())) {
      newQuery.append(entry.getKey()).append("=").append(entry.getValue()).append("&");
    }
  }
  String result=base + newQuery.toString();
  if (result.endsWith("?") || result.endsWith("&")) {
    result=result.substring(0,result.length() - 1);
  }
  return result;
}
