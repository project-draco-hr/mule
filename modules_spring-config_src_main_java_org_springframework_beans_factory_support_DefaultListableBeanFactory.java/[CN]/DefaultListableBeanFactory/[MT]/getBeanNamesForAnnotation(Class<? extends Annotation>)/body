{
  List<String> results=new ArrayList<String>();
  for (  String beanName : this.beanDefinitionNames) {
    BeanDefinition beanDefinition=getBeanDefinition(beanName);
    if (!beanDefinition.isAbstract() && findAnnotationOnBean(beanName,annotationType) != null) {
      results.add(beanName);
    }
  }
synchronized (manualSingletonNames) {
    for (    String beanName : this.manualSingletonNames) {
      if (!results.contains(beanName) && findAnnotationOnBean(beanName,annotationType) != null) {
        results.add(beanName);
      }
    }
  }
  return results.toArray(new String[results.size()]);
}
