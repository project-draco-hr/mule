{
  Map<String,Object> commandlineOptions;
  try {
    commandlineOptions=SystemUtils.getCommandLineOptions(args,CLI_OPTIONS);
  }
 catch (  DefaultMuleException me) {
    throw new IllegalArgumentException(me.toString());
  }
  MuleUrlStreamHandlerFactory.installUrlStreamHandlerFactory();
  String application=(String)commandlineOptions.get("app");
  if (application == null) {
    application="default";
  }
  String propertiesFile=(String)commandlineOptions.get("props");
  if (propertiesFile != null) {
    setStartupPropertiesFile(propertiesFile);
  }
  StartupContext.get().setStartupOptions(commandlineOptions);
  deployer=new MuleAppDeployer(application);
  deployer.setMetaData(commandlineOptions);
  deployer.install();
}
