{
  if (awaitResponse && replyTo != null) {
    logger.debug("event was dispatched synchronously, but there is a ReplyTo route set, so using asynchronous dispatch");
    awaitResponse=false;
  }
  setMessageProperties(originalEvent.getFlowConstruct(),eventToRoute,route);
  if (logger.isDebugEnabled()) {
    logger.debug(eventToRoute.getMessage());
  }
  if (logger.isTraceEnabled()) {
    try {
      logger.trace("Request payload: \n" + StringMessageUtils.truncate(muleContext.getTransformationService().getPayloadForLogging(eventToRoute.getMessage()),100,false));
    }
 catch (    Exception e) {
      logger.trace("Request payload: \n(unable to retrieve payload: " + e.getMessage());
    }
  }
  MuleEvent result;
  try {
    result=sendRequestEvent(originalEvent,eventToRoute,route,awaitResponse);
  }
 catch (  MessagingException me) {
    throw me;
  }
catch (  Exception e) {
    throw new RoutingException(originalEvent,null,e);
  }
  if (getRouterStatistics() != null) {
    if (getRouterStatistics().isEnabled()) {
      getRouterStatistics().incrementRoutedMessage(route);
    }
  }
  if (result != null && !VoidMuleEvent.getInstance().equals(result)) {
    MuleMessage resultMessage=result.getMessage();
    if (logger.isTraceEnabled()) {
      if (resultMessage != null) {
        try {
          logger.trace("Response payload: \n" + StringMessageUtils.truncate(muleContext.getTransformationService().getPayloadForLogging(resultMessage),100,false));
        }
 catch (        Exception e) {
          logger.trace("Response payload: \n(unable to retrieve payload: " + e.getMessage());
        }
      }
    }
  }
  return result;
}
