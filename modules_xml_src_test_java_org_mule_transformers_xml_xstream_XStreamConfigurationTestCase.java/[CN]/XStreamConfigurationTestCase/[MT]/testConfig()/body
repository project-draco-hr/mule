{
  AbstractXStreamTransformer trans=(AbstractXStreamTransformer)muleContext.getRegistry().lookupTransformer("ObjectToXml");
  assertNotNull(trans);
  assertNotNull(trans.getAliases());
  assertEquals(Apple.class,trans.getAliases().get("apple"));
  assertNotNull(trans.getConverters());
  assertEquals(1,trans.getConverters().size());
  assertTrue(trans.getConverters().contains(DummyConverter.class));
  Apple apple=new Apple();
  apple.wash();
  Object result=trans.transform(apple);
  assertEquals("<apple>\n  <bitten>false</bitten>\n  <washed>true</washed>\n</apple>",result);
}
