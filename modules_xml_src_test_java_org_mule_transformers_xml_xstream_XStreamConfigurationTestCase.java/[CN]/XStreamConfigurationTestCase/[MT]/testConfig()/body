{
  AbstractXStreamTransformer transformer=(AbstractXStreamTransformer)muleContext.getRegistry().lookupTransformer("ObjectToXml");
  assertNotNull(transformer);
  assertNotNull(transformer.getAliases());
  assertEquals(Apple.class,transformer.getAliases().get("apple"));
  assertNotNull(transformer.getConverters());
  assertEquals(1,transformer.getConverters().size());
  assertTrue(transformer.getConverters().contains(DummyConverter.class));
  Apple apple=new Apple();
  apple.wash();
  Object result=transformer.transform(apple);
  assertEquals("<apple>\n  <bitten>false</bitten>\n  <washed>true</washed>\n</apple>",result);
}
