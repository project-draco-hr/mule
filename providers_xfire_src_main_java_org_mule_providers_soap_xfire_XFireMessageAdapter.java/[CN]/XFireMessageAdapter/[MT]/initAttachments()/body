{
  try {
    Attachments atts=this.messageContext.getInMessage().getAttachments();
    if (atts != null) {
      for (Iterator i=atts.getParts(); i.hasNext(); ) {
        Attachment att=((Attachment)i.next());
        super.addAttachment(att.getId(),att.getDataHandler());
      }
    }
  }
 catch (  Exception e) {
    logger.fatal("Failed to read attachments",e);
  }
}
