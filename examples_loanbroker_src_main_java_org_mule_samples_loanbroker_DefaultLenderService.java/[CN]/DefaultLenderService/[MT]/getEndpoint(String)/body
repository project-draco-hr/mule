{
  UMOEndpoint ep=RegistryContext.getRegistry().lookupEndpoint(name);
  if (ep == null) {
    throw new IllegalArgumentException("No endpoint registered called: " + name);
  }
  String endpoint=ep.getEndpointURI().getAddress();
  if (endpoint.startsWith("axis") || endpoint.startsWith("xfire") || endpoint.startsWith("glue")|| endpoint.startsWith("soap")) {
    int i=endpoint.indexOf('?');
    if (i > -1) {
      endpoint=endpoint.replaceFirst("\\?","/" + name + "?method=getLoanQuote\\&");
    }
 else {
      endpoint+="/" + name + "?method=getLoanQuote";
    }
  }
  return endpoint;
}
