{
  List<MuleMessage> parentList=new ArrayList<>();
  List<MuleMessage> list1=new ArrayList<>();
  List<MuleMessage> list2=new ArrayList<>();
  list1.add(new DefaultMuleMessage("a1"));
  list1.add(new DefaultMuleMessage("a2"));
  list1.add(new DefaultMuleMessage("a3"));
  list2.add(new DefaultMuleMessage("b1"));
  list2.add(new DefaultMuleMessage("b2"));
  list2.add(new DefaultMuleMessage("c1"));
  parentList.add(new DefaultMuleMessage(list1));
  parentList.add(new DefaultMuleMessage(list2));
  MuleMessage parentCollection=new DefaultMuleMessage(parentList);
  nestedForeach.process(getTestEvent(parentCollection));
  assertNestedProcessedMessages();
}
