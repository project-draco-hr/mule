{
  if (transactionContextProvider.isTransactional()) {
    Serializable item=transactionContextProvider.getTransactionalContext().peek(queue);
    return postProcessIfNeeded(item);
  }
 else {
    return postProcessIfNeeded(queue.peek());
  }
}
