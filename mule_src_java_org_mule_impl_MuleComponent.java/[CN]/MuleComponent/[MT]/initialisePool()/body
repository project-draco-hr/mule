{
  try {
    proxyPool=descriptor.getPoolingProfile().getPoolFactory().createPool(descriptor);
    if (descriptor.getPoolingProfile().getInitialisationPolicy() == PoolingProfile.POOL_INITIALISE_ALL_COMPONENTS) {
      List components=new ArrayList();
      int threads=descriptor.getPoolingProfile().getMaxActive();
      for (int i=0; i < threads; i++) {
        components.add(proxyPool.borrowObject());
      }
      for (int i=0; i < threads; i++) {
        proxyPool.returnObject(components.remove(0));
      }
    }
 else     if (descriptor.getPoolingProfile().getInitialisationPolicy() == PoolingProfile.POOL_INITIALISE_ONE_COMPONENT) {
      proxyPool.returnObject(proxyPool.borrowObject());
    }
    poolInitialised.set(true);
  }
 catch (  Exception e) {
    throw new InitialisationException(new Message(Messages.X_FAILED_TO_INITIALISE,"Proxy Pool"),e,this);
  }
}
