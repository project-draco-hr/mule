{
  Object method=event.getMessage().getOutboundProperty(MuleProperties.MULE_METHOD_PROPERTY);
  if (method == null) {
    method=endpoint.getEndpointURI().getParams().getProperty(MuleProperties.MULE_METHOD_PROPERTY);
  }
  if (method == null) {
    throw new DispatchException(AxisMessages.cannotInvokeCallWithoutOperation(),event,this);
  }
 else   if (method instanceof SoapMethod) {
synchronized (this) {
      if (callParameters == null) {
        callParameters=new HashMap<String,SoapMethod>();
      }
      SoapMethod soapMethod=(SoapMethod)method;
      callParameters.put(((SoapMethod)method).getName().getLocalPart(),soapMethod);
    }
  }
  return method;
}
