{
  MuleClient client=new MuleClient(muleContext);
  try {
    client.send(outputEndpointName,payload,null);
    TestCase.fail(here() + " should have thrown an exception");
  }
 catch (  MuleException e) {
    e.printStackTrace();
    TestCase.assertTrue(here() + ", exception {" + e+ "} must be a "+ DispatchException.class.getSimpleName(),e instanceof DispatchException);
    TestCase.assertTrue(here() + ", exception.getCause() {" + e+ "} must be a "+ IllegalArgumentException.class.getName(),e.getCause() instanceof IllegalArgumentException);
    TestCase.assertEquals(here(),expectedIllegalArgumentExceptionMessage(),e.getCause().getMessage());
  }
}
