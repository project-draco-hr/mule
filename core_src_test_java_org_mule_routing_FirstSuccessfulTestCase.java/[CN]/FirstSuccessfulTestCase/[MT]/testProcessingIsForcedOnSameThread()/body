{
  MessageProcessor checkForceSyncFlag=new MessageProcessor(){
    @Override public MuleEvent process(    MuleEvent event) throws MuleException {
      MuleMessage message=event.getMessage();
      Boolean deliveryForcedInSameThread=message.getInboundProperty(MuleProperties.MULE_FORCE_SYNC_PROPERTY,Boolean.FALSE);
      assertTrue(deliveryForcedInSameThread.booleanValue());
      return event;
    }
  }
;
  FirstSuccessful router=createFirstSuccessfulRouter(checkForceSyncFlag);
  router.initialise();
  router.process(getTestEvent(TEST_MESSAGE));
}
