{
  ExpressionEvaluator extractor=(ExpressionEvaluator)evaluators.get(evaluator);
  if (extractor == null) {
    throw new IllegalArgumentException(CoreMessages.expressionEvaluatorNotRegistered(evaluator).getMessage());
  }
  Object result=extractor.evaluate(expression,message);
  if (result == null && failIfNull) {
    throw new ExpressionRuntimeException(CoreMessages.expressionEvaluatorReturnedNull(evaluator,expression));
  }
  if (logger.isDebugEnabled()) {
    logger.debug("Result of expression: " + evaluator + ":"+ expression+ " is: "+ result);
  }
  return result;
}
