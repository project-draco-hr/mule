{
  EndpointMessageProcessorChainFactory factory=getMessageProcessorsFactory();
  MessageProcessor processorChain=factory.createInboundMessageProcessorChain(this,flowConstruct,listener);
  if (processorChain instanceof MuleContextAware) {
    ((MuleContextAware)processorChain).setMuleContext(getMuleContext());
  }
  if (processorChain instanceof FlowConstructAware) {
    ((FlowConstructAware)processorChain).setFlowConstruct(flowContruct);
  }
  if (processorChain instanceof Initialisable) {
    ((Initialisable)processorChain).initialise();
  }
  MessageProcessor polledMp=getPolledMessageProcessor();
  if (polledMp instanceof MuleContextAware) {
    ((MuleContextAware)polledMp).setMuleContext(getMuleContext());
  }
  if (polledMp instanceof FlowConstructAware) {
    ((FlowConstructAware)polledMp).setFlowConstruct(flowContruct);
  }
  if (polledMp instanceof Initialisable) {
    ((Initialisable)polledMp).initialise();
  }
  return processorChain;
}
