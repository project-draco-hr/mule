{
switch (key) {
case MAMMAL:
    return loader.load(Bear.class);
case FISH:
  return loader.load(SwordFish.class);
default :
throw new MetadataResolvingException("Cannot identify animal",INVALID_METADATA_KEY);
}
}
