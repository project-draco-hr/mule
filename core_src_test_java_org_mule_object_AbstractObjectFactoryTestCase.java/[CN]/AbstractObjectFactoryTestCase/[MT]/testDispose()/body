{
  AbstractObjectFactory factory=(AbstractObjectFactory)getObjectFactory();
  factory.setObjectClass(Object.class);
  muleContext.getRegistry().applyProcessorsAndLifecycle(factory);
  factory.dispose();
  assertNull(factory.getObjectClass());
  try {
    factory.getInstance();
    fail("expected InitialisationException");
  }
 catch (  InitialisationException iex) {
  }
}
