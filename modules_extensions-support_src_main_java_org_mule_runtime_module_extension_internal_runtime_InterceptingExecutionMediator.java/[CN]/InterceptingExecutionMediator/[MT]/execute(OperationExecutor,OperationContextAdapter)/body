{
  Object resultValue=intercepted.execute(executor,context);
  if (!(resultValue instanceof InterceptingCallback)) {
    throw new IllegalStateException(format("operation '%s' was expected to return a '%s' but a '%s' was found instead",context.getOperationModel().getName(),InterceptingCallback.class.getSimpleName(),resultValue));
  }
  context.setVariable(INTERCEPTING_CALLBACK_PARAM,resultValue);
  return ((InterceptingCallback)resultValue).getResult();
}
