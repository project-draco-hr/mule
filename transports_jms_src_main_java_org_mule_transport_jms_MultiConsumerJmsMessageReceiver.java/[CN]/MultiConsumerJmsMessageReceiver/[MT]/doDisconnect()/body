{
  logger.debug("doDisconnect()");
  SubReceiver sub;
  for (Iterator<SubReceiver> it=consumers.iterator(); it.hasNext(); ) {
    sub=it.next();
    try {
      sub.doDisconnect();
    }
  finally {
      sub=null;
    }
  }
  consumers.clear();
  if (session != null) {
    try {
      session.close();
    }
 catch (    Exception e) {
      logger.warn("Failed to close jms session: " + e.getMessage());
    }
 finally {
      session=null;
    }
  }
}
