{
  if (listenerClass == null) {
    throw new NullPointerException("Listener class cannot be null");
  }
  Class eventType=null;
  for (Iterator iterator=eventsMap.keySet().iterator(); iterator.hasNext(); ) {
    Class clazz=(Class)iterator.next();
    if (clazz.isAssignableFrom(listenerClass)) {
      eventType=(Class)eventsMap.get(clazz);
      break;
    }
  }
  if (eventType != null) {
    return (TreeMap)listenersMap.get(eventType);
  }
 else {
    throw new IllegalArgumentException(new Message(Messages.PROPERTY_X_IS_NOT_SUPPORTED_TYPE_X_IT_IS_TYPE_X,"Listener Type","Registered Type",listenerClass.getName()).getMessage());
  }
}
