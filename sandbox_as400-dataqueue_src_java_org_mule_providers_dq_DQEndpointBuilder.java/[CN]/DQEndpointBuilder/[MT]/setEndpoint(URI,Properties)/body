{
  String lib=(String)props.get("lib");
  if (uri.getPath().length() > 0) {
    lib=uri.getHost();
    props.setProperty("lib",lib);
    address="/" + lib + uri.getPath();
  }
 else   if (lib == null) {
    throw new MalformedEndpointException("Could not extract Lib name: " + uri);
  }
 else {
    if (!lib.startsWith("/"))     lib="/" + lib;
    if (!lib.endsWith("/"))     lib+="/";
    address=lib + uri.getHost();
  }
}
