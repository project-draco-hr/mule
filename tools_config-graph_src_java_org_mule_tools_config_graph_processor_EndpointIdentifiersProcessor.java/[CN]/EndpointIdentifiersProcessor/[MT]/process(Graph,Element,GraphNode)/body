{
  Element endpointIdentifiers=currentElement.getChild("endpoint-identifiers");
  if (endpointIdentifiers == null) {
    environment.log("no endpoint-identifiers tag");
    return;
  }
  List namedChildren=endpointIdentifiers.getChildren("endpoint-identifier");
  for (Iterator iter=namedChildren.iterator(); iter.hasNext(); ) {
    Element endpoint=(Element)iter.next();
    GraphNode node=graph.addNode();
    node.getInfo().setFillColor(ColorRegistry.COLOR_DEFINED_ENDPOINTS);
    String name=endpoint.getAttributeValue("name");
    String value=lookupPropertyTemplate(endpoint.getAttributeValue("value"));
    node.getInfo().setHeader(name);
    node.getInfo().setCaption(value);
    environment.getEndpointRegistry().addEndpoint(name,node);
    environment.getProperties().setProperty(name,value);
  }
}
