{
  MuleClient muleClient=new MuleClient(muleContext);
  dispatchAndWaitForDelivery(new DispatchParameters(INBOUND_ENDPOINT_NAME,OUTBOUND_ENDPOINT_NAME));
  SftpClient sftpClient=null;
  try {
    sftpClient=getSftpClient(muleClient,OUTBOUND_ENDPOINT_NAME);
    ImmutableEndpoint endpoint=(ImmutableEndpoint)muleClient.getProperty(OUTBOUND_ENDPOINT_NAME);
    assertTrue("A new file in the outbound endpoint should exist",super.verifyFileExists(sftpClient,endpoint.getEndpointURI().getPath(),FILENAME));
  }
  finally {
    sftpClient.disconnect();
  }
}
