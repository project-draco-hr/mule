{
  dispatchAndWaitForDelivery(new DispatchParameters(INBOUND_ENDPOINT_NAME,OUTBOUND_ENDPOINT_NAME));
  SftpClient client=null;
  try {
    client=getSftpClient(OUTBOUND_ENDPOINT_NAME);
    ImmutableEndpoint endpoint=muleContext.getRegistry().lookupObject(OUTBOUND_ENDPOINT_NAME);
    assertTrue("A new file in the outbound endpoint should exist",super.verifyFileExists(client,endpoint.getEndpointURI().getPath(),FILENAME));
  }
  finally {
    if (client != null) {
      client.disconnect();
    }
  }
}
