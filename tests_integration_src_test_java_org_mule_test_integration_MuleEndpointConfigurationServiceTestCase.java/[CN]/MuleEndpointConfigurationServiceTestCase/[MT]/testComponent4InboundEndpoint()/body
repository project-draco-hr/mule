{
  Service service=muleContext.getRegistry().lookupService("TestComponent4");
  assertNotNull(service);
  assertNotNull(((ServiceCompositeMessageSource)service.getMessageSource()).getEndpoints());
  assertEquals(1,((ServiceCompositeMessageSource)(service).getMessageSource()).getEndpoints().size());
  ImmutableEndpoint endpoint=((ServiceCompositeMessageSource)(service).getMessageSource()).getEndpoints().get(0);
  assertNotNull(endpoint);
  assertEquals(VMConnector.VM,endpoint.getConnector().getProtocol().toLowerCase());
  assertEquals("queue4",endpoint.getEndpointURI().getAddress());
  assertFalse(endpoint.getTransformers().isEmpty());
  assertTrue(endpoint.getTransformers().get(0) instanceof ObjectToXml);
  assertTrue(endpoint instanceof InboundEndpoint);
}
