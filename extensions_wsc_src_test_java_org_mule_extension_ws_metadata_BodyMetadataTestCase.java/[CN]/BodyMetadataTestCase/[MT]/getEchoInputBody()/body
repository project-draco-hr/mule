{
  MetadataResult<ComponentMetadataDescriptor> result=getMetadata(ECHO_FLOW,ECHO);
  MetadataType type=result.get().getInputMetadata().get().getParameterMetadata(BODY_PARAM).get().getType();
  Collection<ObjectFieldType> fields=toObjectType(type).getFields();
  assertThat(fields,hasSize(1));
  ObjectFieldType operationField=fields.iterator().next();
  assertThat(operationField.getKey().getName().getLocalPart(),is(ECHO));
  Collection<ObjectFieldType> operationParams=toObjectType(operationField.getValue()).getFields();
  assertThat(operationParams,hasSize(1));
  ObjectFieldType field=operationParams.iterator().next();
  assertThat(field.getKey().getName().getLocalPart(),is("text"));
  assertThat(field.getValue(),is(instanceOf(StringType.class)));
}
