{
  if (outputType == null) {
    throw new TransformerException(CoreMessages.objectIsNull("outputType"));
  }
  MuleMessage transformedMessage=muleContext.getTransformationService().transform(message,outputType);
  if (message.getDataType().isStreamType()) {
    setMessage(transformedMessage);
  }
  return transformedMessage.getPayload();
}
