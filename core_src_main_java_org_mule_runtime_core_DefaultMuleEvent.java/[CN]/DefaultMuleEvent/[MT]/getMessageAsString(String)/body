{
  try {
    MuleMessage transformedMessage=getMuleContext().getTransformationService().transform(message,DataType.builder().type(String.class).encoding(encoding).build());
    if (isConsumable(message.getPayload().getClass())) {
      setMessage(transformedMessage);
    }
    return (String)transformedMessage.getPayload();
  }
 catch (  Exception e) {
    throw new DefaultMuleException(CoreMessages.cannotReadPayloadAsString(message.getClass().getName()),e);
  }
}
