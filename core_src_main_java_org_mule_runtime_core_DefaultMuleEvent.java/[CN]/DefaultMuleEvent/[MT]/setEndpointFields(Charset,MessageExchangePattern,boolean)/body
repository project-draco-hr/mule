{
  if (!message.getDataType().getMediaType().getCharset().isPresent() && encoding != null) {
    this.message=MuleMessage.builder(message).mediaType(DataType.builder(message.getDataType()).charset(encoding).build().getMediaType()).build();
  }
  this.exchangePattern=exchangePattern;
  this.transacted=transacted;
  this.synchronous=resolveEventSynchronicity();
  this.nonBlocking=isFlowConstructNonBlockingProcessingStrategy();
}
