{
  PoolingProfile pp=getDefaultPoolingProfile();
  pp.setExhaustedAction(PoolingProfile.WHEN_EXHAUSTED_FAIL);
  PooledObjectFactory of=new PooledObjectFactory(Orange.class,pp);
  of.initialise();
  assertEquals(0,of.getPoolSize());
  Object borrowed=of.getInstance();
  assertNotNull(borrowed);
  assertEquals(1,of.getPoolSize());
  of.release(borrowed);
  assertEquals(0,of.getPoolSize());
  borrowed=of.getInstance();
  assertNotNull(borrowed);
  assertEquals(1,of.getPoolSize());
  Object borrowed2=of.getInstance();
  assertNotNull(borrowed2);
  assertEquals(2,of.getPoolSize());
}
