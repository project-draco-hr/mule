{
  SedaModel model=new SedaModel();
  model.setManagementContext(managementContext);
  managementContext.applyLifecycle(model);
  UMOComponent c=new SedaComponent();
  c.setName("test");
  PooledObjectFactory of=new PooledObjectFactory(Orange.class,getDefaultPoolingProfile());
  of.initialise();
  c.setServiceFactory(of);
  c.setModel(model);
  c.setManagementContext(managementContext);
  managementContext.applyLifecycle(c);
  assertTrue(c.getServiceFactory() instanceof PooledObjectFactory);
  assertEquals(0,((PooledObjectFactory)c.getServiceFactory()).getPoolSize());
  assertTrue(c.getServiceFactory().getOrCreate() instanceof Orange);
  assertEquals(1,((PooledObjectFactory)c.getServiceFactory()).getPoolSize());
  c.dispose();
  assertEquals(0,((PooledObjectFactory)c.getServiceFactory()).getPoolSize());
}
