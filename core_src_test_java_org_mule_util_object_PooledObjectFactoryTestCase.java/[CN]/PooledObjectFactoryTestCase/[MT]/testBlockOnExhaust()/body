{
  PoolingProfile pp=getDefaultPoolingProfile();
  pp.setExhaustedAction(PoolingProfile.WHEN_EXHAUSTED_WAIT);
  PooledObjectFactory of=new PooledObjectFactory(Orange.class,pp);
  of.initialise();
  Object borrowed=null;
  assertEquals(0,of.getPoolSize());
  borrowed=of.getInstance();
  borrowed=of.getInstance();
  assertEquals(2,of.getPoolSize());
  long borrowerWait=500;
  Borrower borrower=new Borrower(of,borrowerWait);
  borrower.start();
  try {
    Thread.sleep(200);
  }
 catch (  InterruptedException e) {
  }
  borrowed=of.getInstance();
  assertNotNull(borrowed);
}
