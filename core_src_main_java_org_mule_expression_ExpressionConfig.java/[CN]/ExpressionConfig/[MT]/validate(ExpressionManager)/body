{
  if (expression == null) {
    parse(unParsedExpression);
  }
  if (expression == null) {
    throw new IllegalArgumentException(CoreMessages.objectIsNull("expression").getMessage());
  }
  if (CUSTOM_EVALUATOR.equalsIgnoreCase(evaluator)) {
    if (customEvaluator == null) {
      throw new IllegalArgumentException(CoreMessages.objectIsNull("custom evaluator").getMessage());
    }
 else {
      evaluator=customEvaluator;
    }
  }
  if (evaluator != null && !manager.isEvaluatorRegistered(evaluator)) {
    throw new IllegalArgumentException(CoreMessages.expressionEvaluatorNotRegistered(evaluator).getMessage());
  }
}
