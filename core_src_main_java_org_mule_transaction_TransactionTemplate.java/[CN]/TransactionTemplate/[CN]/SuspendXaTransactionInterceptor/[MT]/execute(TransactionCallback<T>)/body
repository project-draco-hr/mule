{
  Transaction suspendedXATx=null;
  Transaction tx=TransactionCoordination.getInstance().getTransaction();
  byte action=config.getAction();
  if ((action == TransactionConfig.ACTION_NONE || action == TransactionConfig.ACTION_ALWAYS_BEGIN) && tx != null && tx.isXA()) {
    if (logger.isDebugEnabled()) {
      logger.debug("suspending XA tx " + action + ", "+ "current TX: "+ tx);
    }
    suspendedXATx=tx;
    suspendXATransaction(suspendedXATx);
  }
  T result=next.execute(callback);
  if (suspendedXATx != null) {
    resumeXATransaction(suspendedXATx);
  }
  return result;
}
