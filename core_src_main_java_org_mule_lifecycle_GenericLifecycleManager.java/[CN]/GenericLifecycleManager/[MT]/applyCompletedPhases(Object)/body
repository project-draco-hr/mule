{
  logger.debug("applying lifecycle to " + object);
  LifecyclePhase lcp;
  String phase;
  Integer phaseIndex;
  for (  Object completedPhase : completedPhases) {
    phase=(String)completedPhase;
    phaseIndex=index.get(phase);
    lcp=(LifecyclePhase)lifecycles.get(phaseIndex);
    if (logger.isDebugEnabled()) {
      logger.debug("phase: " + lcp);
    }
    lcp.applyLifecycle(object);
  }
  if (getExecutingPhase() != null) {
    phaseIndex=index.get(getExecutingPhase());
    lcp=(LifecyclePhase)lifecycles.get(phaseIndex);
    if (logger.isDebugEnabled()) {
      logger.debug("and executing: " + lcp);
    }
    lcp.applyLifecycle(object);
  }
}
