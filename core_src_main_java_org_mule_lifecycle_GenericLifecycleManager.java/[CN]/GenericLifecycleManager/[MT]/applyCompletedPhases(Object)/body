{
  logger.debug("applying lifecycle to " + object);
  LifecyclePhase lcp;
  String phase;
  Integer phaseIndex;
  for (Iterator iterator=completedPhases.iterator(); iterator.hasNext(); ) {
    phase=(String)iterator.next();
    phaseIndex=(Integer)index.get(phase);
    lcp=(LifecyclePhase)lifecycles.get(phaseIndex.intValue());
    if (logger.isDebugEnabled()) {
      logger.debug("phase: " + lcp);
    }
    lcp.applyLifecycle(object);
  }
  if (getExecutingPhase() != null) {
    phaseIndex=(Integer)index.get(getExecutingPhase());
    lcp=(LifecyclePhase)lifecycles.get(phaseIndex.intValue());
    if (logger.isDebugEnabled()) {
      logger.debug("and executing: " + lcp);
    }
    lcp.applyLifecycle(object);
  }
}
