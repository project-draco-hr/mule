{
  final FunctionalTestComponent ftc=getFunctionalTestComponent(ftcName);
  final Latch latch=new Latch();
  ftc.setEventCallback(new EventCallback(){
    @Override public void eventReceived(    final MuleEventContext context,    final Object component) throws Exception {
      latch.countDown();
    }
  }
);
  final String payload=RandomStringUtils.randomAlphabetic(10);
  muleClient.dispatch(jmsDestinationUri,payload,null);
  latch.await(getTestTimeoutSecs(),TimeUnit.SECONDS);
  assertEquals(1,ftc.getReceivedMessagesCount());
  assertEquals(payload,byteArrayOrStringtoString(ftc.getReceivedMessage(1)));
}
