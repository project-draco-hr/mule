{
  address="";
  if (uri.getHost() != null) {
    this.address=uri.getScheme() + "://" + uri.getHost();
    if (uri.getPort() != -1) {
      address+=":" + uri.getPort();
    }
  }
  if (uri.getPath() != null) {
    address+=uri.getPath();
  }
  String query=uri.getQuery();
  if (query != null) {
    int i=query.indexOf("&");
    if (i > -1) {
      address+="?" + query.substring(0,i);
    }
 else {
      address+="?" + query;
    }
  }
}
