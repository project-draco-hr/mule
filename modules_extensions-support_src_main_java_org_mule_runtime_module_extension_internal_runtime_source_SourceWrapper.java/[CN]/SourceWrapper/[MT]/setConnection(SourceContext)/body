{
  final Optional<ConfigurationInstance> configurationInstance=sourceContext.getConfigurationInstance();
  if (connectionSetter.isPresent() && !connectionSet && configurationInstance.isPresent()) {
    try {
      connectionHandler=connectionManager.getConnection(configurationInstance.get().getValue());
      connectionSetter.get().set(delegate,connectionHandler.getConnection());
      connectionSet=true;
    }
 catch (    ConnectionException e) {
      throw new MuleRuntimeException(createStaticMessage(String.format("Could not obtain connection for message source '%s' on flow '%s'",getName(),flowConstruct.getName())),e);
    }
  }
}
