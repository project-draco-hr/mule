{
  Mockito.when(this.callback.isProtected()).thenReturn(true);
  Mockito.when(this.processor.getAccessTokenId()).thenReturn(ACCESS_TOKEN_ID);
  Mockito.when(this.manager.acquireAccessToken(ACCESS_TOKEN_ID)).thenReturn(this.adapter);
  Mockito.when(this.next.execute(this.callback,this.adapter,(MessageProcessor)this.processor,this.event)).thenThrow(new RuntimeException());
  this.interceptor.execute(callback,this.adapter,(MessageProcessor)this.processor,this.event);
  Mockito.verify(this.manager).acquireAccessToken(ACCESS_TOKEN_ID);
  Mockito.verify(this.next,Mockito.never()).execute(this.callback,this.adapter,(MessageProcessor)this.processor,this.event);
  Mockito.verify(this.manager).destroyAccessToken(ACCESS_TOKEN_ID,this.adapter);
  Mockito.verify(this.manager).releaseAccessToken(ACCESS_TOKEN_ID,this.adapter);
}
