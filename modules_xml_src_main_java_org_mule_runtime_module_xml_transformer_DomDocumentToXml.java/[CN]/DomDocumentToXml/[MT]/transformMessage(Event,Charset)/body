{
  Object src=event.getMessage().getPayload().getValue();
  try {
    if (byte[].class.equals(getReturnDataType().getType())) {
      return convertToBytes(src,encoding);
    }
 else {
      return convertToText(src,encoding);
    }
  }
 catch (  Exception e) {
    throw new TransformerException(this,e);
  }
}
