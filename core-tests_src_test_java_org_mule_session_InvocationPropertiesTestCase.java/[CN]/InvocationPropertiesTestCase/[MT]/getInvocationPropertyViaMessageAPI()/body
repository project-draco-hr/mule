{
  MuleMessage message=new DefaultMuleMessage("data",muleContext);
  MuleEvent event=new DefaultMuleEvent(message,MessageExchangePattern.ONE_WAY,getTestFlow());
  Object nonSerializable=new Object();
  event.setFlowVariable("key","value");
  event.setFlowVariable("key2",nonSerializable);
  assertEquals(2,message.getPropertyNames(PropertyScope.INVOCATION).size());
  assertEquals("value",message.getInvocationProperty("key"));
  assertEquals(nonSerializable,message.getInvocationProperty("key2"));
}
