{
  MuleClient client=new MuleClient(muleContext);
  MuleMessage result;
  for (  InetAddress inetAddress : getAllLocalInetAddresses()) {
    if (!inetAddress.isLoopbackAddress()) {
      try {
        result=client.send("tcp://" + inetAddress.getHostAddress() + ":"+ dynamicPort1.getNumber(),TEST_MESSAGE,null);
        assertNull(result);
      }
 catch (      DispatchException ex) {
        ex.printStackTrace();
      }
      try {
        result=client.send("tcp://" + inetAddress.getHostAddress() + ":"+ dynamicPort2.getNumber(),TEST_MESSAGE,null);
        assertNull(result);
      }
 catch (      DispatchException ex) {
        ex.printStackTrace();
      }
      result=client.send("tcp://" + inetAddress.getHostAddress() + ":"+ dynamicPort3.getNumber(),TEST_MESSAGE,null);
      assertEquals(TEST_MESSAGE + " Received",result.getPayloadAsString());
    }
  }
}
