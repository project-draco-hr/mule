{
  Element providerElement=new TopLevelElement();
  providerElement.setName(providerModel.getName());
  providerElement.setSubstitutionGroup(MULE_EXTENSION_CONNECTION_PROVIDER_ELEMENT);
  LocalComplexType complexType=new LocalComplexType();
  providerElement.setComplexType(complexType);
  ExtensionType providerType=new ExtensionType();
  providerType.setBase(MULE_EXTENSION_CONNECTION_PROVIDER_TYPE);
  ComplexContent complexContent=new ComplexContent();
  complexContent.setExtension(providerType);
  complexType.setComplexContent(complexContent);
  schema.getSimpleTypeOrComplexTypeOrGroup().add(providerElement);
  final ExplicitGroup sequence=new ExplicitGroup();
  ConnectionHandlingTypeModelProperty connectionHandlingType=providerModel.getModelProperty(ConnectionHandlingTypeModelProperty.KEY);
  if (connectionHandlingType != null) {
    if (connectionHandlingType.isPooled() || connectionHandlingType.isCached()) {
      addValidationFlag(providerType);
      addConnectionProviderRetryPolicy(sequence);
    }
    if (connectionHandlingType.isPooled()) {
      addConnectionProviderPoolingProfile(sequence,providerModel);
    }
  }
  registerParameters(providerType,sequence,providerModel.getParameterModels());
  return this;
}
