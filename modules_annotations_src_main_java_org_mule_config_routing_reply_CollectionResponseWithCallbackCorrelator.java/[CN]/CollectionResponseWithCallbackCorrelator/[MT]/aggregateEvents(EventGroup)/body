{
  MuleEvent event=super.aggregateEvents(events);
  if (!(event.getFlowConstruct() instanceof Service)) {
    throw new UnsupportedOperationException("CollectionResponseWithCallbackCorrelator is only supported with Service");
  }
  try {
    return ((Service)event.getFlowConstruct()).getComponent().process(event);
  }
 catch (  MuleException e) {
    throw new AggregationException(AnnotationsMessages.failedToInvokeReplyMethod(callback),events,event.getEndpoint());
  }
}
