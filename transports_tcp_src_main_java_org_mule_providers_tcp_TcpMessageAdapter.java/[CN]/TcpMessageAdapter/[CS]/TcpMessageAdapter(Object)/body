{
  if (message instanceof MuleMessage) {
    MuleMessage muleMessage=(MuleMessage)message;
    Iterator names=muleMessage.getPropertyNames().iterator();
    while (names.hasNext()) {
      Object name=names.next();
      this.properties.put(name,muleMessage.getProperty(name.toString()));
    }
    this.message=muleMessage.getPayload();
  }
 else {
    this.message=message;
  }
}
