{
  int port=dynamicPort.getNumber();
  String url=String.format("http://localhost:%d/weather-forecast?wsdl",port);
  String wsdl=new String(FileCopyUtils.copyToByteArray((InputStream)muleClient.request(url,getTestTimeoutMillis()).getPayload()));
  assertTrue(wsdl.contains("GetWeatherByZipCode"));
  final String weatherForecast=muleClient.send("wsdl-cxf:http://localhost:" + port + "/weather-forecast?wsdl&method=GetWeatherByZipCode","95050",null,getTestTimeoutMillis()).getPayloadAsString();
  assertEquals(new WeatherForecaster().getByZipCode("95050"),weatherForecast);
}
