{
  String spaceUrl=endpoint.getEndpointURI().toString();
  logger.info("looking for space: " + spaceUrl);
  UMOSpace space=(UMOSpace)spaces.get(spaceUrl);
  if (space == null) {
    logger.info("Space not found, creating space: " + spaceUrl);
    space=spaceFactory.create(spaceUrl);
    spaces.put(spaceUrl,space);
    if (endpoint.getTransactionConfig().getFactory() != null) {
      space.setTransactionFactory(endpoint.getTransactionConfig().getFactory());
    }
  }
  return space;
}
