{
  cookieWrapper.setName("#[name]");
  cookieWrapper.setValue("#[value]");
  cookieWrapper.setDomain("#[domain]");
  cookieWrapper.setPath("#[path]");
  cookieWrapper.setMaxAge("#[maxAge]");
  cookieWrapper.setSecure("#[secure]");
  cookieWrapper.setVersion("#[version]");
  when(mockExpressionManager.parse("#[name]",mockMuleMessage)).thenReturn("test");
  when(mockExpressionManager.parse("#[value]",mockMuleMessage)).thenReturn("test");
  when(mockExpressionManager.parse("#[domain]",mockMuleMessage)).thenReturn("localhost");
  when(mockExpressionManager.parse("#[path]",mockMuleMessage)).thenReturn("/");
  when(mockExpressionManager.parse("#[maxAge]",mockMuleMessage)).thenReturn("3600");
  when(mockExpressionManager.parse("#[secure]",mockMuleMessage)).thenReturn("true");
  when(mockExpressionManager.parse("#[version]",mockMuleMessage)).thenReturn("1");
  cookieWrapper.parse(mockMuleMessage,mockExpressionManager);
  Cookie cookie=cookieWrapper.createCookie();
  assertEquals("test",cookie.getName());
  assertEquals("test",cookie.getValue());
  assertEquals("localhost",cookie.getDomain());
  assertEquals("/",cookie.getPath());
  assertTrue(cookie.getSecure());
  assertEquals(1,cookie.getVersion());
}
