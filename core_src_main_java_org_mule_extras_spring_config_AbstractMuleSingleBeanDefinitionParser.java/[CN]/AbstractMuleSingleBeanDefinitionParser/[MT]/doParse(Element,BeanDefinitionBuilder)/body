{
  NamedNodeMap attributes=element.getAttributes();
  for (int x=0; x < attributes.getLength(); x++) {
    Attr attribute=(Attr)attributes.item(x);
    String name=attribute.getLocalName();
    if (name == null) {
      name=attribute.getNodeName();
    }
    if (ID_ATTRIBUTE.equals(name)) {
      continue;
    }
    String propertyName=extractPropertyName(name);
    String propertyValue=extractPropertyValue(name,attribute.getValue());
    Assert.state(StringUtils.hasText(propertyName),"Illegal property name returned from 'extractPropertyName(String)': cannot be null or empty.");
    builder.addPropertyValue(propertyName,propertyValue);
  }
  postProcess(builder,element);
}
