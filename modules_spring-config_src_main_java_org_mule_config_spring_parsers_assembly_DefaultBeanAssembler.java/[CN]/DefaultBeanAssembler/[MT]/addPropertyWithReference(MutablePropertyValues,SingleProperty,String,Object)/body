{
  if (!config.isIgnored()) {
    if (config.isReference()) {
      if (value instanceof String) {
        if (((String)value).trim().indexOf(" ") > -1) {
          config.setCollection();
        }
        for (StringTokenizer refs=new StringTokenizer((String)value); refs.hasMoreTokens(); ) {
          String ref=refs.nextToken();
          if (logger.isDebugEnabled()) {
            logger.debug("possible non-dependent reference: " + name + "/"+ ref);
          }
          addPropertyWithoutReference(properties,config,name,new RuntimeBeanReference(ref));
        }
      }
 else {
        throw new IllegalArgumentException("Bean reference must be a String: " + name + "/"+ value);
      }
    }
 else {
      addPropertyWithoutReference(properties,config,name,value);
    }
  }
}
