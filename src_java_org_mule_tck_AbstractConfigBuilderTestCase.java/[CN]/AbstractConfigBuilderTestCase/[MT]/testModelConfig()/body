{
  UMOModel model=MuleManager.getInstance().getModel();
  assertNotNull(model);
  assertEquals("test-model",model.getName());
  assertTrue(model.getEntryPointResolver() instanceof TestEntryPointResolver);
  assertTrue(model.getExceptionListener() instanceof TestExceptionStrategy);
  assertTrue(((AbstractExceptionListener)model.getExceptionListener()).getEndpoints().size() > 0);
  UMOEndpoint ep=(UMOEndpoint)((AbstractExceptionListener)model.getExceptionListener()).getEndpoints().get(0);
  assertEquals("test://component.exceptions",ep.getEndpointURI().toString());
  assertTrue(model.getLifecycleAdapterFactory() instanceof TestDefaultLifecycleAdapterFactory);
  assertTrue(model.isComponentRegistered("orangeComponent"));
  assertTrue(model.isComponentRegistered("appleComponent"));
  assertTrue(model.isComponentRegistered("appleComponent2"));
}
