{
  String rawPath=getPluginPreferences().getString(IPreferenceConstants.EXTERNAL_MULE_ROOT);
  IPath rootPath=new Path(rawPath);
  IWorkspace workspace=ResourcesPlugin.getWorkspace();
  IPathVariableManager varManager=workspace.getPathVariableManager();
  if ((varManager.validateName(ID_MULE_EXTERNAL_ROOT).isOK()) && (varManager.validateValue(rootPath).isOK())) {
    try {
      varManager.setValue(ID_MULE_EXTERNAL_ROOT,rootPath);
    }
 catch (    CoreException e) {
      throw new MuleModelException(e.getStatus());
    }
  }
 else {
    throw new MuleModelException(createErrorStatus("External Mule root is invalid.",null));
  }
}
