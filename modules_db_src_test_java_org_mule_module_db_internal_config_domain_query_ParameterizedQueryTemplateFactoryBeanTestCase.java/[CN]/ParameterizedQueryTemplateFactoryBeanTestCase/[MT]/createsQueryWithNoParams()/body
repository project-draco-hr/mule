{
  QueryTemplate queryTemplate=new QueryTemplate(QUERY,QueryType.SELECT,Collections.<QueryParam>emptyList());
  QueryTemplateParser queryParser=mock(QueryTemplateParser.class);
  when(queryParser.parse(QUERY)).thenReturn(queryTemplate);
  ParameterizedQueryTemplateFactoryBean factoryBean=new ParameterizedQueryTemplateFactoryBean(QUERY,Collections.EMPTY_LIST,queryParser);
  QueryTemplate createdQueryTemplate=factoryBean.getObject();
  assertThat(createdQueryTemplate.getSqlText(),equalTo(QUERY));
  assertThat(createdQueryTemplate.getType(),equalTo(QueryType.SELECT));
  assertThat(createdQueryTemplate.getParams(),is(empty()));
}
