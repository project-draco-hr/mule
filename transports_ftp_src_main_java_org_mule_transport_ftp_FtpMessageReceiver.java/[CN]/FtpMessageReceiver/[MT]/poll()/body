{
  FTPFile[] files=listFiles();
  if (logger.isDebugEnabled()) {
    logger.debug("Polling: " + files.length + " new file(s)");
  }
synchronized (scheduledFiles) {
    for (int i=0; i < files.length; i++) {
      final FTPFile file=files[i];
      final String fileName=file.getName();
      if (!scheduledFiles.contains(fileName) && !currentFiles.contains(fileName)) {
        scheduledFiles.add(fileName);
        getWorkManager().scheduleWork(new FtpWork(fileName,file));
      }
    }
  }
}
