{
  Method method=getMethod(event);
  Map<String,Object> props=getInovcationProperties(event);
  Holder<MuleEvent> responseHolder=new Holder<MuleEvent>();
  props.put("holder",responseHolder);
  props.put(org.apache.cxf.message.Message.ENDPOINT_ADDRESS,event.getEndpoint().getEndpointURI().toString());
  String soapAction=event.getMessage().getOutboundProperty(SoapConstants.SOAP_ACTION_PROPERTY);
  if (soapAction != null) {
    soapAction=parseSoapAction(soapAction,new QName(method.getName()),event);
    props.put(org.apache.cxf.binding.soap.SoapBindingConstants.SOAP_ACTION,soapAction);
  }
  clientProxy.getRequestContext().putAll(props);
  Object response;
  try {
    Object[] args=getArgs(event);
    response=method.invoke(clientProxy,args);
  }
 catch (  InvocationTargetException e) {
    Throwable ex=e.getTargetException();
    if (ex != null && ex.getMessage().contains("Security")) {
      throw new WebServiceSecurityException(event,e);
    }
 else {
      throw e;
    }
  }
  MuleEvent muleRes=responseHolder.value;
  return buildResponseMessage(event,muleRes,new Object[]{response});
}
