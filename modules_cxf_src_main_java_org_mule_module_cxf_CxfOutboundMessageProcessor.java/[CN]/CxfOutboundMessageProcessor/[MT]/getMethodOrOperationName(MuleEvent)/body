{
  String method=event.getMessage().getInvocationProperty(CxfConstants.OPERATION);
  if (method == null) {
    Object muleMethodProperty=event.getMessage().getInvocationProperty(MuleProperties.MULE_METHOD_PROPERTY);
    if (muleMethodProperty != null) {
      if (muleMethodProperty instanceof Method) {
        method=((Method)muleMethodProperty).getName();
      }
 else {
        method=muleMethodProperty.toString();
      }
    }
  }
  if (method == null) {
    method=operation;
  }
  if (method == null && proxy) {
    return "invoke";
  }
  return method;
}
