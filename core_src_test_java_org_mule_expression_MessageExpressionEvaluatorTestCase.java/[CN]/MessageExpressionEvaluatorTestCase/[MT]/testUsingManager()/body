{
  MuleMessage message=new DefaultMuleMessage("test",muleContext);
  message.setCorrelationId(message.getUniqueId());
  message.setCorrelationSequence(1);
  message.setCorrelationGroupSize(2);
  message.setReplyTo("foo");
  message.setEncoding("UTF-8");
  Exception e=new Exception("dummy");
  message.setExceptionPayload(new DefaultExceptionPayload(e));
  assertEquals(message.getUniqueId(),muleContext.getExpressionManager().evaluate("#[message:id]",message));
  assertEquals(message.getUniqueId(),muleContext.getExpressionManager().evaluate("#[message:correlationId]",message));
  assertEquals(new Integer(1),muleContext.getExpressionManager().evaluate("#[message:correlationSequence]",message));
  assertEquals(new Integer(2),muleContext.getExpressionManager().evaluate("#[message:correlationGroupSize]",message));
  assertEquals("foo",muleContext.getExpressionManager().evaluate("#[message:replyTo]",message));
  assertEquals(e,muleContext.getExpressionManager().evaluate("#[message:exception]",message));
  assertEquals("UTF-8",muleContext.getExpressionManager().evaluate("#[message:encoding]",message));
  assertEquals("test",muleContext.getExpressionManager().evaluate("#[message:payload]",message));
  try {
    muleContext.getExpressionManager().evaluate("#[message:xxx]",message,true);
    fail("xxx is not a supported expresion");
  }
 catch (  Exception e1) {
  }
}
