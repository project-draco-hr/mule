{
  ExpressionManager expressionManager=event.getMuleContext().getExpressionManager();
  Object[] args=new Object[expressions.length];
  try {
    for (int i=0; i < args.length; i++) {
      args[i]=expressionManager.evaluate(expressions[i],event.getMessage());
      if (!(method.getParameterTypes()[i].isAssignableFrom(args[i].getClass()))) {
        DataType<?> source=DataTypeFactory.create(args[i].getClass());
        DataType<?> target=DataTypeFactory.create(method.getParameterTypes()[i]);
        Transformer t=event.getMuleContext().getRegistry().lookupTransformer(source,target);
        args[i]=t.transform(args[i]);
      }
    }
    return args;
  }
 catch (  TransformerException e) {
    throw new MessagingException(event,e);
  }
}
