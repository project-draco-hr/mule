{
  try {
    event=OptimizedRequestContext.criticalSetEvent(event);
    connectionStrategy.connect(AbstractMessageDispatcher.this);
    AbstractMessageDispatcher.this.doDispatch(event);
    if (connector.isEnableMessageEvents()) {
      String component=null;
      if (event.getComponent() != null) {
        component=event.getComponent().getDescriptor().getName();
      }
      connector.fireNotification(new MessageNotification(event.getMessage(),event.getEndpoint(),component,MessageNotification.MESSAGE_DISPATCHED));
    }
  }
 catch (  Exception e) {
    AbstractMessageDispatcher.this.getConnector().handleException(e);
  }
}
