{
  MuleClient client=muleContext.getClient();
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("Content-Type","application/x-www-form-urlencoded");
  props.put("some","thing");
  props.put("other","stuff");
  props.put(HttpConstants.HEADER_CONTENT_TYPE,"text/bizarre;charset=utf-16");
  MuleMessage response=client.send("vm://httpService1","symbol=IBM",props);
  assertNotNull(response);
  assertNull(response.getInboundProperty("some"));
  assertNull(response.getInboundProperty("other"));
  assertEquals("text/plain; charset=utf-8",response.getInboundProperty(HttpConstants.HEADER_CONTENT_TYPE));
  assertEquals("utf-8",response.getEncoding());
}
