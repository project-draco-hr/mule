{
  proxies=new HashMap<String,Object>();
  if (bindingCollection != null && bindingCollection.getRouters().size() > 0) {
    for (Iterator<?> it=bindingCollection.getRouters().iterator(); it.hasNext(); ) {
      InterfaceBinding interfaceBinding=(InterfaceBinding)it.next();
      String bindingName=ClassUtils.getSimpleName(interfaceBinding.getInterface());
      if (proxies.containsKey(bindingName)) {
        Object proxy=proxies.get(bindingName);
        BindingInvocationHandler handler=(BindingInvocationHandler)Proxy.getInvocationHandler(proxy);
        handler.addRouterForInterface(interfaceBinding);
      }
 else {
        Object proxy=Proxy.newProxyInstance(getClass().getClassLoader(),new Class[]{interfaceBinding.getInterface()},new BindingInvocationHandler(interfaceBinding));
        proxies.put(bindingName,proxy);
      }
    }
  }
}
