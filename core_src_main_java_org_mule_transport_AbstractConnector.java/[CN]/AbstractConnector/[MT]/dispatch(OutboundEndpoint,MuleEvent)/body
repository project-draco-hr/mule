{
  Work dispatchWork=new DispatchWorker(event,endpoint);
  try {
    Transaction tx=TransactionCoordination.getInstance().getTransaction();
    if (getDispatcherThreadingProfile().isDoThreading() && !event.isSynchronous() && tx == null) {
      getDispatcherWorkManager().scheduleWork(dispatchWork,WorkManager.INDEFINITE,null,AbstractConnector.this);
    }
 else {
      dispatchWork.run();
    }
  }
 catch (  Exception e) {
    handleException(e);
  }
}
