{
  InterceptingChainMessageProcessorBuilder builder=new InterceptingChainMessageProcessorBuilder(endpoint);
  builder.chain(new ExceptionHandlingMessageProcessor());
  builder.chain(new AsyncInterceptingMessageProcessor(new WorkManagerSource(){
    public WorkManager getWorkManager() throws MuleException {
      return getDispatcherWorkManager();
    }
  }
,getDispatcherThreadingProfile().isDoThreading()));
  builder.chain(new DispatcherMessageProcessor());
  return builder.build();
}
