{
  Object payload=event.getMessage().getPayload();
  if (payload instanceof Map<?,?>) {
    List<MuleMessage> list=new LinkedList<MuleMessage>();
    Set<Map.Entry<?,?>> set=((Map)payload).entrySet();
    for (    Entry<?,?> entry : set) {
      MuleMessage splitMessage=new DefaultMuleMessage(entry.getValue(),muleContext);
      splitMessage.setInvocationProperty(MapSplitter.MAP_ENTRY_KEY,entry.getKey());
      list.add(splitMessage);
    }
    return new CollectionMessageSequence(list);
  }
  return super.splitMessageIntoSequence(event);
}
