{
  final boolean redeploymentEnabled=!StartupContext.get().getStartupOptions().containsKey("production");
  try {
    final ConfigResource[] allResources;
    if (useDefaultConfigResource) {
      allResources=new ConfigResource[configResources.length + 2];
      allResources[0]=new ConfigResource(MULE_SPRING_CONFIG);
      allResources[1]=new ConfigResource(MULE_DEFAULTS_CONFIG);
      System.arraycopy(configResources,0,allResources,2,configResources.length);
      this.monitoredResource=new File(allResources[2].getUrl().getFile());
    }
 else {
      allResources=new ConfigResource[configResources.length + 1];
      allResources[0]=new ConfigResource(MULE_SPRING_CONFIG);
      System.arraycopy(configResources,0,allResources,1,configResources.length);
      this.monitoredResource=new File(allResources[1].getUrl().getFile());
    }
    super.configure(muleContext);
  }
 catch (  IOException e) {
    throw new ConfigurationException(e);
  }
}
