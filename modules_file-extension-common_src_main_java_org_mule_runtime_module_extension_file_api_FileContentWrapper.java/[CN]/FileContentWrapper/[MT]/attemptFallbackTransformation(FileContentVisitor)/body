{
  final DataType sourceDataType=DataTypeFactory.create(content.getClass());
  DataType targetDataType=DataTypeFactory.create(InputStream.class);
  Object transformedValue=tryTransform(sourceDataType,targetDataType);
  if (transformedValue != null) {
    visitor.visit((InputStream)transformedValue);
  }
 else {
    targetDataType=DataTypeFactory.create(String.class);
    transformedValue=tryTransform(sourceDataType,targetDataType);
    if (transformedValue != null) {
      visitor.visit((String)transformedValue);
    }
 else {
      throw new IllegalArgumentException(String.format("Contents of type '%s' are not visitable and no suitable transformer could be found",content.getClass().getName()));
    }
  }
}
