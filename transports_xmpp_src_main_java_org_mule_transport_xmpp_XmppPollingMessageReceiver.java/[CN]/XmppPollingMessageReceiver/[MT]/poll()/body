{
  try {
    long frequency=getFrequency();
    long tenPercent=(long)(frequency * 0.1);
    long pollTimeout=frequency - tenPercent;
    Message xmppMessage=conversation.receive(pollTimeout);
    if (xmppMessage == null) {
      return;
    }
    processMessage(xmppMessage);
  }
 catch (  Exception e) {
    getEndpoint().getMuleContext().getExceptionListener().handleException(e);
    throw e;
  }
}
