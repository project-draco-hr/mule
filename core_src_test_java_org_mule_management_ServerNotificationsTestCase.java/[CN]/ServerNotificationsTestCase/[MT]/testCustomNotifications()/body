{
  final CountDownLatch latch=new CountDownLatch(2);
  muleContext.registerListener(new DummyNotificationListener(){
    public void onNotification(    ServerNotification notification){
      if (notification.getAction() == DummyNotification.EVENT_RECEIVED) {
        customNotificationCount.incrementAndGet();
        assertEquals("hello",notification.getSource());
        latch.countDown();
      }
    }
  }
);
  muleContext.fireNotification(new DummyNotification("hello",DummyNotification.EVENT_RECEIVED));
  muleContext.fireNotification(new DummyNotification("hello",DummyNotification.EVENT_RECEIVED));
  latch.await(2000,TimeUnit.MILLISECONDS);
  assertEquals(2,customNotificationCount.get());
}
