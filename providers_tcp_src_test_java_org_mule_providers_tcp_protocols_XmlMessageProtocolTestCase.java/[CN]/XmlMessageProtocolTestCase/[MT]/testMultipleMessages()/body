{
  String[] msgData={"<?xml version=\"1.0\"?><data>hello</data>","<?xml version=\"1.0\"?><data>goodbye</data>"};
  ByteArrayInputStream bais=new ByteArrayInputStream((msgData[0] + msgData[1]).getBytes());
  byte[] result;
  for (int i=0; i < 2; i++) {
    result=xmp.read(bais);
    System.out.println(new String(result));
    assertNotNull(result);
    assertTrue(new String(result).trim().equals(msgData[i]));
  }
  result=xmp.read(bais);
  assertNull(result);
}
