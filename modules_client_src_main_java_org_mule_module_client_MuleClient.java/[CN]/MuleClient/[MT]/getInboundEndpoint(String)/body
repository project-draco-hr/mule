{
  InboundEndpoint endpoint=inboundEndpointCache.get(uri);
  if (endpoint == null) {
    endpoint=muleContext.getEndpointFactory().getInboundEndpoint(uri);
    InboundEndpoint concurrentlyAddedEndpoint=inboundEndpointCache.putIfAbsent(uri,endpoint);
    if (concurrentlyAddedEndpoint != null) {
      return concurrentlyAddedEndpoint;
    }
  }
  return endpoint;
}
