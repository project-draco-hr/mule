{
  ClientProxyFactoryBean cpf=new ClientProxyFactoryBean();
  cpf.setServiceClass(serviceClass);
  if (databinding == null) {
    cpf.setDataBinding(new AegisDatabinding());
  }
 else {
    cpf.setDataBinding(databinding);
  }
  cpf.setAddress(getAddress());
  cpf.setBus(getBus());
  cpf.setProperties(properties);
  if (wsdlLocation != null) {
    cpf.setWsdlLocation(wsdlLocation);
  }
  if (soapVersion != null) {
    cpf.setBindingId(CxfUtils.getBindingIdForSoapVersion(soapVersion));
  }
  return ClientProxy.getClient(cpf.create());
}
