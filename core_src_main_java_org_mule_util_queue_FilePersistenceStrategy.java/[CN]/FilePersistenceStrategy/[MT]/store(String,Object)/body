{
  String id=UUID.getUUID();
  String filename=queue + File.separator + id+ EXTENSION;
  File file=FileUtils.newFile(store,filename);
  if (!file.getParentFile().exists() && !file.getParentFile().mkdirs()) {
    throw new IOException("Failed to create directory: " + file.getAbsolutePath());
  }
  OutputStream out=new FileOutputStream(file);
  try {
    serializer.write(out,obj,muleContext.getConfiguration().getDefaultEncoding());
  }
 catch (  MuleException e) {
    IOException iox=new IOException();
    iox.initCause(e);
    throw iox;
  }
 finally {
    out.close();
  }
  return id;
}
