{
  TestMuleEventBean bean=(TestMuleEventBean)muleContext.getRegistry().lookupObject("testNonSubscribingMuleEventBean");
  assertNotNull(bean);
  Latch whenFinished=new Latch();
  bean.setEventCallback(new CountingEventCallback(eventCounter1,1,whenFinished));
  MuleClient client=muleContext.getClient();
  client.send("vm://event.multicaster","Test Spring MuleEvent",null);
  whenFinished.await(DEFAULT_LATCH_TIMEOUT,TimeUnit.MILLISECONDS);
  assertEquals(1,eventCounter1.get());
}
