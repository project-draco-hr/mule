{
  maxActiveNumberOfRequestExecutedLatch=new CountDownLatch(maxThreadsActive);
  sendRequestUntilNoMoreWorkers(flowName,url,maxThreadsActive);
  expectedException.expect(anyOf(instanceOf(NoHttpResponseException.class),instanceOf(SocketException.class)));
  try {
    httpClientExecutor.execute(Request.Get(url));
  }
  finally {
    waitingLatch.release();
  }
}
