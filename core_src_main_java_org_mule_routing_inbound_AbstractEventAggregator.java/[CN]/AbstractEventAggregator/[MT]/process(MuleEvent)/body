{
  if (!(event.getFlowConstruct() instanceof Service)) {
    throw new UnsupportedOperationException("EventAggregator is only supported with Service");
  }
  MuleMessage msg=eventCorrelator.process(event);
  if (msg == null) {
    return null;
  }
  MuleEvent[] result=new MuleEvent[]{new DefaultMuleEvent(msg,event)};
  return result;
}
