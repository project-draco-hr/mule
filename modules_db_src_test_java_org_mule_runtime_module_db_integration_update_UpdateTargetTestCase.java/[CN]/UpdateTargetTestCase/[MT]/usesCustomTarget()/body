{
  final MuleEvent responseEvent=flowRunner("updateCustomTarget").withPayload(TEST_MESSAGE).run();
  final MuleMessage response=responseEvent.getMessage();
  assertThat(getPayloadAsString(response),equalTo(TEST_MESSAGE));
  assertThat(response.<Integer>getOutboundProperty("updateCount"),equalTo(1));
  verifyUpdatedRecord();
}
