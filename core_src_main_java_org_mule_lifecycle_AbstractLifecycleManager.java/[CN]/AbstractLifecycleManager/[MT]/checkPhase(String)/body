{
  if (executingPhase != null) {
    if (name.equalsIgnoreCase(executingPhase)) {
      throw new IllegalStateException("Phase '" + name + "' is already currently being executed");
    }
 else {
      throw new IllegalStateException("Cannot fire phase '" + name + "', currently executing lifecycle phase: "+ executingPhase);
    }
  }
  if (name.equalsIgnoreCase(currentPhase)) {
    throw new IllegalStateException("Already in lifecycle phase '" + name + "', cannot fire the same phase twice");
  }
  if (!phaseNames.contains(name)) {
    throw new IllegalStateException("Phase does not exist: " + name);
  }
 else {
    if (isDirectTransition(name)) {
      return;
    }
    throw new IllegalStateException("Lifecycle Manager '" + lifecycleManagerId + "' phase '"+ currentPhase+ "' does not support phase '"+ name+ "'");
  }
}
