{
  InterceptingChainMessageProcessorBuilder outboundChainBuilder=new InterceptingChainMessageProcessorBuilder();
  outboundChainBuilder.setName("OutboundEndpoint '" + endpoint.getEndpointURI().getUri() + "' request chain");
  outboundChainBuilder.chain(createOutboundMessageProcessors(endpoint));
  outboundChainBuilder.chain(endpoint.getMessageProcessors());
  if (target == null) {
    throw new ConfigurationException(MessageFactory.createStaticMessage("No listener (target) has been set for this endpoint"));
  }
  outboundChainBuilder.chain(target);
  InterceptingChainMessageProcessorBuilder responseChainBuilder=new InterceptingChainMessageProcessorBuilder();
  responseChainBuilder.setName("OutboundEndpoint '" + endpoint.getEndpointURI().getUri() + "' response chain");
  responseChainBuilder.chain(createOutboundResponseMessageProcessors(endpoint));
  responseChainBuilder.chain(endpoint.getResponseMessageProcessors());
  InterceptingChainMessageProcessorBuilder compositeChainBuilder=new InterceptingChainMessageProcessorBuilder();
  compositeChainBuilder.setName("OutboundEndpoint '" + endpoint.getEndpointURI().getUri() + "' composite request/response chain");
  compositeChainBuilder.chain(outboundChainBuilder.build(),responseChainBuilder.build());
  return compositeChainBuilder.build();
}
