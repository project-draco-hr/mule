{
  MuleClient client=muleContext.getClient();
  try {
    client.send(outputEndpointName,payload,null);
    fail(here() + " should have thrown an exception");
  }
 catch (  MuleException e) {
    e.printStackTrace();
    assertTrue(here() + ", exception {" + e+ "} must be a "+ DispatchException.class.getSimpleName(),e instanceof DispatchException);
    assertTrue(here() + ", exception.getCause() {" + e+ "} must be a "+ IllegalArgumentException.class.getName(),e.getCause() instanceof IllegalArgumentException);
    assertEquals(here(),expectedIllegalArgumentExceptionMessage(),e.getCause().getMessage());
  }
}
