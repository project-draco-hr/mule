{
  ConfigurationObjectBuilder configurationObjectBuilder=new ConfigurationObjectBuilder(configuration,resolverSet);
  if (resolverSet.isDynamic()) {
    return new DynamicConfigurationInstanceProvider<>(name,configuration,configurationObjectBuilder,resolverSet);
  }
 else {
    MuleEvent event=new DefaultMuleEvent(new DefaultMuleMessage(null,muleContext),REQUEST_RESPONSE,(FlowConstruct)null);
    return new StaticConfigurationInstanceProvider<>(name,configuration,(T)configurationObjectBuilder.build(event));
  }
}
