{
  ConfigurationObjectBuilder configurationObjectBuilder=new ConfigurationObjectBuilder(name,extension,configuration,resolverSet,registrationCallback);
  if (resolverSet.isDynamic()) {
    return new DynamicConfigurationInstanceProvider<>(configurationObjectBuilder,resolverSet);
  }
 else {
    MuleEvent event=new DefaultMuleEvent(new DefaultMuleMessage(null,muleContext),REQUEST_RESPONSE,(FlowConstruct)null);
    return new StaticConfigurationInstanceProvider<>((T)configurationObjectBuilder.build(event));
  }
}
