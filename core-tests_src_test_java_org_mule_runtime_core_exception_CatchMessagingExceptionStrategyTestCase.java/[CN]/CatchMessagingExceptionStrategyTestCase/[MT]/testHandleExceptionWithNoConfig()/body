{
  configureXaTransactionAndSingleResourceTransaction();
  MuleEvent resultEvent=catchMessagingExceptionStrategy.handleException(mockException,mockMuleEvent);
  assertThat(resultEvent,is(mockMuleEvent));
  assertThat(resultEvent.getMessage().getExceptionPayload(),instanceOf(ExceptionPayload.class));
  verify(mockTransaction,times(0)).setRollbackOnly();
  verify(mockTransaction,times(0)).commit();
  verify(mockTransaction,times(0)).rollback();
  verify(mockStreamCloserService).closeStream(any(Object.class));
}
