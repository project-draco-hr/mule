{
  SensingNullMessageProcessor sensingNullMessageProcessor=new SensingNullMessageProcessor();
  catchMessagingExceptionStrategy.setMessageProcessors(Collections.<MessageProcessor>singletonList(sensingNullMessageProcessor));
  catchMessagingExceptionStrategy.initialise();
  MuleEvent nonBlockingEvent=createNonBlockingTestEvent();
  MuleEvent exceptionHandlingResult=catchMessagingExceptionStrategy.handleException(mockException,nonBlockingEvent);
  assertThat(sensingNullMessageProcessor.event,is(notNullValue()));
  assertThat(sensingNullMessageProcessor.event.isAllowNonBlocking(),is(false));
  assertThat(sensingNullMessageProcessor.event.getReplyToHandler(),is(nullValue()));
  assertThat(exceptionHandlingResult.isAllowNonBlocking(),is(false));
  assertThat(exceptionHandlingResult.getReplyToHandler(),is(nullValue()));
}
