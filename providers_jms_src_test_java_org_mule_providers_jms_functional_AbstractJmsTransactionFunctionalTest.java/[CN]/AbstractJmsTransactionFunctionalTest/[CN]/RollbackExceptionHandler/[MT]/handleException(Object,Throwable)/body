{
  System.out.println("@@@@ ExceptionHandler Called @@@@");
  if (t instanceof MessageRedeliveredException) {
    countDown.release();
    try {
      TextMessage msg=(TextMessage)message;
      assertNotNull(msg);
      assertTrue(msg.getJMSRedelivered());
      assertTrue(msg instanceof TextMessage);
    }
 catch (    Exception e) {
      fail(e.getMessage());
    }
 finally {
      try {
        System.out.println("@@@@ committing rolled back message from queue @@@@");
        ((MessageRedeliveredException)t).getSession().commit();
      }
 catch (      JMSException e) {
        fail("Failed to commit rolled back message");
      }
    }
    return null;
  }
 else {
    t.printStackTrace();
    fail(t.getMessage());
    return null;
  }
}
