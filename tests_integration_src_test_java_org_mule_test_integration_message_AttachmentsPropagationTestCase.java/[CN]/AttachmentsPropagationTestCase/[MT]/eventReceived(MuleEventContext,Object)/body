{
  MuleMessage message=context.getMessage();
  for (  String attachmentName : message.getInboundAttachmentNames()) {
    DataHandler inboundAttachment=message.getInboundAttachment(attachmentName);
    message.addOutboundAttachment(attachmentName,inboundAttachment);
  }
  String attachmentName=context.getFlowConstruct().getName();
  DataHandler dataHandler=new DataHandler(new StringDataSource(ATTACHMENT_CONTENT,"doesNotMatter","text/plain"));
  message.addOutboundAttachment(attachmentName,dataHandler);
  FunctionalTestComponent fc=(FunctionalTestComponent)component;
  fc.setReturnData(message.getOutboundAttachmentNames());
}
