{
  Enumeration<Driver> drivers=getDrivers();
  while (drivers.hasMoreElements()) {
    Driver driver=drivers.nextElement();
    if (isDriverLoadedByThisClassLoader(driver)) {
      doDeregisterDriver(driver);
    }
 else {
      if (logger.isDebugEnabled()) {
        logger.debug(format("Skipping deregister driver %s. It wasn't loaded by the classloader of the artifact being released.",driver.getClass()));
      }
    }
  }
}
