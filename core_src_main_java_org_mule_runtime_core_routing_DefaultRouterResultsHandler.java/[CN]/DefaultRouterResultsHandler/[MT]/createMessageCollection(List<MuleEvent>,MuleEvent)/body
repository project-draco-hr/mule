{
  final Builder resultBuilder=MuleEvent.builder(previous);
  List<MuleMessage> list=new ArrayList<>();
  for (  MuleEvent event : nonNullResults) {
    for (    String flowVarName : event.getFlowVariableNames()) {
      resultBuilder.addFlowVariable(flowVarName,event.getFlowVariable(flowVarName),event.getFlowVariableDataType(flowVarName));
    }
    list.add(event.getMessage());
  }
  final MuleMessage coll=MuleMessage.builder().collectionPayload(list,MuleMessage.class).build();
  MuleEvent resultEvent=resultBuilder.message(coll).build();
  setCurrentEvent(resultEvent);
  return resultEvent;
}
