{
  List list=new ArrayList<>();
  for (  MuleEvent event : nonNullResults) {
    list.add(event.getMessage());
  }
  MutableMuleMessage coll=new DefaultMuleMessage(list);
  coll.propagateRootId(previous.getMessage());
  MuleEvent resultEvent=new DefaultMuleEvent(coll,previous,previous.getSession());
  for (  String name : previous.getFlowVariableNames()) {
    resultEvent.setFlowVariable(name,previous.getFlowVariable(name),previous.getFlowVariableDataType(name));
  }
  return OptimizedRequestContext.unsafeSetEvent(resultEvent);
}
