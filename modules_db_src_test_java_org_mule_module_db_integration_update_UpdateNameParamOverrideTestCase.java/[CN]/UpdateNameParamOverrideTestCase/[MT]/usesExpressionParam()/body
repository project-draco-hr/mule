{
  Map<String,Object> props=new HashMap<>();
  props.put("type",3);
  final DefaultMuleMessage muleMessage=new DefaultMuleMessage(TEST_MESSAGE,props,Collections.emptyMap(),Collections.emptyMap(),muleContext);
  final DefaultMuleEvent muleEvent=new DefaultMuleEvent(muleMessage,MessageExchangePattern.REQUEST_RESPONSE,null);
  final MuleEvent responseEvent=runFlow("expressionParam",muleEvent);
  final MuleMessage response=responseEvent.getMessage();
  assertEquals(1,response.getPayload());
  List<Map<String,String>> result=selectData("select * from PLANET where POSITION=3",getDefaultDataSource());
  assertRecords(result,new Record(new Field("NAME","Mercury"),new Field("POSITION",3)));
}
