{
  setPayloadMessageProcessor.setValue(EXPRESSION);
  when(expressionManager.isExpression(EXPRESSION)).thenReturn(true);
  setPayloadMessageProcessor.initialise();
  TypedValue typedValue=new TypedValue(PLAIN_TEXT,DataType.STRING);
  when(expressionManager.evaluateTyped(EXPRESSION,muleEvent)).thenReturn(typedValue);
  setPayloadMessageProcessor.process(muleEvent);
  assertThat(muleEvent.getMessage().getPayload(),is(PLAIN_TEXT));
}
