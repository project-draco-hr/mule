{
  super.setEndpoint(uri,props);
  String newUri=null;
  if (uri.getScheme().equals("topic")) {
    props.setProperty(RESOURCE_INFO_PROPERTY,"topic");
    newUri=uri.toString().replace("topic://","jms://");
  }
 else   if (uri.getScheme().equals("queue")) {
    newUri=uri.toString().replace("queue://","jms://");
  }
  try {
    if (newUri != null) {
      rewriteURI(new URI(newUri));
    }
  }
 catch (  URISyntaxException e) {
    throw new MalformedEndpointException(e);
  }
}
