{
  noDefaultAndApplyButton();
  IMuleModel model=getMuleModel();
  if (model == null) {
    return notMuleProjectWarning(parent);
  }
  try {
    setWorkingCopy(model.createWorkingCopy());
  }
 catch (  MuleModelException e) {
    MuleCorePlugin.getDefault().getLog().log(e.getStatus());
    return notMuleProjectWarning(parent);
  }
  createPropertyPanels(getWorkingCopy());
  TabFolder tabs=new TabFolder(parent,SWT.NULL);
  for (Iterator it=getPropertyPanels().iterator(); it.hasNext(); ) {
    IMulePropertyPanel panel=(IMulePropertyPanel)it.next();
    TabItem tab=new TabItem(tabs,SWT.NULL);
    tab.setText(panel.getDisplayName());
    tab.setImage(panel.getImage());
    Composite control=panel.createControl(tabs);
    panel.initialize(getWorkingCopy());
    tab.setControl(control);
  }
  return tabs;
}
