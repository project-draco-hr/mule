{
  MuleMessage message=new DefaultMuleMessage("<root other=\"1\" attr=\"oldValue\"/>",muleContext);
  message.setPayload(getPayload(message,Document.class));
  evaluate("xpath('/root/@attr').setTextContent(xpath('/root/@other'))",message);
  assertTrue(XMLUnit.compareXML("<root other=\"1\" attr=\"1\"/>",getPayloadAsString(message)).identical());
}
