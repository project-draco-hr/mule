{
  MuleMessage message=new DefaultMuleMessage("<root other=\"1\"/>",muleContext);
  message.setPayload(message.getPayload(Document.class));
  evaluate("xpath('/root').setAttribute('newAttr',xpath('/root/@other'))",message);
  evaluate("xpath('/root').setAttribute('newAttr',xpath('/root/@other'))",message);
  assertTrue(XMLUnit.compareXML("<root other=\"1\" newAttr=\"1\"/>",message.getPayloadAsString()).identical());
}
