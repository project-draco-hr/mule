{
  String corrId=null;
  try {
    corrId=message.getJMSCorrelationID();
  }
 catch (  JMSException e) {
    corrId="could not read id: " + e.getMessage();
  }
  String msg="Message was redelivered, most likely due to a transaction rollback. " + "Correlation id was: " + corrId;
  logger.warn(msg);
  MessageRedeliveredException exception=new MessageRedeliveredException(msg,session);
  handleException(message,exception);
}
