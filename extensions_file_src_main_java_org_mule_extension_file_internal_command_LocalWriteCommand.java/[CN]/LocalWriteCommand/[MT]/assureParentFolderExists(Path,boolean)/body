{
  if (Files.exists(path)) {
    return;
  }
  File parentFolder=path.getParent().toFile();
  if (!parentFolder.exists()) {
    if (createParentFolder) {
      createDirectory(parentFolder);
    }
 else {
      throw new IllegalArgumentException(format("Cannot write to file '%s' because path to it doesn't exist. Consider setting the 'createParentFolder' attribute to 'true'",path));
    }
  }
}
