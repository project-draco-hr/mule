{
  Preconditions.checkArgument(parameterValue != null,"parameter cannot be null");
  Preconditions.checkArgument(originalState == null ? true : !originalState.contains(ON_COMPLETE_REDIRECT_TO_PARAM_NAME_ASSIGN),"parameter cannot be added after " + ON_COMPLETE_REDIRECT_TO_PARAM_NAME);
  String newState;
  if (originalState == null && parameterValue != null) {
    newState=parameterAssignation + parameterValue;
  }
 else   if (parameterValue != null) {
    newState=(originalState == null ? StringUtils.EMPTY : originalState) + parameterAssignation + parameterValue;
  }
 else {
    newState=originalState;
  }
  return newState;
}
