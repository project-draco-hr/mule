{
  try {
    logger.debug("Committing transaction");
    message.acknowledge();
    committed.set(true);
  }
 catch (  JMSException e) {
    throw new IllegalTransactionStateException("Failed to commit jms Client Acknowledge transaction: " + e.getMessage(),e);
  }
}
