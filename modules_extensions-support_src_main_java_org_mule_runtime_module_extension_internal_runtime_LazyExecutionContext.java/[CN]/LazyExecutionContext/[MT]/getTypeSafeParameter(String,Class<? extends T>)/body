{
  Object value=getParameter(parameterName);
  if (value == null) {
    return null;
  }
  if (!expectedType.isInstance(value)) {
    throw new IllegalArgumentException(String.format("'%s' was expected to be of type '%s' but type '%s' was found instead",parameterName,expectedType.getName(),value.getClass().getName()));
  }
  return (T)value;
}
