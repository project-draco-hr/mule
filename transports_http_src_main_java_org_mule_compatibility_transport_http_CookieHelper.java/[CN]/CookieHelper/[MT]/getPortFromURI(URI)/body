{
  int port=uri.getPort();
  if (port < 0) {
    String scheme=uri.getScheme();
    if (scheme.equalsIgnoreCase("https")) {
      port=443;
    }
 else     if (scheme.equalsIgnoreCase("http")) {
      port=80;
    }
 else {
      String message=String.format("The uri (%1s) does not specify a port and no default is available for its scheme (%2s).",uri,scheme);
      throw new MalformedCookieException(message);
    }
  }
  return port;
}
