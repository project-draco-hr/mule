{
  if (newCookiesArray == null) {
    return preExistentCookies;
  }
  final List<Cookie> cookiesThatAreReallyNew=new ArrayList<>(newCookiesArray.length);
  final Cookie[] preExistentCookiesArray=(Cookie[])preExistentCookies;
  for (  Cookie newCookie : newCookiesArray) {
    int newCookieInPreExistentArrayIndex=getCookieIndexFromCookiesArray(newCookie.getName(),preExistentCookiesArray);
    if (newCookieInPreExistentArrayIndex >= 0) {
      preExistentCookiesArray[newCookieInPreExistentArrayIndex]=newCookie;
    }
 else {
      cookiesThatAreReallyNew.add(newCookie);
    }
  }
  return concatenateCookies(preExistentCookiesArray,cookiesThatAreReallyNew.toArray(new Cookie[cookiesThatAreReallyNew.size()]));
}
