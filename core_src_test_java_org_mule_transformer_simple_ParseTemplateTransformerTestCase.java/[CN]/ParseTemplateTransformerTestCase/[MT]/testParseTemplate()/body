{
  parseTemplateTransformer.setLocation(EXPRESSION);
  when(mockExpressionManager.isExpression(EXPRESSION)).thenReturn(true);
  parseTemplateTransformer.initialise();
  when(mockExpressionManager.evaluate(EXPRESSION,mockMuleMessage)).thenReturn("error.html");
  when(mockMuleMessage.getInboundProperty("errorMessage")).thenReturn("ERROR!!!");
  String expectedExpression=IOUtils.getResourceAsString("error.html",this.getClass());
  when(mockExpressionManager.parse(expectedExpression,mockMuleMessage)).thenReturn("Parsed");
  Object response=parseTemplateTransformer.transformMessage(mockMuleMessage,"UTF-8");
  assertNotNull(response);
  assertEquals("Parsed",response);
}
