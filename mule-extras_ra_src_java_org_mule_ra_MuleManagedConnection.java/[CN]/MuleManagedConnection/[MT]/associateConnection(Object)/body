{
  checkIfDestroyed();
  if (connection instanceof MuleConnection) {
    MuleConnection cnn=(MuleConnection)connection;
    cnn.associateConnection(this);
  }
 else {
    throw new IllegalStateException(new Message(Messages.X_IS_INVALID,DefaultMuleConnection.class.getName() + ": " + (connection == null ? "null" : connection.getClass().getName())).toString());
  }
}
