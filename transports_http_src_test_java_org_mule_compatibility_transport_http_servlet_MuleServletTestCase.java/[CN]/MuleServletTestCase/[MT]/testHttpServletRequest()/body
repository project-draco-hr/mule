{
  String queryParam="array=1&array=2&param1=param1&noValueParam";
  DefaultMuleEvent event=getTestHttpEvent(queryParam);
  MuleHttpServletRequest request=new MuleHttpServletRequest(event);
  ServletInputStream stream=request.getInputStream();
  assertNotNull(stream);
  IOUtils.contentEquals(new ByteArrayInputStream("test".getBytes()),stream);
  assertEquals("value",request.getHeader("X-MyHeader"));
  assertEquals("UTF-8",request.getCharacterEncoding());
  assertEquals(-1,request.getContentLength());
  assertEquals("text/plain",request.getContentType());
  assertEquals("/foo",request.getContextPath());
  assertEquals("GET",request.getMethod());
  assertEquals("/bar",request.getPathInfo());
  assertEquals(queryParam,request.getQueryString());
  assertEquals("/foo/bar",request.getRequestURI());
  assertEquals("/foo",request.getServletPath());
  assertEquals("127.0.0.1",request.getServerName());
}
