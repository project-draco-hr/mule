{
  try {
    if (jmsSession.getTransacted() == false) {
      throw new IllegalTransactionStateException("Jms session is not transacted.  Check the endpoint config");
    }
    logger.debug("Beginning transaction");
    started.commit(false,true);
  }
 catch (  JMSException e) {
    throw new IllegalTransactionStateException("Failed to read Jms session transacted property: " + e.getMessage(),e);
  }
}
