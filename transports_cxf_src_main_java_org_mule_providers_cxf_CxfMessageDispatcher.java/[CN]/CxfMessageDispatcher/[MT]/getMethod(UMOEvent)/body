{
  String method=(String)event.getMessage().getProperty(MuleProperties.MULE_METHOD_PROPERTY);
  if (method == null) {
    UMOEndpointURI endpointUri=event.getEndpoint().getEndpointURI();
    method=(String)endpointUri.getParams().get(MuleProperties.MULE_METHOD_PROPERTY);
  }
  if (method == null) {
    method=(String)event.getEndpoint().getProperties().get(MuleProperties.MULE_METHOD_PROPERTY);
  }
  if (method == null) {
    throw new DispatchException(SoapMessages.cannotInvokeCallWithoutOperation(),event.getMessage(),event.getEndpoint());
  }
  return method;
}
