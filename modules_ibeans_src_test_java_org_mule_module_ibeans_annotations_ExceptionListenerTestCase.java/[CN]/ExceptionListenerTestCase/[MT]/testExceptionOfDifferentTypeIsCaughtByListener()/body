{
  final AtomicBoolean exceptionThrown=new AtomicBoolean(false);
  test.setExceptionListener(new ExceptionListener(){
    @Override public void exceptionThrown(    Exception e){
      exceptionThrown.set(true);
      assertTrue(e instanceof UnknownHostException);
    }
  }
);
  String data=test.doSomethingElse();
  assertTrue(exceptionThrown.get());
  assertNull(data);
}
