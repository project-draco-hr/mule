{
  final AtomicBoolean exceptionThrown=new AtomicBoolean(false);
  test.setExceptionListener(new ExceptionListener(){
    @Override public void exceptionThrown(    Exception e){
      exceptionThrown.set(true);
    }
  }
);
  String data=test.doSomething("blah");
  assertTrue(exceptionThrown.get());
  assertNull(data);
}
