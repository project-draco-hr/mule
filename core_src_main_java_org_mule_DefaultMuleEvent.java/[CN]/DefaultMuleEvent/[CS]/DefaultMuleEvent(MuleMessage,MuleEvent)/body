{
  super(message.getPayload());
  this.message=message;
  this.id=rewriteEvent.getId();
  this.session=rewriteEvent.getSession();
  session.setFlowConstruct(rewriteEvent.getFlowConstruct());
  this.endpoint=rewriteEvent.getEndpoint();
  this.timeout=rewriteEvent.getTimeout();
  this.outputStream=(ResponseOutputStream)rewriteEvent.getOutputStream();
  this.exchangePattern=endpoint.getExchangePattern();
  transacted=endpoint.getTransactionConfig().isTransacted();
  if (rewriteEvent instanceof DefaultMuleEvent) {
    this.transformedMessage=((DefaultMuleEvent)rewriteEvent).getCachedMessage();
    this.processingTime=((DefaultMuleEvent)rewriteEvent).processingTime;
  }
 else {
    this.processingTime=ProcessingTime.newInstance(this.session,message.getMuleContext());
  }
  fillProperties();
}
