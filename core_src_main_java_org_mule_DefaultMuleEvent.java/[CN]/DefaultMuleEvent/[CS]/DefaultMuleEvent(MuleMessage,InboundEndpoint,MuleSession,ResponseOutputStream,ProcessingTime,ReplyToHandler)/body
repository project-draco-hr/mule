{
  super(message.getPayload());
  this.message=message;
  this.endpoint=endpoint;
  this.session=session;
  this.id=generateEventId();
  this.outputStream=outputStream;
  this.exchangePattern=endpoint.getExchangePattern();
  transacted=endpoint.getTransactionConfig().isTransacted();
  fillProperties();
  this.processingTime=time != null ? time : ProcessingTime.newInstance(this.session,message.getMuleContext());
  if (replyToHandler != null) {
    this.replyToHandler=replyToHandler;
  }
}
