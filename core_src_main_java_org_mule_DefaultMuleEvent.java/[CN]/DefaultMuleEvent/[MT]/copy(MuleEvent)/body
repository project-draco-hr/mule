{
  MuleMessage messageCopy=(MuleMessage)((ThreadSafeAccess)event.getMessage()).newThreadCopy();
  DefaultMuleEvent eventCopy=new DefaultMuleEvent(messageCopy,event,new DefaultMuleSession(event.getSession()));
  eventCopy.flowVariables=((DefaultMuleEvent)event).flowVariables.clone();
  ((DefaultMuleMessage)messageCopy).setInvocationProperties(eventCopy.flowVariables);
  ((DefaultMuleMessage)messageCopy).resetAccessControl();
  return eventCopy;
}
