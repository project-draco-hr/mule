{
  try {
    byte[] buffer;
    if (src instanceof String) {
      buffer=((String)src).getBytes();
    }
 else     if (src instanceof byte[]) {
      buffer=(byte[])src;
    }
 else {
      buffer=Utility.objectToByteArray(src);
    }
    byte[] cmp=CompressionHelper.compressByteArray(buffer);
    if (logger.isDebugEnabled())     logger.debug("Compressed message in transformation");
    return cmp;
  }
 catch (  IOException e) {
    throw new TransformerException(this,e);
  }
}
