{
  componentId=new ProcessorId(RESOLVER_WITH_DYNAMIC_CONFIG,FIRST_PROCESSOR_INDEX);
  MetadataKey key=newKey(AMERICA,CONTINENT).withChild(newKey(USA,COUNTRY).withChild(newKey(SAN_FRANCISCO,CITY))).build();
  MetadataResult<ComponentMetadataDescriptor> result=metadataManager.getMetadata(componentId,key);
  assertFailure(result,"Configuration used for Metadata fetch cannot be dynamic",FailureCode.INVALID_CONFIGURATION,MetadataResolvingException.class.getName());
}
