{
  if (connector != null && endpointUri != null && !connector.supportsProtocol(endpointUri.getScheme())) {
    throw new IllegalArgumentException("Endpoint scheme must be compatible with the connector scheme. Connector is: " + connector.getProtocol() + ", endpoint is: "+ endpointUri);
  }
  this.connector=connector;
}
