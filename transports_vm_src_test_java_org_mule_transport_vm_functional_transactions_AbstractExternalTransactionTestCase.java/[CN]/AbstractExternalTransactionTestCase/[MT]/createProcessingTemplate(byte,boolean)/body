{
  TransactionConfig tc=new MuleTransactionConfig(action);
  tc.setFactory(new XaTransactionFactory());
  tc.setInteractWithExternal(considerExternal);
  ProcessingTemplate<T> processingTemplate=TransactionalProcessingTemplate.createTransactionalProcessingTemplate(context,tc);
  return processingTemplate;
}
