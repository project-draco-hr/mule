{
  String msg="<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">" + "<soap:Body><invalid xmlns=\"http://apache.org/hello_world_soap_http/types\"><requestType>Dan</requestType></invalid>" + "</soap:Body>"+ "</soap:Envelope>";
  MuleClient client=new MuleClient(muleContext);
  MuleMessage result=client.send("http://localhost:" + getPorts().get(0) + "/services/greeter-proxy",msg,null);
  String resString=result.getPayloadAsString();
  assertFalse("Status code should not be 'OK' when the proxied endpoint returns a fault",String.valueOf(HttpConstants.SC_OK).equals(result.getOutboundProperty("http.status")));
  assertTrue(resString.indexOf("Fault") != -1);
}
