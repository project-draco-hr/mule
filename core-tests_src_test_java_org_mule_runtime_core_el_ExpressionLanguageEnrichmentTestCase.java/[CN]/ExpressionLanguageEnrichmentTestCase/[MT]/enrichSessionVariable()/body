{
  Flow flow=new Flow("flow",muleContext);
  MuleEvent event=new DefaultMuleEvent(DefaultMessageContext.create(flow,TEST_CONNECTOR),MuleMessage.builder().payload("").build(),ONE_WAY,flow);
  expressionManager.enrich("sessionVars['foo']",event,flowConstruct,"bar");
  assertThat(event.getSession().getProperty("foo"),equalTo("bar"));
  assertThat(event.getFlowVariableNames(),not(contains("foo")));
}
