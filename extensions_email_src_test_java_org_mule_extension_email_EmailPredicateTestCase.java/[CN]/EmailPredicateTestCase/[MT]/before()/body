{
  builder=new IMAPEmailPredicateBuilder();
  EmailFlags flags=mock(EmailFlags.class);
  when(flags.isSeen()).thenReturn(true);
  when(flags.isRecent()).thenReturn(true);
  when(flags.isDeleted()).thenReturn(false);
  attributes=mock(IMAPEmailAttributes.class);
  when(attributes.getSubject()).thenReturn(EMAIL_SUBJECT);
  when(attributes.getFromAddresses()).thenReturn(singletonList(JUANI_EMAIL));
  when(attributes.getFlags()).thenReturn(flags);
  when(attributes.getReceivedDate()).thenReturn(RECEIVED_DATE);
  when(attributes.getSentDate()).thenReturn(SENT_DATE);
}
