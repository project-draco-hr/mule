{
  if (!artifactFolder.exists()) {
    throw new IllegalArgumentException(format("Application directory does not exist: '%s'",artifactFolder));
  }
  final String appName=artifactFolder.getName();
  ApplicationDescriptor desc;
  try {
    final File deployPropertiesFile=getDeploymentFile(artifactFolder);
    if (deployPropertiesFile != null) {
      final PropertiesDescriptorParser descriptorParser=new PropertiesDescriptorParser();
      desc=descriptorParser.parse(deployPropertiesFile,appName);
    }
 else {
      desc=new EmptyApplicationDescriptor(appName);
    }
    final File appPropsFile=new File(artifactFolder,DEFAULT_APP_PROPERTIES_RESOURCE);
    setApplicationProperties(desc,appPropsFile);
    final Set<ApplicationPluginDescriptor> plugins=parsePluginDescriptors(artifactFolder,desc);
    desc.setPlugins(plugins);
    desc.setSharedPluginLibs(findSharedPluginLibs(appName));
  }
 catch (  IOException e) {
    throw new ArtifactDescriptorCreateException("Unable to create application descriptor",e);
  }
  return desc;
}
