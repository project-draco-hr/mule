{
  MuleMessage message=new DefaultMuleMessage("data",muleContext);
  MuleEvent event=new DefaultMuleEvent(message,MessageExchangePattern.ONE_WAY,getTestFlow());
  message.setInvocationProperty("key","value");
  MuleEvent deserializedEvent=(MuleEvent)SerializationUtils.deserialize(SerializationUtils.serialize(event),muleContext);
  assertNotSame(deserializedEvent,event);
  assertNotSame(deserializedEvent,event);
  assertNotSame(deserializedEvent.getSession(),event.getSession());
  assertNotSame(deserializedEvent.getSession(),event.getSession());
  assertEquals("value",deserializedEvent.getMessage().getInvocationProperty("key"));
  deserializedEvent.getMessage().setInvocationProperty("newKey","newValue");
  assertEquals("newValue",deserializedEvent.getMessage().getInvocationProperty("newKey"));
  assertNull(event.getMessage().getInvocationProperty("newKey"));
}
