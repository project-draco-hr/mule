{
  if (src instanceof byte[]) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),new StreamSource(new ByteArrayInputStream((byte[])src)),connection.createDocumentType());
  }
 else   if (src instanceof InputStream) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),new StreamSource((InputStream)src),connection.createDocumentType());
  }
 else   if (src instanceof String) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),new StreamSource(new ByteArrayInputStream(((String)src).getBytes())),connection.createDocumentType());
  }
 else   if (src instanceof Document) {
    transformer.bindNode(new QName(SOURCE_DOCUMENT_NAMESPACE),(Document)src,connection.createDocumentType());
  }
 else   if (src instanceof Element) {
    transformer.bindNode(new QName(SOURCE_DOCUMENT_NAMESPACE),(Element)src,connection.createDocumentType());
  }
 else   if (src instanceof org.dom4j.Document) {
    DOMWriter domWriter=new DOMWriter();
    Document dom=domWriter.write((org.dom4j.Document)src);
    transformer.bindNode(new QName(SOURCE_DOCUMENT_NAMESPACE),dom,connection.createDocumentType());
  }
 else   if (src instanceof DocumentSource) {
    transformer.bindDocument(new QName(SOURCE_DOCUMENT_NAMESPACE),((DocumentSource)src),null);
  }
 else {
    throw new IllegalArgumentException(CoreMessages.transformUnexpectedType(src.getClass(),null).getMessage());
  }
}
