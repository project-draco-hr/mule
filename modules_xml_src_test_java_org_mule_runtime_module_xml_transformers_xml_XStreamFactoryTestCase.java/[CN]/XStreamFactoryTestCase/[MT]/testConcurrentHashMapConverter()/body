{
  ConcurrentHashMap<Object,Object> map=new ConcurrentHashMap<Object,Object>();
  map.put("foo","bar");
  XStream xstream=new XStreamFactory().getInstance();
  String mapXML=xstream.toXML(map);
  assertNotNull(mapXML);
  assertTrue(StringUtils.isNotEmpty(mapXML));
  Object newMap=xstream.fromXML(mapXML);
  assertNotNull(newMap);
  assertTrue(newMap instanceof ConcurrentHashMap);
  assertEquals(1,((Map<?,?>)newMap).size());
  assertEquals("bar",((Map<?,?>)newMap).get("foo"));
}
