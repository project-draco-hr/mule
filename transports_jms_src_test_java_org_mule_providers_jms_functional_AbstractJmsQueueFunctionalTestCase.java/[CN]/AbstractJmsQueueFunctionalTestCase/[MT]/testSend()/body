{
  FunctionalTestComponent ftc=lookupTestComponent();
  CountdownCallback callback=new CountdownCallback(1);
  ftc.setEventCallback(callback);
  send(TEST_MESSAGE,"in");
  assertTrue(callback.await(LOCK_TIMEOUT));
  assertEquals(TEST_MESSAGE,ftc.getLastReceivedMessage());
  assertEquals(TEST_MESSAGE_RESPONSE,receiveTextMessage("out"));
}
