{
  SedaModel model=new SedaModel();
  model.setMuleContext(context);
  context.applyLifecycle(model);
  Service c=new SedaService();
  c.setName(name);
  ObjectFactory of=new SingletonObjectFactory(clazz,props);
  of.initialise();
  c.setComponent(new DefaultJavaComponent(of));
  c.setModel(model);
  if (initialize) {
    context.getRegistry().registerService(c);
    OutboundRouter router=new OutboundPassThroughRouter();
    c.getOutboundRouter().addRouter(router);
  }
  return c;
}
