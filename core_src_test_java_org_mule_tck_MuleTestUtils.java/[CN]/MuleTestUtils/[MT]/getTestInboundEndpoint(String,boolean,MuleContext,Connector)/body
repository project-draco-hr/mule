{
  return (InboundEndpoint)getTestEndpoint(name,null,null,null,null,context,new EndpointSource(){
    public ImmutableEndpoint getEndpoint(    EndpointBuilder builder) throws MuleException {
      builder.setSynchronous(sync);
      return context.getRegistry().lookupEndpointFactory().getInboundEndpoint(builder);
    }
  }
,connector);
}
