{
  MuleMessage message=theEvent.getMessage();
  for (  MessageProcessor target : routes) {
    try {
      if (isMatch(message)) {
        MuleEvent event=RequestContext.setEvent(theEvent);
        return target.process(event);
      }
    }
 catch (    MessagingException e) {
      throw e;
    }
catch (    MuleException e) {
      throw new MessagingException(e.getI18nMessage(),theEvent,e,this);
    }
  }
  throw new RuntimeException("Event not processed");
}
