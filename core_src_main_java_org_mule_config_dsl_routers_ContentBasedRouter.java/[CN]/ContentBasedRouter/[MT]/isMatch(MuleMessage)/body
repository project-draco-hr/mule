{
  for (  MessageProcessor target : routes) {
    if (target instanceof ImmutableEndpoint) {
      ImmutableEndpoint endpoint=(ImmutableEndpoint)target;
      if (endpoint.getFilter() == null || endpoint.getFilter().accept(message)) {
        return true;
      }
    }
 else {
      return true;
    }
  }
  return false;
}
