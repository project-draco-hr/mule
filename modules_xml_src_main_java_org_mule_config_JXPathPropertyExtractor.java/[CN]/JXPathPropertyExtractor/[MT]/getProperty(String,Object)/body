{
  Object result=null;
  Object payload=message;
  if (message instanceof UMOMessage) {
    payload=((UMOMessage)message).getPayload();
  }
  if (payload instanceof String) {
    Document doc;
    try {
      doc=DocumentHelper.parseText((String)payload);
    }
 catch (    DocumentException e) {
      logger.error(e);
      return null;
    }
    result=doc.valueOf(name);
  }
 else {
    JXPathContext context=JXPathContext.newContext(payload);
    try {
      result=context.getValue(name);
    }
 catch (    Exception e) {
    }
  }
  return result;
}
