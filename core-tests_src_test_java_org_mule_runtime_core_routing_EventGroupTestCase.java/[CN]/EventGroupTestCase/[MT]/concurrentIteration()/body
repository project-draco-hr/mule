{
  EventGroup eg=new EventGroup(UUID.getUUID(),muleContext);
  eg.initEventsStore(objectStore);
  assertFalse(eg.iterator().hasNext());
  eg.addEvent(getTestEvent("foo1"));
  eg.addEvent(getTestEvent("foo2"));
  assertTrue(eg.iterator().hasNext());
  Iterator<Event> i=eg.iterator();
  assertNotNull(i.next());
  eg.addEvent(getTestEvent("foo3"));
  assertNotNull(i.next());
  eg.addEvent(getTestEvent("foo4"));
  assertFalse(i.hasNext());
  assertEquals(4,eg.size());
}
