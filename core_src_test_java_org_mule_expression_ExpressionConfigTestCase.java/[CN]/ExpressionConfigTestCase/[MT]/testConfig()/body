{
  ExpressionConfig config=new ExpressionConfig("foo=bar","header",null,"$[","]");
  config.validate(muleContext.getExpressionManager());
  assertEquals("$[header:foo=bar]",config.getFullExpression(muleContext.getExpressionManager()));
  config=new ExpressionConfig("foo,bar","headers",null);
  config.validate(muleContext.getExpressionManager());
  assertEquals("#[headers:foo,bar]",config.getFullExpression(muleContext.getExpressionManager()));
  config=new ExpressionConfig();
  config.parse("#[attachment:baz]");
  config.validate(muleContext.getExpressionManager());
  assertEquals("attachment",config.getEvaluator());
  assertEquals("baz",config.getExpression());
  assertNull(config.getCustomEvaluator());
}
