{
  muleContext.getExpressionManager().registerEvaluator(new StringExpressionEvaluator());
  ExpressionConfig expressionConfig=new ExpressionConfig();
  expressionConfig.setExpression("#[header:#[header:foo]]");
  assertEquals("header",expressionConfig.getEvaluator());
  assertNull(expressionConfig.getCustomEvaluator());
  assertEquals("#[header:foo]",expressionConfig.getExpression());
  assertEquals("#[header:#[header:foo]]",expressionConfig.getFullExpression(expressionManager));
}
