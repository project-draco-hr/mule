{
  Map<String,String> props=new HashMap<String,String>();
  props.put("apple","red");
  props.put(EndpointSelector.DEFAULT_SELECTOR_EXPRESSION,"dest3");
  props.put("banana","yellow");
  MuleMessage message=new DefaultMuleMessage("test event",props,muleContext);
  assertTrue(router.isMatch(message));
  session.expect("dispatchEvent",C.eq(message,dest3));
  router.route(message,(MuleSession)session.proxy());
  session.verify();
}
