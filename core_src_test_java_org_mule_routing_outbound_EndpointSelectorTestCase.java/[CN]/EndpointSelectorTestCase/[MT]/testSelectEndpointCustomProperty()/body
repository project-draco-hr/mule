{
  router.setExpression("wayOut");
  router.setEvaluator("header");
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("apple","red");
  props.put("wayOut","dest2");
  props.put("banana","yellow");
  MuleMessage message=new DefaultMuleMessage("test event",props,muleContext);
  assertTrue(router.isMatch(message));
  when(mockEndpoint2.process(any(MuleEvent.class))).thenAnswer(new MuleEventCheckAnswer());
  router.route(new OutboundRoutingTestEvent(message,session,muleContext));
}
