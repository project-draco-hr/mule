{
  MuleMessage mockMessage=mock(DefaultMuleMessage.class,withSettings().extraInterfaces(ThreadSafeAccess.class).defaultAnswer(Answers.RETURNS_DEEP_STUBS.get()));
  when(((ThreadSafeAccess)mockMessage).newThreadCopy()).thenReturn(mock(DefaultMuleMessage.class));
  when(mockMessage.getProperty(MuleProperties.MULE_FORCE_SYNC_PROPERTY,PropertyScope.INBOUND,false)).thenReturn(false);
  when(mockMessage.getOutboundProperty(MuleProperties.MULE_CREDENTIALS_PROPERTY)).thenReturn(null);
  return new DefaultMuleEvent(mockMessage,mock(MessageExchangePattern.class,Answers.RETURNS_DEEP_STUBS.get()),mock(FlowConstruct.class,Answers.RETURNS_DEEP_STUBS.get()));
}
