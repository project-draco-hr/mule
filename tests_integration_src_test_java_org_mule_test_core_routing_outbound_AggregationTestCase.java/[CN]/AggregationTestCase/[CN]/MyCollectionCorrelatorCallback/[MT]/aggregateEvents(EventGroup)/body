{
  List<MuleEvent> eventList=new ArrayList<>();
  Iterator<MuleEvent> iter=null;
  FlowConstruct fc=null;
  MessageContext executionContext=null;
  try {
    iter=events.iterator(true);
  }
 catch (  ObjectStoreException e) {
    throw new AggregationException(events,null,e);
  }
  while (iter.hasNext()) {
    MuleEvent event=iter.next();
    eventList.add(event);
    executionContext=event.getContext();
    fc=event.getFlowConstruct();
  }
  MuleMessage msg=MuleMessage.builder().payload(eventList).build();
  return new DefaultMuleEvent(executionContext,msg,ONE_WAY,fc);
}
