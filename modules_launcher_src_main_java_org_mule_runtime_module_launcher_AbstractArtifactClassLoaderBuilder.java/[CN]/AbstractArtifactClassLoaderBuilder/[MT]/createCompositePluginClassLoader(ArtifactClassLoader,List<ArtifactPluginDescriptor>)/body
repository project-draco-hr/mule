{
  List<ArtifactClassLoader> classLoaders=new LinkedList<>();
  classLoaders.add(parent);
  for (  ArtifactPluginDescriptor artifactPluginDescriptor : artifactPluginDescriptors) {
    ArtifactPlugin artifactPlugin=artifactPluginFactory.create(artifactPluginDescriptor,parent);
    artifactPluginClassLoaders.add(artifactPlugin.getArtifactClassLoader());
    final FilteringArtifactClassLoader filteringPluginClassLoader=new FilteringArtifactClassLoader(artifactPlugin.getArtifactClassLoader(),artifactPlugin.getDescriptor().getClassLoaderFilter());
    classLoaders.add(filteringPluginClassLoader);
  }
  return new CompositeArtifactClassLoader("appPlugins",parent.getClassLoader(),classLoaders,parent.getClassLoaderLookupPolicy());
}
