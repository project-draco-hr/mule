{
  checkState(artifactDescriptor != null,"artifact descriptor cannot be null");
  parentClassLoader=getParentClassLoader();
  checkState(parentClassLoader != null,"parent class loader cannot be null");
  parentClassLoader=getSharedLibClassLoader(parentClassLoader);
  List<ArtifactPluginDescriptor> effectiveArtifactPluginDescriptors=createContainerApplicationPlugins();
  effectiveArtifactPluginDescriptors.addAll(artifactPluginDescriptors);
  if (!effectiveArtifactPluginDescriptors.isEmpty()) {
    parentClassLoader=createCompositePluginClassLoader(parentClassLoader,effectiveArtifactPluginDescriptors);
  }
  return artifactClassLoaderFactory.create(parentClassLoader,artifactDescriptor,artifactPluginClassLoaders);
}
