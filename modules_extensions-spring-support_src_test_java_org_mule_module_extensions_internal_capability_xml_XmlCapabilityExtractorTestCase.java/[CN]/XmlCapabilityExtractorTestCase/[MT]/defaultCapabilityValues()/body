{
  declarationConstruct=new DeclarationConstruct(EXTENSION_NAME,EXTENSION_VERSION);
  resolver.resolveCapabilities(declarationConstruct,DefaultXmlExtension.class,capabilitiesCallback);
  verify(capabilitiesCallback).withCapability(captor.capture());
  XmlCapability capability=captor.getValue();
  assertThat(capability,is(notNullValue()));
  assertThat(capability.getSchemaVersion(),is(EXTENSION_VERSION));
  assertThat(capability.getNamespace(),is(NAMESPACE));
  assertThat(capability.getSchemaLocation(),equalTo(String.format(XmlCapabilityExtractor.DEFAULT_SCHEMA_LOCATION_MASK,EXTENSION_NAME)));
}
