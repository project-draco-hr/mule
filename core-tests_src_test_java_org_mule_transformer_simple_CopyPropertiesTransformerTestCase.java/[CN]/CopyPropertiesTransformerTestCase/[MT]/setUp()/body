{
  when(mockMuleContext.getExpressionManager()).thenReturn(mockExpressionManager);
  Mockito.when(mockExpressionManager.parse(anyString(),Mockito.any(MuleMessage.class))).thenAnswer(new Answer<String>(){
    @Override public String answer(    InvocationOnMock invocation) throws Throwable {
      return (String)invocation.getArguments()[0];
    }
  }
);
  when(mockMuleMessage.getDataType()).thenReturn(new SimpleDataType(String.class));
}
