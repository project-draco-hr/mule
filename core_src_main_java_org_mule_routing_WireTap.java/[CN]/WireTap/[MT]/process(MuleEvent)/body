{
  if (tap == null) {
    return event;
  }
  try {
    RequestContext.setEvent(null);
    filteredTap.process(RequestContext.cloneAndUpdateEventEndpoint(event,tap));
  }
 catch (  MuleException e) {
    logger.error("Exception sending to wiretap output " + tap,e);
  }
  return event;
}
