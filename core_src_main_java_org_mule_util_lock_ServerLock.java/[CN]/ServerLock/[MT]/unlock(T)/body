{
synchronized (acquireLock) {
    LockEntry lock=this.locks.get(key);
    if (lock != null) {
      lock.decrementLockCount();
      if (!lock.hasPendingLocks()) {
        this.locks.remove(key);
      }
      lock.unlock();
    }
    acquireLock.notifyAll();
  }
}
