{
  if (!failureResponseSentToClient) {
    String temp=ExceptionHelper.getErrorMapping(getConnector().getProtocol(),exception.getClass(),getMuleContext());
    int httpStatus=Integer.valueOf(temp);
    try {
      servletResponseWriter.writeErrorResponse(servletResponse,httpStatus,exception.getMessage(),new HashMap<String,String>());
    }
 catch (    Exception e) {
      logger.warn("Exception sending Jetty HTTP response after error: " + e.getMessage());
      if (logger.isDebugEnabled()) {
        logger.debug(e);
      }
    }
  }
}
