{
  if (logger.isDebugEnabled()) {
    logger.debug("Creating http server socket for host %s and path %s",serverAddress.getHost(),serverAddress.getPort());
  }
  if (servers.containsKey(servers)) {
    throw new IllegalStateException(String.format("Could not create a server for %s since there's already one.",serverAddress));
  }
  httpServerFilterDelegate.addFilterForAddress(serverAddress,createHttpServerFilter(usePersistentConnections,connectionIdleTimeout));
  final GrizzlyServer grizzlyServer=new GrizzlyServer(serverAddress,transport,httpListenerRegistry);
  servers.put(serverAddress,grizzlyServer);
  return grizzlyServer;
}
