{
  try {
    final SSLEngineConfigurator serverConfig=new SSLEngineConfigurator(tlsContextFactory.createSslContext(),false,false,false);
    final String[] enabledProtocols=tlsContextFactory.getEnabledProtocols();
    if (enabledProtocols != null) {
      serverConfig.setEnabledProtocols(enabledProtocols);
    }
    final String[] enabledCipherSuites=tlsContextFactory.getEnabledCipherSuites();
    if (enabledCipherSuites != null) {
      serverConfig.setEnabledCipherSuites(enabledCipherSuites);
    }
    final SSLEngineConfigurator clientConfig=serverConfig.copy().setClientMode(true);
    final SSLFilter sslBaseFilter=new SSLFilter(serverConfig,clientConfig);
    return sslBaseFilter;
  }
 catch (  Exception e) {
    throw new MuleRuntimeException(e);
  }
}
