{
  when(muleEvent.getFlowConstruct()).thenReturn(mock(Flow.class));
  when(muleEvent.isAllowNonBlocking()).thenReturn(true);
  assertThat(createProcessorExecutor().getClass(),CoreMatchers.<Class>equalTo((NonBlockingProcessorExecutor.class)));
}
