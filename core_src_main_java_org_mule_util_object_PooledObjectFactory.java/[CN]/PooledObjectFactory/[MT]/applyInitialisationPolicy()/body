{
  if (poolingProfile != null) {
    int numToBorrow=0;
    int initPolicy=poolingProfile.getInitialisationPolicy();
    if (initPolicy == PoolingProfile.INITIALISE_ALL) {
      numToBorrow=poolingProfile.getMaxActive();
    }
 else     if (initPolicy == PoolingProfile.INITIALISE_ONE) {
      numToBorrow=1;
    }
    List holderList=new ArrayList(numToBorrow);
    try {
      for (int t=0; t < numToBorrow; t++) {
        holderList.add(this.getInstance());
      }
    }
  finally {
      for (int t=0; t < holderList.size(); t++) {
        Object obj=holderList.get(t);
        if (obj != null) {
          this.release(obj);
        }
      }
    }
  }
}
