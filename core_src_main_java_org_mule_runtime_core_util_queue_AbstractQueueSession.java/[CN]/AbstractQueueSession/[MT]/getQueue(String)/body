{
  QueueStore queueStore=queueProvider.getQueue(name);
  return new TransactionAwareQueueStore(queueStore,new TransactionContextProvider(){
    @Override public boolean isTransactional(){
      return getTransactionalContext() != null;
    }
    @Override public QueueTransactionContext getTransactionalContext(){
      return AbstractQueueSession.this.getTransactionalContext();
    }
  }
,muleContext);
}
