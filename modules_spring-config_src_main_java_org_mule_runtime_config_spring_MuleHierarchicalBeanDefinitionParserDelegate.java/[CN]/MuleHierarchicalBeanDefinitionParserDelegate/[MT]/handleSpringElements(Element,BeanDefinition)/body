{
  if (SpringXMLUtils.isLocalName(element,BEANS)) {
    try {
      Document doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
      doc.appendChild(doc.importNode(element,true));
      spring.registerBeanDefinitions(doc,getReaderContext());
    }
 catch (    ParserConfigurationException e) {
      throw new RuntimeException(e);
    }
    return parent;
  }
 else   if (SpringXMLUtils.isLocalName(element,PROPERTY_ELEMENT)) {
    parsePropertyElement(element,parent);
    return parent;
  }
 else   if (SpringXMLUtils.isLocalName(element,BEAN_ELEMENT)) {
    BeanDefinitionHolder holder=parseBeanDefinitionElement(element,parent);
    registerBeanDefinitionHolder(holder);
    return holder.getBeanDefinition();
  }
 else {
    throw new IllegalStateException("Unexpected Spring element: " + SpringXMLUtils.elementToString(element));
  }
}
