{
  DefaultMuleSession before=new DefaultMuleSession(Mockito.mock(FlowConstruct.class),Mockito.mock(MuleContext.class));
  before.setValid(false);
  before.setSecurityContext(Mockito.mock(SecurityContext.class));
  before.setProperty("foo","bar");
  before.setProperty("notSerializableValue",new Object());
  DefaultMuleSession after=(DefaultMuleSession)SerializationUtils.deserialize(SerializationUtils.serialize(before),getClass().getClassLoader());
  assertEquals(before.getId(),after.getId());
}
