{
  final String errorMessage="Error Message";
  Exception withConnectionExceptionCause=new Exception(new ConnectionException(errorMessage,new ConnectionException(new NullPointerException())));
  Optional<ConnectionException> connectionException=extractRootConnectionException(withConnectionExceptionCause);
  assertThat(connectionException.isPresent(),is(true));
  assertThat(connectionException.get().getMessage(),is(errorMessage));
  Exception withoutConnectionException=new Exception(new NullPointerException());
  Optional<ConnectionException> exception=extractRootConnectionException(withoutConnectionException);
  assertThat(exception.isPresent(),is(false));
}
