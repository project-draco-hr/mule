{
  Exception exception=new Exception(new IOException(new ConnectionException(ERROR_MESSAGE,new NullPointerException())));
  Optional<? extends Throwable> throwable=extractCauseOfType(exception,IOException.class);
  assertThat(throwable.isPresent(),is(true));
  assertThat(throwable.get(),instanceOf(ConnectionException.class));
  assertThat(throwable.get().getMessage(),is(ERROR_MESSAGE));
}
