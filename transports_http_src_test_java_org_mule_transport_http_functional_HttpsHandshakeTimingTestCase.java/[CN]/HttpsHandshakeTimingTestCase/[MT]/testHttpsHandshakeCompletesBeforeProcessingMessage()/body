{
  MockHttpsMessageReceiver messageReceiver=setupMockHttpsMessageReceiver();
  MockSslSocket socket=new MockSslSocket();
  Work work=messageReceiver.createWork(socket);
  assertNotNull(work);
  invokeHandshakeCompleted(work,socket);
  MuleMessage message=new DefaultMuleMessage(TEST_MESSAGE,muleContext);
  invokePreRouteMessage(work,message);
  assertNotNull(message.getProperty(MuleProperties.MULE_REMOTE_CLIENT_ADDRESS));
}
