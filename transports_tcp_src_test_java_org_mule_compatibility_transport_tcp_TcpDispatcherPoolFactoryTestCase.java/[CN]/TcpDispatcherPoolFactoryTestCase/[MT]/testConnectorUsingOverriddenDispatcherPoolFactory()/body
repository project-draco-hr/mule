{
  Connector connector=muleContext.getRegistry().lookupObject("tcpConnectorWithOverriddenFactory");
  assertTrue(connector instanceof TcpConnector);
  TcpConnector tcpConnector=(TcpConnector)connector;
  assertEquals(StubDispatcherPoolFactory.class,tcpConnector.getDispatcherPoolFactory().getClass());
  assertEquals(StubConfigurableKeyedObjectPool.class,tcpConnector.getDispatchers().getClass());
}
