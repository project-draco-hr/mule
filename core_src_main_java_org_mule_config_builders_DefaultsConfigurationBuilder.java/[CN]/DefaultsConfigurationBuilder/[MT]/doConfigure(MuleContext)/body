{
  MuleRegistry registry=muleContext.getRegistry();
  registry.registerObject(MuleProperties.OBJECT_MULE_SIMPLE_REGISTRY_BOOTSTRAP,new SimpleRegistryBootstrap());
  configureQueueManager(muleContext);
  registry.registerObject(MuleProperties.OBJECT_SECURITY_MANAGER,new MuleSecurityManager());
  SimpleMemoryObjectStore<Serializable> memoryStore=new SimpleMemoryObjectStore<Serializable>();
  registry.registerObject(MuleProperties.OBJECT_STORE_DEFAULT_IN_MEMORY_NAME,memoryStore);
  registry.registerObject(MuleProperties.OBJECT_STORE_DEFAULT_PERSISTENT_NAME,new QueuePersistenceObjectStore<Serializable>());
  registry.registerObject(MuleProperties.OBJECT_MULE_ENDPOINT_FACTORY,new DefaultEndpointFactory());
  registry.registerObject(MuleProperties.OBJECT_MULE_STREAM_CLOSER_SERVICE,new DefaultStreamCloserService());
  configureThreadingProfiles(registry);
  registry.registerObject(MuleProperties.OBJECT_DEFAULT_RETRY_POLICY_TEMPLATE,new NoRetryPolicyTemplate());
  configureSystemModel(registry);
}
