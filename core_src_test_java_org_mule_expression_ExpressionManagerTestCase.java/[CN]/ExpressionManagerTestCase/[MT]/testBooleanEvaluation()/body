{
  MuleMessage msg=new DefaultMuleMessage("test",muleContext);
  msg.setOutboundProperty("user","vasya");
  msg.setOutboundProperty("password","pupkin");
  msg.setOutboundProperty("host","example.com");
  msg.setOutboundProperty("port","12345");
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("header:user",msg));
  assertTrue(muleContext.getExpressionManager().evaluateBoolean("header:user",msg,false,true));
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("header:user",msg,false,false));
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("header:ur",msg));
  assertTrue(muleContext.getExpressionManager().evaluateBoolean("header:ur",msg,true,false));
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("header:ur",msg,false,false));
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("groovy:p",msg));
  assertTrue(muleContext.getExpressionManager().evaluateBoolean("groovy:payload=='test'",msg));
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("groovy:payload=='t'",msg));
  assertTrue(muleContext.getExpressionManager().evaluateBoolean("groovy:payload=='test'",msg,false,false));
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("groovy:payload=='t'",msg,false,false));
  assertTrue(muleContext.getExpressionManager().evaluateBoolean("groovy:payload=='test'",msg,true,true));
  assertFalse(muleContext.getExpressionManager().evaluateBoolean("groovy:payload=='t'",msg,true,true));
}
