{
  if (txManager == null && StringUtils.isEmpty(StringUtils.trim(jndiName))) {
    throw new InitialisationException(new Message(Messages.PROPERTIES_X_NOT_SET,"jndiName"),this);
  }
  try {
    if (context == null) {
      context=JndiContextHelper.initialise(getEnvironment());
    }
  }
 catch (  NamingException e) {
    throw new InitialisationException(new Message(Messages.FAILED_TO_CREATE_X,"Jndi context"),e,this);
  }
}
