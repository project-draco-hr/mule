{
  endpoints=getPossibleEndpoints(me,endpoints);
  if (endpoints.length > 0) {
    ServiceEndpoint endpoint;
    for (Iterator iterator=endpointSelectors.iterator(); iterator.hasNext(); ) {
      EndpointSelector endpointSelector=(EndpointSelector)iterator.next();
      endpoint=endpointSelector.select(endpoints,me);
      if (endpoint != null) {
        logger.debug("Selected endpoint: " + endpoint + " using selector: "+ endpointSelector);
        return endpoint;
      }
 else {
        logger.debug("No endpoint selected using selector: " + endpointSelector);
      }
    }
  }
  return null;
}
