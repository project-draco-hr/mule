{
  MuleClient client=muleContext.getClient();
  MuleMessage result=client.send("vm://exception","testExceptionInService",null);
  assertNotNull(result);
  assertNotNull(result.getExceptionPayload());
  assertTrue(ExceptionUtils.getRootCause(result.getExceptionPayload().getException()) instanceof FunctionalTestException);
  assertNotNull(client.request("vm://queueC",1000));
  assertNull(client.request("vm://queueD",1000));
}
