{
  MuleClient client=muleContext.getClient();
  try {
    client.send("vm://exception","testExceptionInService",null);
    fail("Should have thrown an exception");
  }
 catch (  Exception e) {
    assertTrue(ExceptionUtils.getRootCause(e) instanceof FunctionalTestException);
  }
  assertNotNull(client.request("vm://queueC",1000));
  assertNull(client.request("vm://queueD",1000));
}
