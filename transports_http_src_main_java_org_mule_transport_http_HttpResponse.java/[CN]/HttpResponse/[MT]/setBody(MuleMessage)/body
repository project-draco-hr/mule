{
  if (msg == null)   return;
  Object payload=msg.getPayload();
  if (payload instanceof String) {
    setBody(payload.toString());
  }
 else   if (payload instanceof NullPayload) {
    return;
  }
 else   if (payload instanceof byte[]) {
    setBody((byte[])payload);
  }
 else {
    setBody(msg.getMuleContext().getTransformationService().getPayload(msg,DataTypeFactory.create(OutputHandler.class)));
  }
}
