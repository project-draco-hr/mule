{
  List<Integer> freePorts=new ArrayList<Integer>();
  for (int port=MIN_PORT; freePorts.size() != numberOfPorts && port < MAX_PORT; ++port) {
    if (isPortFree(port)) {
      freePorts.add(port);
    }
  }
  if (freePorts.size() != numberOfPorts) {
    logger.info("requested " + numberOfPorts + " open ports, but returning "+ freePorts.size());
  }
  return freePorts;
}
