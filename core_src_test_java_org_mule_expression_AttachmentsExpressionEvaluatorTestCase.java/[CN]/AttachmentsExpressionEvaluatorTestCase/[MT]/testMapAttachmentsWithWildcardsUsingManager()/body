{
  Object result=muleContext.getExpressionManager().evaluate("#[attachments:*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(3,((Map)result).size());
  assertNotNull(((Map)result).get("foo"));
  assertNotNull(((Map)result).get("bar"));
  assertNotNull(((Map)result).get("baz"));
  result=muleContext.getExpressionManager().evaluate("#[attachments:ba*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(2,((Map)result).size());
  assertNotNull(((Map)result).get("bar"));
  assertNotNull(((Map)result).get("baz"));
  result=muleContext.getExpressionManager().evaluate("#[attachments:x*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(0,((Map)result).size());
  result=muleContext.getExpressionManager().evaluate("#[attachments:ba*, f*]",message);
  assertNotNull(result);
  assertTrue(result instanceof Map);
  assertEquals(3,((Map)result).size());
  assertNotNull(((Map)result).get("foo"));
  assertNotNull(((Map)result).get("bar"));
  assertNotNull(((Map)result).get("baz"));
}
