{
  MessageAttachmentExpressionEvaluator eval=new MessageAttachmentExpressionEvaluator();
  Object result=eval.evaluate("foo",message);
  assertNotNull(result);
  assertTrue(result instanceof DataHandler);
  ByteArrayOutputStream baos=new ByteArrayOutputStream(4);
  ((DataHandler)result).writeTo(baos);
  assertEquals("moo",baos.toString());
  result=eval.evaluate("foo?",message);
  assertNotNull(result);
  assertTrue(result instanceof DataHandler);
  baos=new ByteArrayOutputStream(4);
  ((DataHandler)result).writeTo(baos);
  assertEquals("moo",baos.toString());
  result=eval.evaluate("fool?",message);
  assertNull(result);
  try {
    result=eval.evaluate("fool",message);
    fail("required value");
  }
 catch (  Exception e) {
  }
}
