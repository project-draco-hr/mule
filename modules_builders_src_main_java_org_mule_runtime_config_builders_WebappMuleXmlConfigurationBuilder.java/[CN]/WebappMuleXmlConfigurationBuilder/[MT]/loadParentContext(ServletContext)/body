{
  ApplicationContext parentContext=null;
  String locatorFactorySelector=servletContext.getInitParameter(ContextLoader.LOCATOR_FACTORY_SELECTOR_PARAM);
  String parentContextKey=servletContext.getInitParameter(ContextLoader.LOCATOR_FACTORY_KEY_PARAM);
  if (parentContextKey != null) {
    BeanFactoryLocator locator=ContextSingletonBeanFactoryLocator.getInstance(locatorFactorySelector);
    if (logger.isDebugEnabled()) {
      logger.debug("Getting parent context definition: using parent context key of '" + parentContextKey + "' with BeanFactoryLocator");
    }
    parentContext=(ApplicationContext)locator.useBeanFactory(parentContextKey).getFactory();
  }
  return parentContext;
}
