{
  Object process=processAction(event);
  if (process != null) {
    MuleMessage msg=new DefaultMuleMessage(process,connector.getMuleContext());
    msg.setProperty(ProcessConnector.PROPERTY_PROCESS_ID,connector.getBpms().getId(process),PropertyScope.INVOCATION);
    return msg;
  }
 else {
    throw new DispatchException(MessageFactory.createStaticMessage("Synchronous process invocation must return the new process state."),event,event.getEndpoint());
  }
}
