{
  validate();
  DbTypeManager dbTypeManager=doCreateTypeManager();
  dbConfig=doCreateDbConfig(dataSource,dbTypeManager);
  dbConfig.setPoolingProfile(poolingProfile);
  dbConfig.setUseXaTransactions(useXaTransactions);
  dbConfig.setUrl(getEffectiveUrl());
  dbConfig.setConnectionTimeout(connectionTimeout);
  dbConfig.setUsername(user);
  dbConfig.setPassword(password);
  dbConfig.setTransactionIsolation(transactionIsolation);
  dbConfig.setDriverClassName(driverClassName);
  dbConfig.setMuleContext(muleContext);
  dbConfig.setRetryPolicyTemplate(retryPolicyTemplate);
  return dbConfig;
}
