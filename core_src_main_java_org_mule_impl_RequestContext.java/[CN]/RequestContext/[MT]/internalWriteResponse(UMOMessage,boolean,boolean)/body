{
  if (message != null) {
    UMOEvent event=getEvent();
    if (event != null) {
      UMOMessage copy=newMessage(message,safe,required);
      combineProperties(event,copy);
      MuleEvent newEvent=new MuleEvent(copy,event.getEndpoint(),event.getSession(),event.isSynchronous());
      if (safe) {
        resetAccessControl(copy);
      }
      internalSetEvent(newEvent);
      return copy;
    }
  }
  return message;
}
