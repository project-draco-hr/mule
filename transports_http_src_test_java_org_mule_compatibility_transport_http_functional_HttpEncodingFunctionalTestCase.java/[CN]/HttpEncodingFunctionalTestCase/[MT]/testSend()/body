{
  MuleClient client=muleContext.getClient();
  MuleMessage reply=client.send("clientEndpoint",MuleMessage.builder().payload(TEST_MESSAGE).mediaType(MediaType.parse(getSendEncoding())).build());
  assertNotNull(reply);
  assertEquals("200",reply.getInboundProperty(HttpConnector.HTTP_STATUS_PROPERTY));
  assertEquals("text/baz; charset=UTF-16BE",reply.getDataType().getMediaType().toRfcString());
  assertThat(reply.getDataType().getMediaType().getCharset().get(),is(UTF_16BE));
  assertEquals(TEST_MESSAGE + " Received",getPayloadAsString(reply));
}
