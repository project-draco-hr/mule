{
  super(connector,component,endpoint,frequency);
  this.dataQueue=pDq;
  String recordDescriptor=(String)endpoint.getEndpointURI().getParams().get(DQConnector.RECORD_DESCRIPTOR_PROPERTY);
  if (recordDescriptor == null) {
    format=((DQConnector)connector).getFormat();
    if (format == null) {
      throw new InitialisationException("The recordDescriptor cannot be null and should be set on the endpoint of connector");
    }
  }
 else {
    try {
      format=DQMessageUtils.getRecordFormat(recordDescriptor,pAs400);
    }
 catch (    Exception e) {
      throw new InitialisationException("Failed to load the recordDescriptor: " + recordDescriptor,e);
    }
  }
}
