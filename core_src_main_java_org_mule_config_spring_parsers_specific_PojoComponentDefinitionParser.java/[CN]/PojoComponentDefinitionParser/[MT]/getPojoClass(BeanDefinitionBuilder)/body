{
  MutablePropertyValues beanProperties=builder.getBeanDefinition().getPropertyValues();
  Class objectClass=null;
  if (beanProperties.getPropertyValue(AbstractObjectFactory.ATTRIBUTE_OBJECT_CLASS) != null) {
    objectClass=(Class)beanProperties.getPropertyValue(AbstractObjectFactory.ATTRIBUTE_OBJECT_CLASS).getValue();
  }
  if (objectClass == null) {
    if (beanProperties.getPropertyValue(AbstractObjectFactory.ATTRIBUTE_OBJECT_CLASS_NAME) != null) {
      String objectClassName=(String)beanProperties.getPropertyValue(AbstractObjectFactory.ATTRIBUTE_OBJECT_CLASS_NAME).getValue();
      objectClass=ClassUtils.getClass(objectClassName);
    }
  }
  return objectClass;
}
