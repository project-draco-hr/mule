{
  MessageContentsList objs=MessageContentsList.getContentsList(message);
  if (objs == null || objs.size() == 0) {
    return;
  }
  List<Object> originalParts=(List<Object>)objs.clone();
  objs.clear();
  for (  final Object o : originalParts) {
    if (o instanceof DelayedResult) {
      objs.add(getDelayedResultCallback((DelayedResult)o));
    }
 else     if (o instanceof XMLStreamReader) {
      objs.add(new XMLStreamWriterCallback(){
        public void write(        XMLStreamWriter writer) throws Fault, XMLStreamException {
          XMLStreamReader xsr=(XMLStreamReader)o;
          StaxUtils.copy(xsr,writer);
          writer.flush();
          xsr.close();
        }
      }
);
    }
 else {
      objs.add(o);
    }
  }
}
