{
  String method=(String)event.getMessage().getProperty(MuleProperties.MULE_METHOD_PROPERTY);
  if (method == null) {
    method=(String)event.getMessage().getProperty(CxfConstants.OPERATION);
  }
  if (method == null) {
    method=defaultMethodName;
  }
  if (method == null && proxy) {
    return "invoke";
  }
  if (method == null) {
    throw new DispatchException(SoapMessages.cannotInvokeCallWithoutOperation(),event.getMessage(),event.getEndpoint());
  }
  return method;
}
