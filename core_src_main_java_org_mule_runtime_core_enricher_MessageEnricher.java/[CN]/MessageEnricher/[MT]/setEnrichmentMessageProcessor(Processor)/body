{
  if (!(enrichmentProcessor instanceof MessageProcessorChain)) {
    this.enrichmentProcessor=MessageProcessors.singletonChain(muleContext,enrichmentProcessor);
  }
 else {
    this.enrichmentProcessor=enrichmentProcessor;
  }
  if (this.enrichmentProcessor instanceof DefaultMessageProcessorChain) {
    ((DefaultMessageProcessorChain)this.enrichmentProcessor).setTemplateMuleContext(muleContext);
  }
}
