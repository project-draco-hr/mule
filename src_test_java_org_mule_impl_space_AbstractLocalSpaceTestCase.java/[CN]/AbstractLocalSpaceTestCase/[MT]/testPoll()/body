{
  final UMOSpace space=getSpaceFactory().create("test");
  try {
    assertEquals(space.size(),0);
    Object o=space.take(0);
    assertEquals(space.size(),0);
    assertNull(o);
    o=space.take(1000);
    assertEquals(space.size(),0);
    assertNull(o);
    space.put("String1");
    assertEquals(space.size(),1);
    o=space.take(0);
    assertEquals(space.size(),0);
    assertEquals("String1",o);
    new Thread(new Runnable(){
      public void run(){
        try {
          Thread.sleep(500);
          space.put("String1");
        }
 catch (        Exception e) {
          logger.warn(e);
        }
      }
    }
).start();
    o=space.take(1000);
    assertEquals(space.size(),0);
    assertEquals("String1",o);
  }
  finally {
    space.dispose();
  }
}
