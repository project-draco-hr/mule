{
  if (endpoint == null) {
    throw new MuleException(new Message(Messages.X_IS_NULL,"Endpoint"));
  }
  logger.info("Setting the Default Send endpoint to: " + endpoint.getName());
  UMOImmutableEndpoint p=(MuleEndpoint)receiveProviders.get(endpoint.getName());
  if (p != null) {
    endpoint=p;
    receiveProviders.remove(endpoint.getName());
  }
  endpoint=configure(endpoint,readOnly,false);
  addReceiveProvider(endpoint,readOnly);
  defaultReceive=endpoint.getName();
}
