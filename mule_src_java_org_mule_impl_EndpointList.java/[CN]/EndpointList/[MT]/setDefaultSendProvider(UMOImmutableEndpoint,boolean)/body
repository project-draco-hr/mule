{
  if (endpoint == null) {
    throw new MuleException(new Message(Messages.X_IS_NULL,"Endpoint"));
  }
  if (logger.isDebugEnabled())   logger.debug("Setting the Default Send endpoint to: " + endpoint.getName());
  UMOImmutableEndpoint p=(UMOImmutableEndpoint)sendProviders.get(endpoint.getName());
  if (p != null) {
    endpoint=p;
    sendProviders.remove(endpoint.getName());
  }
  endpoint=configure(endpoint,readOnly,true);
  addSendProvider(endpoint,readOnly);
  defaultSend=endpoint.getName();
}
