{
  if (store instanceof ObjectStorePartition) {
    ObjectStorePartition partition=(ObjectStorePartition)store;
    String partitionName=partition.getPartitionName();
    partition.getBaseStore().disposePartition(partitionName);
    ScheduledFuture<?> future=monitors.remove(partitionName);
    if (future != null) {
      future.cancel(false);
    }
    stores.remove(partitionName);
  }
 else {
    try {
      store.clear();
    }
 catch (    UnsupportedOperationException e) {
      logger.warn(String.format("ObjectStore of class %s does not support clearing",store.getClass().getCanonicalName()),e);
    }
    try {
      stores.values().remove(store);
    }
 catch (    Exception e) {
      logger.warn("Can not remove object store" + store.toString(),e);
    }
  }
  if (store instanceof Disposable) {
    ((Disposable)store).dispose();
  }
}
