{
  if (persistenceStrategy != null) {
    try {
      List msgs=persistenceStrategy.restore();
      for (Iterator it=msgs.iterator(); it.hasNext(); ) {
        Object id=it.next();
        Holder h=(Holder)persistenceStrategy.load(id);
        Queue q=(Queue)queues.get(h.queueName);
        if (q == null) {
          q=createQueue();
          queues.put(h.queueName,q);
        }
        q.put(id);
      }
    }
 catch (    Exception e) {
      throw new ResourceManagerSystemException(e);
    }
  }
}
