{
  readOnly=false;
  if (added != null) {
    return added.remove(added.size() - 1);
  }
  Object o=queue.take();
  if (o != null) {
    if (removed == null) {
      removed=new ArrayList();
    }
    removed.add(o);
  }
  return o;
}
