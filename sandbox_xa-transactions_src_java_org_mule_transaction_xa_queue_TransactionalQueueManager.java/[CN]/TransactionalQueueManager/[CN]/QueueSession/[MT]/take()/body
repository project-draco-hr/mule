{
  if (localContext != null) {
    return ((QueueTransactionContext)localContext).take();
  }
 else {
    try {
      Object id=queue.take();
      if (id != null) {
        Object item=doLoad(id);
        doRemove(queueName,id);
        return item;
      }
      return null;
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
}
