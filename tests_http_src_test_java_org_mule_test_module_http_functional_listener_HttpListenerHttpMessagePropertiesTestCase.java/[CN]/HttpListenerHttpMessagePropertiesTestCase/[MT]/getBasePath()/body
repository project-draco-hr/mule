{
  final String url=String.format("http://localhost:%s%s",listenBasePort.getNumber(),API_CONTEXT_PATH);
  Request.Get(url).connectTimeout(RECEIVE_TIMEOUT).execute();
  final InternalMessage message=muleContext.getClient().request("test://out",RECEIVE_TIMEOUT).getRight().get();
  HttpRequestAttributes attributes=getAttributes(message);
  assertThat(attributes.getListenerPath(),is("/api/*"));
  assertThat(attributes.getRequestPath(),is(API_CONTEXT_PATH));
  assertThat(attributes.getRelativePath(),is(CONTEXT_PATH));
  ParameterMap uriParams=attributes.getUriParams();
  assertThat(uriParams,notNullValue());
  assertThat(uriParams.isEmpty(),is(true));
}
