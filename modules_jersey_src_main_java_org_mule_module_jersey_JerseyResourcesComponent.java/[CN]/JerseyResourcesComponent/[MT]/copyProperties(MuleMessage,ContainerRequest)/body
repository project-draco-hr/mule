{
  for (  Object prop : message.getInboundPropertyNames()) {
    if (HttpConnector.HTTP_COOKIES_PROPERTY.equals(prop) || HttpHeaders.Names.COOKIE.equals(prop)) {
      Object cookies=message.getInboundProperty(HttpConnector.HTTP_COOKIES_PROPERTY);
      if (cookies instanceof org.apache.commons.httpclient.Cookie[]) {
        for (        org.apache.commons.httpclient.Cookie apacheCookie : (org.apache.commons.httpclient.Cookie[])cookies) {
          Cookie cookie=new Cookie(apacheCookie.getName(),apacheCookie.getValue());
          request.header(HttpConstants.HEADER_COOKIE,cookie);
        }
      }
 else {
        addHeader(request,prop,cookies);
      }
    }
 else {
      addHeader(request,prop,message.getInboundProperty(prop.toString()));
    }
  }
}
