{
  Map<K,V> map=instantiateMap();
  Iterator<ValueResolver<K>> keyIt=keyResolvers.iterator();
  Iterator<ValueResolver<V>> valueIt=valueResolvers.iterator();
  while (keyIt.hasNext() && valueIt.hasNext()) {
    try {
      map.put(keyIt.next().resolve(event),valueIt.next().resolve(event));
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  return map;
}
