{
  if (next == null) {
    return event;
  }
 else   if (event.getEndpoint().getMessageExchangePattern().hasResponse() || event.getEndpoint().getTransactionConfig().isTransacted()) {
    return processNext(event);
  }
 else {
    processAsync(event);
    return null;
  }
}
