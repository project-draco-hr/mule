{
  Shell shell=getShell();
  IProject project=getProject();
  if (project == null) {
    MessageDialog.openError(shell,"Choose Mule Config File","No project selected");
    return null;
  }
  ILabelProvider labelProvider=new WorkbenchLabelProvider(){
    protected String decorateText(    String input,    Object element){
      if (element instanceof IFile)       return input + " - " + ((IFile)element).getProjectRelativePath().toString();
      return input;
    }
  }
;
  ElementListSelectionDialog dialog=new ElementListSelectionDialog(getShell(),labelProvider);
  dialog.setTitle("Choose Mule Config File");
  dialog.setMessage("Select the config file you wish to run or debug");
  try {
    List l=new ArrayList();
    collect(project,MULE_CONFIG_FILE_SUFFIX,l);
    if (l.size() < 1) {
      MessageDialog.openError(shell,"Mule Config File","No Mule config files in selected project");
      return null;
    }
    dialog.setElements(l.toArray());
    if (dialog.open() == Window.OK) {
      IFile file=(IFile)dialog.getFirstResult();
      if (configBuilder.isCorrectXML(file)) {
        fConfigText.setText(file.getProjectRelativePath().toString());
      }
    }
  }
 catch (  CoreException e) {
    e.printStackTrace();
  }
  return null;
}
