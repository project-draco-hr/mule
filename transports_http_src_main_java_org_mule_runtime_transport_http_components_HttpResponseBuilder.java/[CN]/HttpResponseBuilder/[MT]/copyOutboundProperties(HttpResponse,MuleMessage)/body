{
  for (  String headerName : message.getOutboundPropertyNames()) {
    Object headerValue=message.getOutboundProperty(headerName);
    if (headerValue != null) {
      if (isMuleProperty(headerName)) {
        if (propagateMuleProperties) {
          addMuleHeader(response,headerName,headerValue);
        }
      }
 else       if (isMultiValueCookie(headerName,headerValue)) {
        addMultiValueCookie(response,(Cookie[])headerValue);
      }
 else {
        response.setHeader(new Header(headerName,headerValue.toString()));
      }
    }
  }
}
