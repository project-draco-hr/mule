{
  try {
    DQMessage msg=(DQMessage)event.getMessage().getPayload();
    AS400 system=connector.getSystem();
    RecordFormat format=getRecordFormat(event.getEndpoint().getEndpointURI());
    Record rec=DQMessageUtils.getRecord(msg,format);
    DataQueue dq=new DataQueue(system,event.getEndpoint().getEndpointURI().getAddress());
    dq.write(rec.getContents());
  }
 catch (  Exception e) {
    getConnector().handleException(event,e);
  }
  if (logger.isDebugEnabled()) {
    logger.debug("doDispatch(UMOEvent) - end");
  }
}
