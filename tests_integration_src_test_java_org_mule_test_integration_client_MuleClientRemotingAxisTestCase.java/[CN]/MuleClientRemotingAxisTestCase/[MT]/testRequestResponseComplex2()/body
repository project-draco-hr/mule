{
  MuleClient client=new MuleClient();
  RemoteDispatcher dispatcher=client.getRemoteDispatcher("tcp://localhost:38000");
  try {
    String[] args=new String[]{"Ross","Mason"};
    UMOMessage result=dispatcher.sendRemote("axis:http://localhost:38004/mule/services/mycomponent3?method=addPerson",args,null);
    assertNotNull(result);
    assertTrue(result.getPayload() instanceof Person);
    assertEquals("Ross",((Person)result.getPayload()).getFirstName());
    assertEquals("Mason",((Person)result.getPayload()).getLastName());
    result=client.send("axis:http://localhost:38004/mule/services/mycomponent3?method=getPerson","Ross",null);
    assertNotNull(result);
    assertTrue(result.getPayload() instanceof Person);
    assertEquals("Ross",((Person)result.getPayload()).getFirstName());
    assertEquals("Mason",((Person)result.getPayload()).getLastName());
  }
  finally {
    client.dispose();
  }
}
