{
  if (transport == null) {
    UMOEndpointURI uri=endpoint.getEndpointURI();
    URLName url=new URLName(connector.getProtocol(),uri.getHost(),uri.getPort(),null,uri.getUsername(),uri.getPassword());
    session=MailUtils.createMailSession(url,connector);
    session.setDebug(logger.isDebugEnabled());
    transport=session.getTransport(connector.getProtocol());
    transport.connect(uri.getHost(),uri.getPort(),uri.getUsername(),uri.getPassword());
  }
}
