{
  message.setSentDate(Calendar.getInstance().getTime());
  Transport.send(message);
  if (logger.isInfoEnabled()) {
    StringBuffer msg=new StringBuffer();
    msg.append("Email message sent with subject'").append(message.getSubject()).append("' sent- ");
    String to=getRecipients(message,Message.RecipientType.TO);
    String cc=getRecipients(message,Message.RecipientType.CC);
    String bcc=getRecipients(message,Message.RecipientType.BCC);
    msg.append("FROM: ").append(message.getFrom()[0]).append(" ");
    if (to != null)     msg.append("TO: ").append(to).append(" ");
    if (cc != null)     msg.append("CC: ").append(cc).append(" ");
    if (bcc != null)     msg.append("BCC: ").append(bcc).append(" ");
    logger.info(msg.toString());
  }
}
