{
  MuleMessage message=new DefaultMuleMessage(APPLE_JSON,muleContext);
  Apple apple=message.getPayload(DataTypeFactory.create(Apple.class));
  assertNotNull(apple);
  assertFalse(apple.isWashed());
  assertTrue(apple.isBitten());
  message=new DefaultMuleMessage(apple,muleContext);
  String json=message.getPayload(DataTypeFactory.STRING);
  assertNotNull(json);
  JsonData data=new JsonData(json);
  assertEquals("true",data.getAsString("bitten"));
  assertEquals("false",data.getAsString("washed"));
}
