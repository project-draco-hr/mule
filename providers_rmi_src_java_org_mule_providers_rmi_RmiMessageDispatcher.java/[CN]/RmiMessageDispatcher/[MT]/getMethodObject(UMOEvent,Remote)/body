{
  Method method;
  UMOEndpointURI endpointUri=event.getEndpoint().getEndpointURI();
  String methodName=PropertiesHelper.getStringProperty(endpointUri.getParams(),RmiConnector.PARAM_SERVICE_METHOD,null);
  if (methodName == null) {
    methodName=(String)event.getEndpoint().getProperties().get(RmiConnector.PARAM_SERVICE_METHOD);
    if (methodName == null) {
      throw new DispatchException(new org.mule.config.i18n.Message("rmi",RmiConnector.MSG_PARAM_SERVICE_METHOD_NOT_SET),event.getMessage(),event.getEndpoint());
    }
  }
  ArrayList methodArgumentTypes=null;
  try {
    methodArgumentTypes=(ArrayList)event.getEndpoint().getProperties().get(RmiConnector.PROPERTY_SERVICE_METHOD_PARAM_TYPES);
  }
 catch (  Exception e) {
  }
  Class[] argTypes;
  if (methodArgumentTypes != null) {
    connector.setMethodArgumentTypes(methodArgumentTypes);
  }
  argTypes=connector.getArgumentClasses();
  method=remoteObject.getClass().getMethod(methodName,argTypes);
  return method;
}
