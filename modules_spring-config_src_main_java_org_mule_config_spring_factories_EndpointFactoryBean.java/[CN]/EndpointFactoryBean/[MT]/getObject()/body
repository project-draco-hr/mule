{
  if (ENDPOINT_TYPE_RECEIVER.equals(type)) {
    logger.debug("Endpont type is \"receiver\", building inbound endpoint");
    return buildInboundEndpoint();
  }
 else   if (ENDPOINT_TYPE_SENDER.equals(type)) {
    logger.debug("Endpont type is \"sender\", building inbound endpoint");
    return buildOutboundEndpoint();
  }
 else {
    throw new IllegalArgumentException("The endpoint type: " + type + "is not recognized.");
  }
}
