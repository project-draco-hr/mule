{
  if (connection instanceof XAQueueConnection) {
    return ((XAQueueConnection)connection).createXAQueueSession();
  }
 else   if (connection instanceof QueueConnection) {
    return ((QueueConnection)connection).createQueueSession(transacted,ackMode);
  }
 else   if (connection instanceof XATopicConnection) {
    return ((XATopicConnection)connection).createXATopicSession();
  }
 else   if (connection instanceof TopicConnection) {
    return ((TopicConnection)connection).createTopicSession(noLocal,ackMode);
  }
 else {
    throw new IllegalArgumentException("Unknown Jms connection: " + connection.getClass().getName());
  }
}
