{
  try {
    UMOTransaction tx=TransactionCoordination.getInstance().getTransaction();
    Session session;
    if (tx != null && tx instanceof JmsTransaction) {
      session=(Session)tx.getResource();
    }
 else {
      session=getSession(false);
    }
    return new JmsReplyToHandler(this,session,defaultResponseTransformer);
  }
 catch (  JMSException e) {
    logger.error("failed to get replyTo handler: " + e.getMessage(),e);
    return null;
  }
}
