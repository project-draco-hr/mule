{
  Flow flowConstruct=(Flow)muleContext.getRegistry().lookupFlowConstruct("bulkUpdateRequestResponse");
  List<MessageProcessor> messageProcessors=flowConstruct.getMessageProcessors();
  AbstractDbMessageProcessor queryMessageProcessor=(AbstractDbMessageProcessor)messageProcessors.get(0);
  final MuleEvent muleEvent=getTestEvent(TEST_MESSAGE);
  final List<FieldDebugInfo<?>> debugInfo=queryMessageProcessor.getDebugInfo(muleEvent);
  assertThat(debugInfo,is(not(nullValue())));
  assertThat(debugInfo.size(),equalTo(1));
  final List<Matcher<FieldDebugInfo<?>>> queryMatchers=new ArrayList<>();
  queryMatchers.add(createQueryFieldDebugInfoMatcher(QUERY1,QUERY_TEMPLATE1));
  queryMatchers.add(createQueryFieldDebugInfoMatcher(QUERY2,QUERY_TEMPLATE2));
  assertThat(debugInfo,hasItem(objectLike(QUERIES_DEBUG_FIELD,List.class,queryMatchers)));
}
