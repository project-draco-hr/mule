{
  if (!config.isIgnored()) {
    if (config.isReference()) {
      if (value instanceof String) {
        if (((String)value).trim().indexOf(" ") > -1) {
          config.setCollection();
        }
        for (StringTokenizer ref=new StringTokenizer((String)value); ref.hasMoreTokens(); ) {
          addPropertyWithoutReference(properties,config,name,new RuntimeBeanReference(ref.nextToken()));
        }
      }
 else {
        throw new IllegalArgumentException("Bean reference must be a String: " + name + "/"+ value);
      }
    }
 else {
      addPropertyWithoutReference(properties,config,name,value);
    }
  }
}
