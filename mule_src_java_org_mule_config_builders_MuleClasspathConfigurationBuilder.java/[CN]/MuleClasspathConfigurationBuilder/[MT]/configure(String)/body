{
  if (configResources != null && !"".equals(configResources)) {
    if (configResources.indexOf(",") > -1) {
      throw new ConfigurationException(new Message(Messages.ONLY_SINGLE_RESOURCE_CAN_BE_SPECIFIED));
    }
  }
 else {
    configResources=MULE_CONFIGURATION_RESOURCE;
  }
  URL url=null;
  try {
    Enumeration e=Thread.currentThread().getContextClassLoader().getResources(configResources);
    while (e.hasMoreElements()) {
      url=(URL)e.nextElement();
      logger.info("Loading resource: " + url.toExternalForm());
      digester.parse(url.openStream());
    }
  }
 catch (  Exception e) {
    throw new ConfigurationException(new Message(Messages.FAILED_LOAD_X,"Config: " + url.toString()),e);
  }
  return manager;
}
