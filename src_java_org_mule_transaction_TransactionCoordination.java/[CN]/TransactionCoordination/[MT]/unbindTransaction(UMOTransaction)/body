{
  UMOTransaction oldTx=(UMOTransaction)transactions.get();
  if (oldTx != transaction) {
    throw new IllegalTransactionStateException("Trying to unbind an unbounded transaction");
  }
  transactions.set(null);
  decrementCounter();
}
