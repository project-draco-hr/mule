{
  String uri="smtp://smtpout.secureserver.net:%1d?address=test@lotsofmail.org";
  MuleEndpointURI endpointUri=buildEndpointUri(uri,PORT);
  assertEquals("smtp",endpointUri.getScheme());
  assertEquals("test@lotsofmail.org",endpointUri.getAddress());
  assertNull(endpointUri.getEndpointName());
  assertEquals(PORT,endpointUri.getPort());
  assertEquals("smtpout.secureserver.net",endpointUri.getHost());
  assertNull(endpointUri.getUserInfo());
  assertEquals("smtp://smtpout.secureserver.net:" + PORT + "?address=test@lotsofmail.org",endpointUri.toString());
  assertEquals(1,endpointUri.getParams().size());
}
