{
  Object ret=src;
  Throwable t;
  if (src instanceof ExceptionMessage) {
    t=((ExceptionMessage)src).getException();
    if (t instanceof ServiceException) {
      t=t.getCause();
    }
    ErrorResponse er=new ErrorResponse();
    er.setDescription(t.getMessage());
    Throwable cause=t.getCause();
    if (cause != null) {
      er.setRootCause(cause.getMessage());
    }
    ret=er;
  }
  return ret;
}
