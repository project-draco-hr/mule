{
  Map properties=new HashMap();
  properties.putAll(uriQueries);
  if (null != queryMap) {
    properties.putAll(queryMap);
  }
  if (properties.size() > 0) {
    boolean first=true;
    Iterator keys=new TreeSet(properties.keySet()).iterator();
    while (keys.hasNext()) {
      if (first) {
        buffer.append(QUERY);
        first=false;
      }
 else {
        buffer.append(AND);
      }
      String key=(String)keys.next();
      buffer.append(key);
      buffer.append(EQUALS);
      buffer.append((String)properties.get(key));
    }
  }
}
