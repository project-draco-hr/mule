{
  when(mockContext.supportsAsynchronousProcessing()).thenReturn(false);
  doThrow(mockMessagingException).when(mockTemplate).routeEvent(any(MuleEvent.class));
  phase.runPhase(mockTemplate,mockContext,mockNotifier);
  verify(mockContext.getFlowConstruct().getExceptionListener()).handleException(any(Exception.class),any(MuleEvent.class));
  verifyOnlySuccessfulWasCalled();
}
