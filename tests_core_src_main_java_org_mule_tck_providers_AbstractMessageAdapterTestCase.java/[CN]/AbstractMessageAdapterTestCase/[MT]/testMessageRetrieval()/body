{
  Object message=getValidMessage();
  UMOMessageAdapter adapter=createAdapter(message);
  doTestMessageEqualsPayload(message,adapter.getPayload());
  byte[] bytes=adapter.getPayloadAsBytes();
  assertNotNull(bytes);
  String stringMessage=adapter.getPayloadAsString();
  assertNotNull(stringMessage);
  assertNotNull(adapter.getPayload());
  try {
    adapter=createAdapter(getInvalidMessage());
    fail("Message adapter should throw MessageTypeNotSupportedException if an invalid message is set");
  }
 catch (  MessageTypeNotSupportedException e) {
  }
}
