{
  try {
    if (managementContext != null && !(managementContext.isDisposed() || managementContext.isDisposing())) {
      if (RegistryContext.getRegistry() != null) {
        FileUtils.deleteTree(FileUtils.newFile(RegistryContext.getConfiguration().getWorkingDirectory()));
      }
      managementContext.dispose();
    }
    FileUtils.deleteTree(FileUtils.newFile("./ActiveMQ"));
  }
  finally {
    managementContext=null;
  }
}
