{
synchronized (registry) {
    final Map<String,T> results=new HashMap<String,T>();
    for (    Map.Entry<String,Object> entry : registry.entrySet()) {
      final Class clazz=entry.getValue().getClass();
      if (type.isAssignableFrom(clazz)) {
        results.put(entry.getKey(),(T)entry.getValue());
      }
    }
    return results;
  }
}
