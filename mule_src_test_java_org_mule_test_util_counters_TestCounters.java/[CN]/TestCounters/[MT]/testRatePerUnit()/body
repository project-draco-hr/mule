{
  Counter ct=CounterFactory.createCounter("testRatePerUnit",Type.NUMBER);
  Counter rsec=CounterFactory.createCounter("testRatePerUnit.rate.sec","testRatePerUnit",Type.RATE_PER_SECOND);
  Counter rmin=CounterFactory.createCounter("testRatePerUnit.rate.min","testRatePerUnit",Type.RATE_PER_MINUTE);
  assertEquals("Rate",0.0,rsec.nextValue(),delta);
  for (int i=0; i < 50; i++) {
    ct.setRawValue(1);
    Thread.sleep(100);
  }
  assertEquals("Rate",10.0,rsec.nextValue(),10.0 * 0.20);
}
