{
  TestSerializableMessageProcessor processor=new TestSerializableMessageProcessor();
  processor.setValue(value);
  MessagingException e=new MessagingException(MessageFactory.createStaticMessage(message),getTestEvent(""),processor);
  e=SerializationTestUtils.testException(e,muleContext);
  assertTrue(e.getMessage().contains(message));
  assertNotNull(e.getFailingMessageProcessor());
  assertTrue(e.getFailingMessageProcessor() instanceof TestSerializableMessageProcessor);
  assertEquals(value,((TestSerializableMessageProcessor)e.getFailingMessageProcessor()).getValue());
}
