{
  GenerableResourceContributor contributor=mock(GenerableResourceContributor.class);
  when(serviceRegistry.lookupProviders(same(GenerableResourceContributor.class),any(ClassLoader.class))).thenReturn(Arrays.asList(contributor));
  ExtensionModel extensionModel=mock(ExtensionModel.class);
  generator.generateFor(extensionModel);
  verify(contributor).contribute(extensionModel,generator);
}
