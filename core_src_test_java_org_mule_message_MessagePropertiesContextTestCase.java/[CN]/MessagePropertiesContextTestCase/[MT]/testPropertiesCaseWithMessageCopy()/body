{
  MuleMessage msg=new DefaultMuleMessage("test",muleContext);
  msg.setProperty("FOO","BAR");
  assertEquals("BAR",msg.getProperty("foo"));
  msg.setProperty("DOO","DAR",PropertyScope.INVOCATION);
  assertEquals("DAR",msg.getProperty("doo"));
  assertEquals("DAR",msg.getProperty("doO",PropertyScope.INVOCATION));
  assertNull(msg.getProperty("doo",PropertyScope.INBOUND));
  assertNull(msg.getProperty("doo",PropertyScope.OUTBOUND));
  assertNull(msg.getProperty("doo",PropertyScope.SESSION));
  MuleMessage copy=new DefaultMuleMessage("test copy",msg,muleContext);
  assertEquals("BAR",copy.getProperty("foo"));
  assertEquals("DAR",copy.getProperty("doo"));
  assertEquals("DAR",copy.getProperty("doO",PropertyScope.INVOCATION));
  assertNull(copy.getProperty("doo",PropertyScope.INBOUND));
  assertNull(copy.getProperty("doo",PropertyScope.OUTBOUND));
  assertNull(copy.getProperty("doo",PropertyScope.SESSION));
}
