{
  final String payload=RandomStringUtils.randomAlphanumeric(20);
  final MuleMessage response=client.send("vm://input-2MP",payload,null);
  assertEquals("ACK",response.getPayloadAsString());
  final List<Object> receivedPayloads=ponderUntilMessageCountReceivedByTargetMessageProcessor(3);
  assertEquals(3,receivedPayloads.size());
  for (int i=0; i <= 2; i++) {
    assertEquals(payload,receivedPayloads.get(i));
  }
  ponderUntilMessageCountReceivedByCustomMP(1);
}
