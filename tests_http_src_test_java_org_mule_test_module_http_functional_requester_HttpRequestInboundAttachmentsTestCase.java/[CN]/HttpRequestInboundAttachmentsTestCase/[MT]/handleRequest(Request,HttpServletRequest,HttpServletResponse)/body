{
  MultiPartWriter multiPartWriter=new MultiPartWriter(response.getWriter());
  response.setContentType(HttpHeaders.Values.MULTIPART_FORM_DATA + "; boundary=" + multiPartWriter.getBoundary());
  response.setStatus(SC_OK);
  multiPartWriter.startPart(MediaType.TEXT.toRfcString(),new String[]{"Content-Disposition: form-data; name=\"partName1\""});
  multiPartWriter.write("Test part 1");
  multiPartWriter.endPart();
  multiPartWriter.startPart(MediaType.HTML.toRfcString(),new String[]{"Content-Disposition: form-data; name=\"partName2\""});
  multiPartWriter.write("Test part 2");
  multiPartWriter.endPart();
  multiPartWriter.close();
}
