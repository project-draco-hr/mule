{
  if (StringUtils.isBlank(configResources)) {
    configResources=MULE_CONFIGURATION_RESOURCE;
  }
  URL url=null;
  List list=new ArrayList();
  String[] resString;
  int i=0;
  try {
    resString=StringUtils.split(configResources,",");
    for (i=0; i < resString.length; i++) {
      url=Thread.currentThread().getContextClassLoader().getResource(resString[i]);
      if (url == null)       break;
      list.add(new ReaderResource(url.toExternalForm(),new InputStreamReader(url.openStream())));
    }
  }
 catch (  IOException ioe) {
    throw new ConfigurationException(new Message(Messages.FAILED_LOAD_X,"Config: " + ObjectUtils.toString(url,"null")),ioe);
  }
  if (list.size() != resString.length) {
    throw new ConfigurationException(new Message(Messages.FAILED_LOAD_X,"Not all resources specified loaded: " + resString[i]));
  }
  ReaderResource[] resources=new ReaderResource[list.size()];
  resources=(ReaderResource[])list.toArray(resources);
  configure(resources,null);
  return manager;
}
