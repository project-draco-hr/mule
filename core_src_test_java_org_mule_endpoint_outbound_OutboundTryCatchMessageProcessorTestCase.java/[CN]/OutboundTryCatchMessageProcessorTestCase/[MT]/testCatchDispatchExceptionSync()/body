{
  OutboundEndpoint endpoint=createTestOutboundEndpoint(null,null);
  InterceptingMessageProcessor mp=new OutboundTryCatchMessageProcessor(endpoint);
  mp.setListener(new ExceptionThrowingMessageProcessr());
  MuleEvent event=createTestOutboundEvent(endpoint,true);
  MuleEvent result=null;
  try {
    result=mp.process(event);
    fail("Exception expected");
  }
 catch (  Exception e) {
    assertEquals(DispatchException.class,e.getClass());
  }
  assertNull(result);
  assertNotNull(exceptionListener.sensedException);
}
