{
  final Map<String,String> extraParameters=new LinkedHashMap<String,String>();
  extraParameters.put("extra1","extra1");
  extraParameters.put("extra2","extra2");
  final String authorizationUrl="authorizationUrl";
  final String redirectUri="redirectUri";
  Mockito.when(adapter.getAuthorizationUrl()).thenReturn(authorizationUrl);
  Mockito.when(adapter.getConsumerKey()).thenReturn("consumerKey");
  Assert.assertEquals(this.manager.buildAuthorizeUrl(extraParameters,null,redirectUri),"authorizationUrl?response_type=code&client_id=consumerKey&redirect_uri=redirectUri&extra1=extra1&extra2=extra2");
  Assert.assertEquals(this.manager.buildAuthorizeUrl(extraParameters,"custom",redirectUri),"custom?response_type=code&client_id=consumerKey&redirect_uri=redirectUri&extra1=extra1&extra2=extra2");
}
