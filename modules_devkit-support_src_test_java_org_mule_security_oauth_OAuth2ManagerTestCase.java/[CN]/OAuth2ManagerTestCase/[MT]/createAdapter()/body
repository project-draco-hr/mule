{
  final String verifier="verifier";
  when(adapter.getAuthorizationUrl()).thenReturn("authorizationUrl");
  when(adapter.getAccessTokenUrl()).thenReturn("accessTokenUrl");
  when(adapter.getConsumerKey()).thenReturn("consumerKey");
  when(adapter.getConsumerSecret()).thenReturn("consumerSecret");
  OAuth2Adapter adapter=manager.createAdapter(verifier);
  assertSame(adapter,adapter);
  verify(adapter).setOauthVerifier(eq(verifier));
  verify(adapter).setAuthorizationUrl(eq(adapter.getAuthorizationUrl()));
  verify(adapter).setAccessTokenUrl(eq(adapter.getAccessTokenUrl()));
  verify(adapter).setConsumerKey(eq(adapter.getConsumerKey()));
  verify(adapter).setConsumerSecret(eq(adapter.getConsumerSecret()));
  verify(manager).setCustomProperties(adapter);
  verify((MuleContextAware)adapter,Mockito.atLeastOnce()).setMuleContext(muleContext);
}
