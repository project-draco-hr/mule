{
  EJBObject remoteObj;
  UMOEndpointURI endpointUri=endpoint.getEndpointURI();
  int port=endpointUri.getPort();
  if (port < 1) {
    port=RmiConnector.DEFAULT_RMI_REGISTRY_PORT;
  }
  InetAddress inetAddress=InetAddress.getByName(endpointUri.getHost());
  String serviceName=endpointUri.getPath();
  try {
    Object ref=connector.getJndiContext(inetAddress.getHostAddress() + ":" + port).lookup(serviceName);
    Method method=ClassUtils.getMethod("create",null,ref.getClass());
    remoteObj=(EJBObject)method.invoke(ref,ClassUtils.NO_ARGS);
  }
 catch (  Exception e) {
    throw new RemoteException("Remote EJBObject lookup failed for '" + inetAddress.getHostAddress() + ":"+ port+ serviceName+ "'",e);
  }
  return (remoteObj);
}
