{
  return DefaultMessageProcessorChain.from(enricher,new MessageProcessor(){
    @Override public MuleEvent process(    MuleEvent event) throws MuleException {
      ((ThreadSafeAccess)event).assertAccess(true);
      assertThat(event.getMessage(),is(sameInstance(in.getMessage())));
      return event;
    }
  }
).process(in);
}
