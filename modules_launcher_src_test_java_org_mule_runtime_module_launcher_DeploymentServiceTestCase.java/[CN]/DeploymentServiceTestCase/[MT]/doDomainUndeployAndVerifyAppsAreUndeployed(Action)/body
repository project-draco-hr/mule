{
  startDeployment();
  addPackedDomainFromBuilder(dummyDomainFileBuilder);
  assertDeploymentSuccess(domainDeploymentListener,dummyDomainFileBuilder.getId());
  addPackedAppFromBuilder(dummyDomainApp1FileBuilder);
  assertApplicationDeploymentSuccess(applicationDeploymentListener,dummyDomainApp1FileBuilder.getId());
  addPackedAppFromBuilder(dummyDomainApp2FileBuilder);
  assertApplicationDeploymentSuccess(applicationDeploymentListener,dummyDomainApp2FileBuilder.getId());
  undeployAction.perform();
  assertDeploymentSuccess(applicationDeploymentListener,dummyDomainApp1FileBuilder.getId());
  assertDeploymentSuccess(applicationDeploymentListener,dummyDomainApp2FileBuilder.getId());
  assertUndeploymentSuccess(domainDeploymentListener,dummyDomainFileBuilder.getId());
}
