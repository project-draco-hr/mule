{
  final Object o=message.getProperty(MuleProperties.MULE_REMOTE_SYNC_PROPERTY,PropertyScope.INBOUND);
  if (ObjectUtils.getBoolean(o,false)) {
    synchronous=true;
  }
  MuleEvent muleEvent=createMuleEvent(message,synchronous,outputStream);
  muleEvent=OptimizedRequestContext.unsafeSetEvent(muleEvent);
  MuleEvent resultEvent=null;
  try {
    resultEvent=listener.process(muleEvent);
  }
 catch (  FilterException e) {
    return handleUnacceptedFilter(muleEvent.getMessage());
  }
  return resultEvent != null ? resultEvent.getMessage() : null;
}
