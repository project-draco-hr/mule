{
  Map<MessageProcessor,String> result=new LinkedHashMap<MessageProcessor,String>();
  int index=0;
  for (  MessageProcessor mp : processors) {
    String prefix="/" + index;
    result.put(mp,prefix);
    if (mp instanceof MessageProcessorContainer) {
      Map<MessageProcessor,String> children=((MessageProcessorContainer)mp).getMessageProcessorPaths();
      prefixMessageProcessorPaths(prefix,children);
      result.putAll(children);
    }
    index++;
  }
  return result;
}
