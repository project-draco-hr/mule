{
  if (RegistryContext.getRegistry() != null) {
    try {
      Map props=((Map)RegistryContext.getRegistry().lookupObject(MuleProperties.OBJECT_MULE_APPLICATION_PROPERTIES));
      if (props == null) {
        props=new HashMap();
        props.put(name,value);
        RegistryContext.getRegistry().registerObject(MuleProperties.OBJECT_MULE_APPLICATION_PROPERTIES,props);
      }
 else {
        props.put(name,value);
      }
    }
 catch (    RegistrationException e) {
      logger.error(e);
    }
  }
}
