{
  MuleEvent event=createEvent();
  RuntimeException rte=new RuntimeException();
  when(mockError.getException()).thenReturn(rte);
  event=MuleEvent.builder(event).message(MuleMessage.builder(event.getMessage()).build()).build();
  Object exception=evaluate("exception",event);
  assertThat(exception,is(instanceOf(MessagingException.class)));
  assertThat(((MessagingException)exception).getCause(),is(rte));
}
