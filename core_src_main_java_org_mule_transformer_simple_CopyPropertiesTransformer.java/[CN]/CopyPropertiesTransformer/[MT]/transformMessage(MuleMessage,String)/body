{
  if (wildcardPropertyNameEvaluator.hasWildcards()) {
    wildcardPropertyNameEvaluator.processValues(message.getInboundPropertyNames(),new WildcardAttributeEvaluator.MatchCallback(){
      @Override public void processMatch(      String matchedValue){
        message.setOutboundProperty(matchedValue,message.getInboundProperty(matchedValue));
      }
    }
);
  }
 else {
    Object keyValue=propertyNameEvaluator.resolveValue(message);
    if (keyValue != null) {
      String propertyName=keyValue.toString();
      Object propertyValue=message.getInboundProperty(propertyName);
      if (propertyValue != null) {
        message.setOutboundProperty(propertyName,propertyValue);
      }
 else {
        logger.info("Property value for is null, no property will be copied");
      }
    }
 else {
      logger.info("Key expression return null, no property will be copied");
    }
  }
  return message;
}
