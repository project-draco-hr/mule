{
  MuleEvent e=getTestEvent("testing");
  e.getSession().setProperty("Prop","session");
  MuleMessage message=e.getMessage();
  message.setProperty("Prop","invocation",PropertyScope.INVOCATION);
  message.setProperty("Prop","outbound",PropertyScope.OUTBOUND);
  assertEquals("outbound",message.getProperty("Prop",PropertyScope.OUTBOUND));
  message.removeProperty("Prop",PropertyScope.OUTBOUND);
  assertEquals("invocation",message.getProperty("Prop",PropertyScope.INVOCATION));
  message.removeProperty("Prop",PropertyScope.INVOCATION);
  assertEquals("session",message.getProperty("Prop",PropertyScope.SESSION));
  assertNull(message.getProperty("Prop",PropertyScope.INBOUND));
  assertNull(message.getProperty("Prop",PropertyScope.INVOCATION));
  assertNull(message.getProperty("Prop",PropertyScope.OUTBOUND));
}
