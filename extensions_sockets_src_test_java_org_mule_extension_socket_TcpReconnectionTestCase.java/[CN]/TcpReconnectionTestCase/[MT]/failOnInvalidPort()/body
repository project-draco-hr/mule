{
  int invalidPort=-1;
  connectionSettings=new ConnectionSettings(invalidPort,host);
  listenerConnection=new TcpListenerConnection(connectionSettings,new SafeProtocol(),serverSocketProperties,new TcpServerSocketFactory());
  expectedException.expect(IllegalArgumentException.class);
  expectedException.expectMessage(format("port out of range:%d",invalidPort));
  listenerConnection.connect();
}
