{
  List<ClassLoader> pluginClassLoaders=serverPluginClassLoaderManager.getPluginClassLoaders();
  ArtifactClassLoader appClassLoader=applicationClassLoaderFactory.create(descriptor);
  if (!pluginClassLoaders.isEmpty()) {
    List<ClassLoader> classLoaders=new LinkedList<>();
    classLoaders.add(appClassLoader.getClassLoader());
    classLoaders.addAll(pluginClassLoaders);
    appClassLoader=new CompositeApplicationClassLoader(descriptor.getName(),appClassLoader.getClassLoader().getParent(),classLoaders,appClassLoader.getClassLoaderLookupPolicy());
  }
  return appClassLoader;
}
