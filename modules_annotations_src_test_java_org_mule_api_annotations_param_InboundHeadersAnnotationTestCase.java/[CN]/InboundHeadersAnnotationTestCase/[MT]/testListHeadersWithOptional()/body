{
  eventContext.getMessage().removeProperty("baz",PropertyScope.INBOUND);
  InvocationResult response=doTest("processHeadersListOptional",eventContext,InvocationResult.State.SUCCESSFUL);
  assertTrue("Message payload should be a List",response.getResult() instanceof List);
  List<?> result=(List<?>)response.getResult();
  assertEquals(2,result.size());
  assertTrue(result.contains("fooValue"));
  assertTrue(result.contains("barValue"));
}
