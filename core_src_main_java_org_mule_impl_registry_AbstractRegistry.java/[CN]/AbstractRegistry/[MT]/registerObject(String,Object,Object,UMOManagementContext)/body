{
  if (value instanceof ManagementContextAware) {
    if (managementContext == null) {
      throw new RegistrationException("Attempting to register a ManagementContextAware object without providing a ManagementContext.");
    }
    ((ManagementContextAware)value).setManagementContext(managementContext);
  }
  doRegisterObject(key,value,metadata,managementContext);
}
