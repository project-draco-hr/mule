{
  DataType resultDataType=DataTypeFactory.create(String.class,"application/json");
  DataType sourceDataType=DataTypeFactory.create(League.class);
  muleContext.getRegistry().registerObject("customTransformer",new TransformerProvider());
  Transformer transformer=muleContext.getRegistry().lookupTransformer(sourceDataType,resultDataType);
  assertThat(transformer,org.hamcrest.core.IsInstanceOf.instanceOf(AnnotatedTransformerProxy.class));
  MuleMessage message=new DefaultMuleMessage(new League(),muleContext);
  assertThat(getPayload(message,String.class),is(TransformerProvider.RESULT));
}
