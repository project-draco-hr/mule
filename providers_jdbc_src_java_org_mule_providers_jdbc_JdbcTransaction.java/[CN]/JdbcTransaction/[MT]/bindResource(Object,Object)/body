{
  if (!(key instanceof DataSource) || !(resource instanceof Connection)) {
    throw new IllegalTransactionStateException(new Message(Messages.TX_CAN_ONLY_BIND_TO_X_TYPE_RESOURCES,"javax.sql.DataSource/java.sql.Connection"));
  }
  Connection con=(Connection)resource;
  try {
    if (con.getAutoCommit()) {
      con.setAutoCommit(false);
    }
  }
 catch (  SQLException e) {
    throw new TransactionException(new Message(Messages.TX_SET_AUTO_COMMIT_FAILED),e);
  }
  super.bindResource(key,resource);
}
