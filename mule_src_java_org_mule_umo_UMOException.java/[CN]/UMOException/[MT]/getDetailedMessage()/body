{
  UMOException e=ExceptionHelper.getRootMuleException(this);
  if (!e.equals(this)) {
    return getMessage();
  }
  StringBuffer buf=new StringBuffer();
  buf.append((char)Character.LINE_SEPARATOR).append(StringMessageHelper.charString('*',80)).append((char)Character.LINE_SEPARATOR);
  buf.append("Message          : ").append(message).append((char)Character.LINE_SEPARATOR);
  buf.append("Type             : ").append(getClass().getName()).append((char)Character.LINE_SEPARATOR);
  buf.append("Code             : ").append(getExceptionCode() + getMessageCode()).append((char)Character.LINE_SEPARATOR);
  for (Iterator iterator=info.keySet().iterator(); iterator.hasNext(); ) {
    String s=(String)iterator.next();
    int pad=17 - s.length();
    buf.append(s);
    if (pad > 0) {
      buf.append(StringMessageHelper.charString(' ',pad));
    }
    buf.append(": ");
    buf.append(info.get(s)).append((char)Character.LINE_SEPARATOR);
  }
  buf.append(StringMessageHelper.charString('*',80)).append((char)Character.LINE_SEPARATOR);
  buf.append(new Message(Messages.EXCEPTION_STACK_IS)).append((char)Character.LINE_SEPARATOR);
  buf.append(ExceptionHelper.getExceptionStack(this));
  buf.append(StringMessageHelper.charString('*',80)).append((char)Character.LINE_SEPARATOR);
  buf.append(new Message(Messages.ROOT_STACK_TRACE)).append((char)Character.LINE_SEPARATOR);
  Throwable root=ExceptionHelper.getRootException(this);
  StringWriter w=new StringWriter();
  PrintWriter p=new PrintWriter(w);
  root.printStackTrace(p);
  buf.append(w.toString()).append((char)Character.LINE_SEPARATOR);
  buf.append(StringMessageHelper.charString('*',80)).append((char)Character.LINE_SEPARATOR);
  return buf.toString();
}
