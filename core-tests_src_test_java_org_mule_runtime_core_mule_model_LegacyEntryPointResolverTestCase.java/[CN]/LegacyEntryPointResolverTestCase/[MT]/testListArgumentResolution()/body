{
  EntryPointResolverSet resolverSet=new LegacyEntryPointResolverSet();
  Object payload=Arrays.asList(new Fruit[]{new Apple(),new Banana()});
  MuleEvent event=getTestEvent(payload);
  setCurrentEvent(event);
  FruitBowl bowl=new FruitBowl();
  assertFalse(bowl.hasApple());
  assertFalse(bowl.hasBanana());
  resolverSet.invoke(bowl,new DefaultMuleEventContext(getTestFlow(),event));
  assertTrue(bowl.hasApple());
  assertTrue(bowl.hasBanana());
}
