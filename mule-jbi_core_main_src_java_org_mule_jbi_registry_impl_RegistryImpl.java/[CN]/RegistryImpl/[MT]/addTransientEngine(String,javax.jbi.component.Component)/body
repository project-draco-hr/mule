{
  Component c=getComponent(name);
  if (c == null) {
    EngineImpl e=new EngineImpl();
    e.setName(name);
    e.setTransientComponent(true);
    e.setComponent(engine);
    this.engines.add(e);
    this.componentsMap.put(name,e);
    return e;
  }
 else {
    if (!(c instanceof EngineImpl) || !c.isTransientComponent()) {
      throw new JBIException("A non-transient or non-engine component is already registered: " + name);
    }
    EngineImpl e=(EngineImpl)c;
    e.setComponent(engine);
    return e;
  }
}
