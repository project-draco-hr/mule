{
  if (socket != null && !socket.isClosed()) {
    try {
      socket.close();
    }
 catch (    Exception e) {
      logger.error("Socket close failed",e);
    }
  }
  socket=null;
}
