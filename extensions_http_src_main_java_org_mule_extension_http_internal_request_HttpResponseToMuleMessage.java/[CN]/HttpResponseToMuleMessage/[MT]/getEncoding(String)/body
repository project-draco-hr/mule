{
  String encoding=Charset.defaultCharset().name();
  if (responseContentType != null) {
    try {
      MediaType mediaType=MediaType.parse(responseContentType);
      if (mediaType.charset().isPresent()) {
        encoding=mediaType.charset().get().name();
      }
    }
 catch (    IllegalArgumentException e) {
      if (Boolean.parseBoolean(System.getProperty(SYSTEM_PROPERTY_PREFIX + "strictContentType"))) {
        throw e;
      }
 else {
        logger.warn(String.format("%s when parsing Content-Type '%s': %s",e.getClass().getName(),responseContentType,e.getMessage()));
        logger.warn(String.format("Using default encoding: %s",encoding));
      }
    }
  }
  return encoding;
}
