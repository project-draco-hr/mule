{
  DefaultMuleConfiguration.verboseExceptions=true;
  MuleEvent testEvent=mock(MuleEvent.class);
  MuleMessage muleMessage=mock(MuleMessage.class);
  when(muleMessage.getPayload()).thenReturn(new ByteArrayInputStream(new byte[]{}));
  when(testEvent.getMessage()).thenReturn(muleMessage);
  MessagingException e=new MessagingException(MessageFactory.createStaticMessage(message),testEvent);
  assertThat((String)e.getInfo().get(PAYLOAD_INFO_KEY),containsString(ByteArrayInputStream.class.getName() + "@"));
  verify(transformationService,never()).transform(muleMessage,DataTypeFactory.STRING);
}
