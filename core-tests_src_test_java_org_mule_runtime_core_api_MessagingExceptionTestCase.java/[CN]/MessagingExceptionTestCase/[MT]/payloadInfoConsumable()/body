{
  MuleException.verboseExceptions=true;
  Event testEvent=mock(Event.class);
  final ByteArrayInputStream payload=new ByteArrayInputStream(new byte[]{});
  InternalMessage muleMessage=InternalMessage.builder().payload(payload).build();
  when(testEvent.getMessage()).thenReturn(muleMessage);
  MessagingException e=new MessagingException(I18nMessageFactory.createStaticMessage(message),testEvent);
  assertThat((String)e.getInfo().get(PAYLOAD_INFO_KEY),containsString(ByteArrayInputStream.class.getName() + "@"));
  verify(transformationService,never()).transform(muleMessage,DataType.STRING);
}
