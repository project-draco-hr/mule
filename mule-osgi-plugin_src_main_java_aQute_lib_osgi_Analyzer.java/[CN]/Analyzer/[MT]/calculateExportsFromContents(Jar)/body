{
  String ddel="";
  StringBuffer sb=new StringBuffer();
  Map<String,Map<String,Resource>> map=bundle.getDirectories();
  for (Iterator<String> i=map.keySet().iterator(); i.hasNext(); ) {
    String directory=(String)i.next();
    if (directory.equals("META-INF") || directory.startsWith("META-INF/"))     continue;
    if (directory.equals("OSGI-OPT") || directory.startsWith("OSGI-OPT/"))     continue;
    if (directory.equals("/"))     continue;
    if (directory.endsWith("/"))     directory=directory.substring(0,directory.length() - 1);
    directory=directory.replace('/','.');
    sb.append(ddel);
    sb.append(directory);
    ddel=",";
  }
  return sb.toString();
}
