{
  if (parent.isDirectory()) {
    for (    File child : parent.listFiles()) {
      recursiveDeleteInLocalFilesystem(child);
    }
  }
  File parentParent=parent.getParentFile();
  if (!parentParent.canWrite()) {
    if (!parentParent.setWritable(true)) {
      throw new IOException("Failed to set readonly-folder: " + parentParent + " to writeable");
    }
  }
  if (parent.exists()) {
    if (!parent.setWritable(true)) {
      throw new IOException("Failed to set readonly-folder: " + parent + " to writeable");
    }
    if (!parent.delete()) {
      throw new IOException("Failed to delete folder: " + parent);
    }
  }
}
