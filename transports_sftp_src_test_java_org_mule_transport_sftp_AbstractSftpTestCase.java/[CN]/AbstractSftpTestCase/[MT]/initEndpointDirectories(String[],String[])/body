{
  List<Service> services=new ArrayList<Service>();
  for (  String serviceName : serviceNames) {
    try {
      Service service=muleContext.getRegistry().lookupService(serviceName);
      service.stop();
      services.add(service);
    }
 catch (    Exception e) {
      logger.error("Error '" + e.getMessage() + "' occured while stopping the service "+ serviceName+ ". Perhaps the service did not exist in the config?");
      throw e;
    }
  }
  for (  String endpointName : endpointNames) {
    initEndpointDirectory(endpointName);
  }
  for (  Service service : services) {
    service.start();
  }
}
