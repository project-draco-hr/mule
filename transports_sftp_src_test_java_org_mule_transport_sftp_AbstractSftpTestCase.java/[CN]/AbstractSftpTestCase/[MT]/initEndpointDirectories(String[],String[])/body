{
  List<Flow> services=new ArrayList<Flow>();
  for (  String serviceName : serviceNames) {
    try {
      Flow service=(Flow)muleContext.getRegistry().lookupFlowConstruct(serviceName);
      service.stop();
      services.add(service);
    }
 catch (    Exception e) {
      logger.error("Error '" + e.getMessage() + "' occured while stopping the service "+ serviceName+ ". Perhaps the service did not exist in the config?");
      throw e;
    }
  }
  for (  String endpointName : endpointNames) {
    initEndpointDirectory(endpointName);
  }
  for (  Flow flow : services) {
    flow.start();
  }
}
