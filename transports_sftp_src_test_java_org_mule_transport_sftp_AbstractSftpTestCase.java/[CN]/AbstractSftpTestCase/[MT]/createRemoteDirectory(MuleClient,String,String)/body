{
  SftpClient sftpClient=getSftpClient(muleClient,endpointName);
  try {
    EndpointURI endpointURI=getUriByEndpointName(muleClient,endpointName);
    sftpClient.changeWorkingDirectory(sftpClient.getAbsolutePath(endpointURI.getPath()));
    try {
      sftpClient.mkdir(directoryName);
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
    try {
      sftpClient.changeWorkingDirectory(endpointURI.getPath() + "/" + directoryName);
    }
 catch (    IOException e) {
      fail("The directory should have been created");
    }
  }
  finally {
    sftpClient.disconnect();
  }
}
