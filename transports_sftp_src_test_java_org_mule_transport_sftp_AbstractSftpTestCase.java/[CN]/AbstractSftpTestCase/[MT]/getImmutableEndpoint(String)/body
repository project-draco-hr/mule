{
  ImmutableEndpoint endpoint=null;
  Object o=muleContext.getRegistry().lookupObject(endpointName);
  if (o instanceof ImmutableEndpoint) {
    endpoint=(ImmutableEndpoint)o;
  }
 else   if (o instanceof EndpointBuilder) {
    EndpointBuilder eb=(EndpointBuilder)o;
    try {
      endpoint=eb.buildInboundEndpoint();
    }
 catch (    Exception e) {
      throw new IOException(e.getMessage());
    }
  }
  return endpoint;
}
