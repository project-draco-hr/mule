{
  EndpointURI endpointURI=getUriByEndpointName(endpointName);
  String path=endpointURI.getPath() + relativePath;
  try {
    client.chmod(path,00700);
    client.changeWorkingDirectory(client.getAbsolutePath(path));
    String[] directories=client.listDirectories();
    for (    String directory : directories) {
      recursiveDelete(client,endpointName,relativePath + "/" + directory);
    }
    client.changeWorkingDirectory(client.getAbsolutePath(path));
    String[] files=client.listFiles();
    for (    String file : files) {
      client.deleteFile(file);
    }
    try {
      client.deleteDirectory(path);
    }
 catch (    Exception e) {
      if (logger.isDebugEnabled())       logger.debug("Failed delete directory " + path,e);
    }
  }
 catch (  Exception e) {
    if (logger.isDebugEnabled())     logger.debug("Failed to recursivly delete directory " + path,e);
  }
}
