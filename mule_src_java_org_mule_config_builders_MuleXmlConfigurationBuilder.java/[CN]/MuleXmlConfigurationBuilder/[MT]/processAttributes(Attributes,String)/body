{
  AttributesImpl attribs=new AttributesImpl(attributes);
  String value=null;
  String realValue=null;
  String key=null;
  if (elementName.equals("property")) {
    System.out.println("");
  }
  UMOManager manager=MuleManager.getInstance();
  for (int i=0; i < attribs.getLength(); i++) {
    value=attribs.getValue(i);
    int x=value.indexOf("${");
    while (x > -1) {
      int y=value.indexOf("}",x + 1);
      if (y == -1) {
        throw new ConfigurationException(new Message(Messages.PROPERTY_TEMPLATE_MALFORMED_X,"<" + elementName + attribs.getLocalName(i)+ "='"+ value+ "' ...>"));
      }
      key=value.substring(x + 2,y);
      realValue=(String)manager.getProperty(key);
      if (logger.isDebugEnabled()) {
        logger.debug("Param is '" + value + "', Property key is '"+ key+ "', Property value is '"+ realValue+ "'");
      }
      if (realValue != null) {
        value=value.substring(0,x) + realValue + value.substring(y + 1);
      }
 else {
        logger.info("Property for placeholder: '" + key + "' was not found.  Leaving place holder as is");
      }
      x=value.indexOf("${");
    }
    attribs.setValue(i,value);
  }
  return attribs;
}
