{
  InputStream is=ClassHelper.getResourceAsStream(configResource,getClass());
  if (is == null) {
    File file=new File(configResource);
    if (file.exists()) {
      try {
        is=new FileInputStream(file);
      }
 catch (      FileNotFoundException e) {
        throw new ConfigurationException("Failed to find resource on the local file system: " + configResource,e);
      }
    }
 else {
      try {
        URL url=new URL(configResource);
        is=url.openStream();
      }
 catch (      Exception e) {
        throw new ConfigurationException("Failed to find resource on the classpath, as a Url or on the local file system: " + configResource);
      }
    }
  }
  return is;
}
