{
  path+="/security-manager";
  addObjectCreateOrGetFromContainer(path,DEFAULT_SECURITY_MANAGER,"className","ref",false);
  digester.addObjectCreate(path + "/security-provider",SECURITY_PROVIDER_INTERFACE,"className");
  addSetPropertiesRule(path + "/security-provider",digester);
  addMulePropertiesRule(path + "/security-provider",digester,true);
  digester.addSetNext(path + "/security-provider","addProvider");
  digester.addObjectCreate(path + "/encryption-strategy",ENCRYPTION_STRATEGY_INTERFACE,"className");
  addSetPropertiesRule(path + "/encryption-strategy",digester);
  addMulePropertiesRule(path + "/encryption-strategy",digester,true);
  digester.addRule(path + "/encryption-strategy",new Rule(){
    private String name;
    public void begin(    String endpointName,    String endpointName1,    Attributes attributes) throws Exception {
      name=attributes.getValue("name");
    }
    public void end(    String endpointName,    String endpointName1) throws Exception {
      UMOEncryptionStrategy s=(UMOEncryptionStrategy)digester.peek();
      ((UMOSecurityManager)digester.peek(1)).addEncryptionStrategy(name,s);
    }
  }
);
  digester.addSetNext(path,"setSecurityManager");
}
