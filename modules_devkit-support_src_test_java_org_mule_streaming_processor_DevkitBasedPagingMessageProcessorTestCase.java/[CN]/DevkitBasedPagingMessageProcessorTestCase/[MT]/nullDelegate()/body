{
  TestPagingProcessor processor=Mockito.spy(this.newProcessor());
  Mockito.doReturn(null).when(processor).getPagingDelegate(Mockito.any(MuleEvent.class),Mockito.any(PagingConfiguration.class));
  MuleEvent event=Mockito.mock(MuleEvent.class,Mockito.RETURNS_DEEP_STUBS);
  @SuppressWarnings("rawtypes") ArgumentCaptor<Iterator> captor=ArgumentCaptor.forClass(Iterator.class);
  processor.process(event);
  Mockito.verify(event.getMessage()).setPayload(captor.capture());
  Iterator<?> it=(Iterator<?>)captor.getValue();
  Assert.assertFalse(it.hasNext());
}
