{
  processOutboundRouterStatistics();
  response=afterRouting(exception,response);
  if (response != null && !VoidMuleEvent.getInstance().equals(response)) {
    if (!(request.isAllowNonBlocking() && request.getReplyToHandler() instanceof NonBlockingReplyToHandler)) {
      processReplyTo(response,exception);
    }
    closeStream(response.getMessage());
    nullifyExceptionPayloadIfRequired(response);
  }
  return response;
}
