{
  checkParameterGroupExclusivenessForModel(sourceModel,getParameters().keySet());
  ResolverSet nonCallbackParameters=getNonCallbackParameters();
  if (nonCallbackParameters.isDynamic()) {
    throw dynamicParameterException(nonCallbackParameters,sourceModel);
  }
  ResolverSet responseCallbackParameters=getCallbackParameters(ON_SUCCESS);
  ResolverSet errorCallbackParameters=getCallbackParameters(ON_ERROR);
  ExtensionMessageSource messageSource=new ExtensionMessageSource(extensionModel,sourceModel,getSourceFactory(nonCallbackParameters,responseCallbackParameters,errorCallbackParameters),configurationProvider,getThreadingProfile(),getRetryPolicyTemplate(),(ExtensionManagerAdapter)muleContext.getExtensionManager());
  try {
    muleContext.getInjector().inject(messageSource);
  }
 catch (  MuleException e) {
    throw new ConfigurationException(createStaticMessage("Could not inject dependencies into source"),e);
  }
  return messageSource;
}
