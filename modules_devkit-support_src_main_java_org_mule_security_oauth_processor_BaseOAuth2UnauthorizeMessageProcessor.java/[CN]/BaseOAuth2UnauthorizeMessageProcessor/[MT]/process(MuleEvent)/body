{
  OAuth2Manager<OAuth2Adapter> manager=this.getOAuthManager();
  try {
    String transformedToken=((String)evaluateAndTransform(getMuleContext(),event,String.class,null,getAccessTokenId()));
    if (logger.isDebugEnabled()) {
      logger.debug("Attempting to acquire access token using from store for user " + transformedToken);
    }
    OAuth2Adapter connector=manager.acquireAccessToken(transformedToken);
    if (connector == null) {
      throw new UnableToAcquireConnectionException();
    }
 else {
      if (logger.isDebugEnabled()) {
        logger.debug(String.format("Access Token has been acquired for [tokenId= %s]",transformedToken));
      }
      manager.destroyAccessToken(transformedToken,connector);
      if (logger.isDebugEnabled()) {
        logger.debug(String.format("Access token for [tokenId= %s] has been successfully destroyed",transformedToken));
      }
    }
  }
 catch (  Exception e) {
    throw new DefaultMuleException(CoreMessages.createStaticMessage("Unable to unauthorize the connector"),e);
  }
  return event;
}
