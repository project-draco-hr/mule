{
  when(dbConnectionFactory.createConnection(TransactionalAction.NOT_SUPPORTED)).thenReturn(connection);
  when(dbConfigResolver.resolve(event)).thenReturn(dbConfig);
  when(dbConfig.getConnectionFactory()).thenReturn(dbConnectionFactory);
  when(queryResolver.resolve(connection,event)).thenReturn(createQueryWithNamedParameters());
  AbstractSingleQueryDbMessageProcessor processor=createMessageProcessor();
  final List<FieldDebugInfo> debugInfo=processor.getDebugInfo(event);
  assertQueryDebugInfo(debugInfo,NAME_PARAM,POSITION_PARAM);
}
