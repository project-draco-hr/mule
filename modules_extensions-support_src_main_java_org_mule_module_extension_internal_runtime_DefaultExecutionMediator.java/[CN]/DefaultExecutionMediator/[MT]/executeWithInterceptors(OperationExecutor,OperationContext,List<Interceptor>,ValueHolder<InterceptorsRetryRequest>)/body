{
  Object result=null;
  Throwable exception=null;
  InterceptorsExecutionResult beforeExecutionResult=before(context,interceptors);
  try {
    if (beforeExecutionResult.isOk()) {
      result=executor.execute(context);
      onSuccess(context,result,interceptors);
    }
 else {
      interceptors=beforeExecutionResult.getExecutedInterceptors();
      throw beforeExecutionResult.getThrowable();
    }
  }
 catch (  Throwable e) {
    exception=exceptionEnricherManager.processException(e);
    exception=onError(context,retryRequestHolder,exception,interceptors);
  }
 finally {
    after(context,result,interceptors);
  }
  return new OperationExecutionResult(result,exception,Optional.ofNullable(retryRequestHolder.get()));
}
