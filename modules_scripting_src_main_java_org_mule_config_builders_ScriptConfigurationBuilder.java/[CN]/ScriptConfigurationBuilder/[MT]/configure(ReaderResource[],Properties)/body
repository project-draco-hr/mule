{
  try {
    if (startupProperties != null) {
      Registry registry=managementContext.getRegistry();
      for (Iterator iterator=startupProperties.entrySet().iterator(); iterator.hasNext(); ) {
        Map.Entry e=(Map.Entry)iterator.next();
        registry.registerObject(e.getKey().toString(),e.getValue(),managementContext);
      }
    }
    for (int i=0; i < configResources.length; i++) {
      ReaderResource configResource=configResources[i];
      scriptComponent.setScriptFile(configResource.getDescription());
      scriptComponent.initialise();
      Bindings ns=scriptComponent.getScriptEngine().createBindings();
      populateBindings(ns);
      scriptComponent.runScript(ns);
    }
    if (!managementContext.isInitialised() && !managementContext.isInitialising()) {
      managementContext.initialise();
    }
    if (System.getProperty(MuleProperties.MULE_START_AFTER_CONFIG_SYSTEM_PROPERTY,"true").equalsIgnoreCase("true") && isStartContext()) {
      if (!managementContext.isStarted()) {
        managementContext.start();
      }
    }
  }
 catch (  Exception e) {
    throw new ConfigurationException(e);
  }
  return managementContext;
}
