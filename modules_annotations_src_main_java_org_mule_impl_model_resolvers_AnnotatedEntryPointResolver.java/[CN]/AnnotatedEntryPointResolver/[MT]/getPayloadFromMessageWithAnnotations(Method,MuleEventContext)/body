{
  ExpressionTransformer trans=(ExpressionTransformer)transformerCache.get(method);
  if (trans == null) {
    trans=AnnotationUtils.getTransformerForMethodWithAnnotations(method,muleContext);
    transformerCache.put(method,trans);
  }
  Object o=trans.transform(context.getMessage());
  if (o instanceof NullPayload) {
    return new Object[]{null};
  }
 else   if (o.getClass().isArray()) {
    return (Object[])o;
  }
 else {
    return new Object[]{o};
  }
}
