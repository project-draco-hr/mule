{
  final WaitableBoolean blocker=new WaitableBoolean(true);
  final WaitableBoolean actionPerformed=new WaitableBoolean(false);
  Runnable action=new Runnable(){
    public void run(){
      actionPerformed.set(true);
    }
  }
;
  blocker.whenTrue(action);
  assertTrue(blocker.get());
  assertTrue(actionPerformed.get());
}
