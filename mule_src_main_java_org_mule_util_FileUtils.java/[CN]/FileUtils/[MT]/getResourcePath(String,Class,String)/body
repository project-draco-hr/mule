{
  if (resourceName == null) {
    return null;
  }
  URL url=getResource(resourceName,callingClass);
  String resource=null;
  if (url == null) {
    File f=new File(resourceName);
    if (f.exists()) {
      resource=f.getAbsolutePath();
    }
  }
 else {
    resource=URLDecoder.decode(url.toExternalForm(),encoding);
  }
  if (resource != null) {
    if (resource.startsWith("file:/")) {
      resource=resource.substring(6);
    }
    if (!resource.startsWith(File.separator)) {
      resource=File.separator + resource;
    }
  }
  return resource;
}
