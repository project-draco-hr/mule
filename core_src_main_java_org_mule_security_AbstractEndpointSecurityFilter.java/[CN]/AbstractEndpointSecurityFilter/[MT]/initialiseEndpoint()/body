{
  if (endpoint == null) {
    throw new InitialisationException(CoreMessages.objectIsNull("Endpoint"),this);
  }
  if (endpoint instanceof InboundEndpoint) {
    inbound=true;
  }
 else   if (endpoint instanceof OutboundEndpoint) {
    inbound=false;
  }
 else {
    throw new InitialisationException(CoreMessages.authEndpointMustSendOrReceive(),this);
  }
  doInitialise();
}
