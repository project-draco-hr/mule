{
  this.componentName=event.getComponent().getDescriptor().getName();
  if (idStore == null) {
    idStore=FileUtils.newFile(storePath + "/muleComponent_" + componentName+ ".store");
  }
  if (disablePersistence) {
    return;
  }
  try {
    if (idStore.exists()) {
      BufferedReader reader=null;
      try {
        reader=new BufferedReader(new FileReader(idStore));
        String id;
        while ((id=reader.readLine()) != null) {
          messageIds.add(id);
        }
      }
  finally {
        if (reader != null) {
          reader.close();
        }
      }
    }
 else {
      idStore=FileUtils.createFile(idStore.getAbsolutePath());
    }
  }
 catch (  IOException e) {
    throw new RoutingException(CoreMessages.failedToReadFromStore(idStore.getAbsolutePath()),event.getMessage(),event.getEndpoint(),e);
  }
}
