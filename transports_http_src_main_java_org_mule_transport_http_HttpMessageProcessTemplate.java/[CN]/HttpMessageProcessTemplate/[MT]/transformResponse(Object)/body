{
  MuleMessage message;
  if (response instanceof MuleMessage) {
    message=(MuleMessage)response;
  }
 else {
    message=new DefaultMuleMessage(response,getMessageReceiver().getEndpoint().getMuleContext());
  }
  getMuleContext().getTransformationService().applyTransformers(message,null,getMessageReceiver().getResponseTransportTransformers(),HttpResponse.class);
  return (HttpResponse)message.getPayload();
}
