{
  MuleMessage message;
  if (response instanceof MuleMessage) {
    message=(MuleMessage)response;
  }
 else {
    message=new DefaultMuleMessage(response,getMessageReceiver().getEndpoint().getMuleContext());
  }
  return (HttpResponse)getMuleContext().getTransformationService().applyTransformers(message,null,getMessageReceiver().getResponseTransportTransformers(),HttpResponse.class).getPayload();
}
