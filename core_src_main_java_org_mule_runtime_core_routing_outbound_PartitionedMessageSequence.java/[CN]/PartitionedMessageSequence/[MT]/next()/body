{
  if (!delegate.hasNext()) {
    throw new NoSuchElementException();
  }
  Collection<Q> batch=new ArrayList<Q>();
  int i=groupSize;
  while (i > 0 && delegate.hasNext()) {
    batch.add(delegate.next());
    i--;
  }
  return batch;
}
