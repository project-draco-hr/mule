{
  String basedir=System.getProperty("user.dir");
  if (packageName == null) {
    getLog().info("Defaulting package to group ID: " + groupId);
    packageName=groupId;
  }
  Map map=new HashMap();
  map.put("basedir",basedir);
  map.put("package",packageName);
  map.put("packageName",packageName);
  map.put("groupId",groupId);
  map.put("artifactId",artifactId);
  map.put("version",version);
  map.put("muleVersion",muleVersion);
  try {
    archetype.createArchetype(archetypeGroupId,archetypeArtifactId,archetypeVersion,localRepository,remoteRepositories,map);
  }
 catch (  ArchetypeNotFoundException e) {
    throw new MojoExecutionException("Error creating from archetype",e);
  }
catch (  ArchetypeDescriptorException e) {
    throw new MojoExecutionException("Error creating from archetype",e);
  }
catch (  ArchetypeTemplateProcessingException e) {
    throw new MojoExecutionException("Error creating from archetype",e);
  }
}
