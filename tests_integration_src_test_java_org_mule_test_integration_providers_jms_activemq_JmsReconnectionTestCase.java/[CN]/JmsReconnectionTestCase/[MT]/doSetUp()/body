{
  MuleManager.getConfiguration().setDefaultSynchronousEndpoints(true);
  SedaModel model=new SedaModel();
  model.setName("main");
  model.getPoolingProfile().setInitialisationPolicy(PoolingProfile.POOL_INITIALISE_ONE_COMPONENT);
  MuleManager.getInstance().registerModel(model);
  callbackCalled=false;
  MuleManager.getInstance().registerConnector(createConnector());
  currentMsg=null;
  eventLatch1=new Latch();
  eventLatch2=new Latch();
  QuickConfigurationBuilder builder=new QuickConfigurationBuilder();
  builder.registerComponent(FunctionalTestComponent.class.getName(),"testJmsReconnection",getReceiverEndpoint("jms://reconnect.queue"),null,null);
}
