{
  if (StringUtils.isEmpty(name)) {
    throw new IllegalArgumentException("Header name to encode must not be null or empty");
  }
  int i=0, length=name.length();
  while (i < length && Character.isJavaIdentifierPart(name.charAt(i))) {
    i++;
  }
  if (i == length) {
    return name;
  }
 else {
    StringBuffer sb=new StringBuffer(name);
    for (int j=i; j < length; j++) {
      if (!Character.isJavaIdentifierPart(sb.charAt(j))) {
        sb.setCharAt(j,REPLACEMENT_CHAR);
      }
    }
    return sb.toString();
  }
}
