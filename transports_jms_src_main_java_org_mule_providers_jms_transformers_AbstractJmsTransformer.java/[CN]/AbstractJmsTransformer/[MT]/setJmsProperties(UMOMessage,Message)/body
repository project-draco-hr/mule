{
  for (Iterator iterator=umoMessage.getPropertyNames().iterator(); iterator.hasNext(); ) {
    String key=iterator.next().toString();
    if (!JmsConstants.JMS_PROPERTY_NAMES.contains(key)) {
      Object value=umoMessage.getProperty(key);
      if (MuleProperties.MULE_CORRELATION_ID_PROPERTY.equals(key)) {
        msg.setJMSCorrelationID(umoMessage.getCorrelationId());
      }
      if (!(MuleProperties.MULE_REPLY_TO_PROPERTY.equals(key) && value instanceof Destination)) {
        try {
          msg.setObjectProperty(encodeHeader(key),value);
        }
 catch (        JMSException e) {
          if (logger.isDebugEnabled()) {
            logger.debug("Unable to set property '" + encodeHeader(key) + "' of type "+ value.getClass().getName()+ "': "+ e.getMessage());
          }
        }
      }
    }
  }
}
