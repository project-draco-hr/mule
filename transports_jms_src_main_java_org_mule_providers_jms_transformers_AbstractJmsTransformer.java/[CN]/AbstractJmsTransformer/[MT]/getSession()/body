{
  if (endpoint != null) {
    return (Session)endpoint.getConnector().getDelegateSession(endpoint);
  }
 else {
    throw new TransformerException(this,new IllegalStateException("This transformer needs a valid endpoint"));
  }
}
