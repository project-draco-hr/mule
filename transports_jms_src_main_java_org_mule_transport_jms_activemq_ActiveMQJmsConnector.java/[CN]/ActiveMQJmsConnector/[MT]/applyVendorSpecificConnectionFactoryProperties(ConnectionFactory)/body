{
  try {
    Method getRedeliveryPolicyMethod=connectionFactory.getClass().getMethod("getRedeliveryPolicy");
    Object redeliveryPolicy=getRedeliveryPolicyMethod.invoke(connectionFactory);
    Method setMaximumRedeliveriesMethod=redeliveryPolicy.getClass().getMethod("setMaximumRedeliveries",Integer.TYPE);
    setMaximumRedeliveriesMethod.invoke(redeliveryPolicy,getMaxRedelivery() + 1);
  }
 catch (  Exception e) {
    logger.error("Can not set MaxRedelivery parameter to RedeliveryPolicy " + e);
  }
}
