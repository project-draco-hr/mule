{
  org.apache.commons.validator.routines.TimeValidator validator=org.apache.commons.validator.routines.TimeValidator.getInstance();
  Locale locale=new Locale(this.locale);
  if (pattern != null) {
    if (!validator.isValid(time,pattern,locale)) {
      errorMessage=getMessages().invalidTime(time,this.locale,pattern);
      return fail();
    }
  }
 else {
    if (!validator.isValid(time,locale)) {
      errorMessage=getMessages().invalidTime(time,this.locale,pattern);
      return fail();
    }
  }
  return ok();
}
