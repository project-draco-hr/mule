{
  MessageFilter mp=new MessageFilter(new EqualsFilter(TEST_MESSAGE),false,null);
  SensingNullMessageProcessor out=getSensingNullMessageProcessor();
  SensingNullMessageProcessor unaccepted=getSensingNullMessageProcessor();
  mp.setListener(out);
  mp.setUnacceptedMessageProcessor(unaccepted);
  Event inEvent=getTestEvent(TEST_MESSAGE);
  Event resultEvent=mp.process(inEvent);
  assertNotNull(out.event);
  assertEquals(inEvent.getMessage(),resultEvent.getMessage());
  assertNull(unaccepted.event);
}
