{
  Map props=new HashMap();
  UMOMessage currentMessage=muleEventContext.getMessage();
  final String SOAP_METHODS="soapMethods";
  for (Iterator iterator=currentMessage.getPropertyNames().iterator(); iterator.hasNext(); ) {
    String name=(String)iterator.next();
    if (!StringUtils.equals(name,SOAP_METHODS) && !StringUtils.equals(name,SoapConstants.SOAP_ACTION_PROPERTY) && !StringUtils.equals(name,MuleProperties.MULE_METHOD_PROPERTY)&& (!name.startsWith(MuleProperties.PROPERTY_PREFIX) || StringUtils.equals(name,MuleProperties.MULE_USER_PROPERTY))&& !HttpConstants.ALL_HEADER_NAMES.containsValue(name)&& !StringUtils.equals(name,HttpConnector.HTTP_STATUS_PROPERTY)) {
      props.put(name,currentMessage.getProperty(name));
    }
  }
  return props;
}
