{
  ArrayList list=new ArrayList();
  Apple apple=new Apple();
  apple.setWashed(true);
  Orange orange=new Orange(7,new Double(3.7),"nice!");
  list.add(apple);
  list.add(orange);
  ObjectToJson trans1=new ObjectToJson();
  trans1.initialise();
  String transformed=(String)trans1.transform(list);
  JsonToObject trans2=new JsonToObject();
  trans2.setReturnClass(ArrayList.class);
  trans2.initialise();
  List list2=(List)JsonUtils.getObjectFromJsonString(transformed,trans2.getJsonConfig(),trans2.getReturnClass());
  assertNotNull(list2);
  assertTrue(list2.get(0) instanceof MorphDynaBean);
  Apple appleback=(Apple)list.get(0);
  assertTrue(appleback.isWashed());
  assertTrue(list2.get(1) instanceof MorphDynaBean);
  Orange orangeback=(Orange)list.get(1);
  assertEquals(new Double(3.7),orangeback.getRadius());
  assertEquals(new Integer(7),orangeback.getSegments());
  assertEquals("nice!",orangeback.getBrand());
}
