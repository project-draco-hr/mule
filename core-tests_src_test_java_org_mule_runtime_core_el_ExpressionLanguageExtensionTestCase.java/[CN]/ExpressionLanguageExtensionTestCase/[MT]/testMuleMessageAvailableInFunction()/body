{
  MuleEvent event=mock(MuleEvent.class);
  when(event.getFlowCallStack()).thenReturn(new DefaultFlowCallStack());
  when(event.getError()).thenReturn(empty());
  MuleMessage message=mock(MuleMessage.class);
  when(event.getMessage()).thenReturn(message);
  assertThat(expressionLanguage.evaluate("muleMessage()",event,flowConstruct),is(message));
}
