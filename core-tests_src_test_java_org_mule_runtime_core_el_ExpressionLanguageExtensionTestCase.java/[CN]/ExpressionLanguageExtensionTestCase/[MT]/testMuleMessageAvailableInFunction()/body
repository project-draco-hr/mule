{
  Event event=mock(Event.class);
  when(event.getFlowCallStack()).thenReturn(new DefaultFlowCallStack());
  when(event.getError()).thenReturn(empty());
  InternalMessage message=mock(InternalMessage.class);
  when(event.getMessage()).thenReturn(message);
  assertThat(expressionLanguage.evaluate("muleMessage()",event,flowConstruct),is(message));
}
