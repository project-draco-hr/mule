{
  for (int i=0; i < count; ++i) {
    Thread.sleep(wait);
    try {
      Socket socket=new Socket(host,port);
      socket.close();
      logger.info("Successful connection made to port " + port);
      return;
    }
 catch (    Exception e) {
      logger.warn("Could not connect to server on " + host + ":"+ port+ " - "+ e.getMessage());
    }
  }
  throw new RuntimeException("Server failed to start within " + (count * wait) + "ms");
}
