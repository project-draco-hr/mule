{
  Object nonSerializable=new Object();
  FlowRunner runner=flowRunner("AsyncFlow").withPayload("data").withFlowVariable("P1","value").withFlowVariable("P2",nonSerializable).withFlowVariable("testThread",Thread.currentThread()).asynchronously();
  MuleEvent event=runner.buildEvent();
  runner.run();
  assertNotNull(event.getFlowVariable("P1"));
  assertNotNull(event.getFlowVariable("P2"));
  assertNull(event.getFlowVariable("P3"));
}
