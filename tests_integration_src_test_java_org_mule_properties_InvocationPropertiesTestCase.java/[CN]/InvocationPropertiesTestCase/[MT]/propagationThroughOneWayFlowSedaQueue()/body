{
  Object nonSerializable=new Object();
  FlowRunner runner=flowRunner("AsyncFlow").withPayload("data").withFlowVariable("P1","value").withFlowVariable("P2",nonSerializable).withFlowVariable("testThread",Thread.currentThread()).asynchronously();
  MuleMessage message=runner.buildEvent().getMessage();
  runner.run();
  assertNotNull(message.getInvocationProperty("P1"));
  assertNotNull(message.getInvocationProperty("P2"));
  assertNull(message.getInvocationProperty("P3"));
}
