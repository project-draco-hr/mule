{
  MuleClient client=new MuleClient();
  client.dispatch(getDispatchAsyncComplexEndpoint1(),new Person("Betty","Rubble"),null);
  Thread.sleep(4000);
  UMOMessage result=client.receive(getDispatchAsyncComplexEndpoint2(),0);
  assertNotNull(result);
  assertTrue(result.getPayload() instanceof Person);
  assertEquals("Betty",((Person)result.getPayload()).getFirstName());
  assertEquals("Rubble",((Person)result.getPayload()).getLastName());
}
