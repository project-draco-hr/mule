{
  if (!supportsProtocol(endpointUri.getFullScheme())) {
    throw new InitialisationException(CoreMessages.schemeNotCompatibleWithConnector(endpointUri.getFullScheme(),this.getClass()),this);
  }
  Properties props=new Properties();
  props.putAll(endpointUri.getParams());
  if (endpointUri.getUserInfo() != null) {
    props.setProperty("username",endpointUri.getUser());
    String passwd=endpointUri.getPassword();
    if (passwd != null) {
      props.setProperty("password",passwd);
    }
  }
  String host=endpointUri.getHost();
  if (host != null) {
    props.setProperty("hostname",host);
    props.setProperty("host",host);
  }
  if (endpointUri.getPort() > -1) {
    props.setProperty("port",String.valueOf(endpointUri.getPort()));
  }
  BeanUtils.populateWithoutFail(this,props,true);
  setName(new ObjectNameHelper(muleContext).getConnectorName(this));
}
