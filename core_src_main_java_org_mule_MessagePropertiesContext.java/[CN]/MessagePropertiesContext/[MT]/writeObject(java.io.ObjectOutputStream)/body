{
  for (  Map.Entry<PropertyScope,Map<String,Object>> context : scopedMap.entrySet()) {
    for (    Map.Entry<String,Object> entry : context.getValue().entrySet()) {
      Object value=entry.getValue();
      if (value != null && !(value instanceof Serializable)) {
        String message=String.format("Unable to serialize the %s message property %s, which is of type %s ",context.getKey(),entry.getKey(),value);
        logger.error(message);
        throw new IOException(message);
      }
    }
  }
  out.defaultWriteObject();
}
