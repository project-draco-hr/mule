{
  Mockito.when(mockMessage.getPropertyNames(scope)).thenReturn(new HashSet<String>(Arrays.asList("MULE_ID","MULE_CORRELATION_ID","SomeVar","MULE_GROUP_ID")));
  removeVariableTransformer.setIdentifier("MULE_(.*)");
  removeVariableTransformer.initialise();
  removeVariableTransformer.transform(mockMessage,ENCODING);
  verify(mockMessage).removeProperty("MULE_ID",scope);
  verify(mockMessage).removeProperty("MULE_CORRELATION_ID",scope);
  verify(mockMessage).removeProperty("MULE_GROUP_ID",scope);
  verify(mockMessage,VerificationModeFactory.times(0)).removeProperty("SomeVar",scope);
}
