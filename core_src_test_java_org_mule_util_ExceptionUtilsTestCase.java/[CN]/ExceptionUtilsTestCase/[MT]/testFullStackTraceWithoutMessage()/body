{
  final String mainMessage="main message 112312 [][] ''' ... sdfsd blah";
  final String causeMessage="cause message 2342998n  fwefoskjdcas  sdcasdhfsadjgsadkgasd \t\nsdfsllki";
  final String lineSeparator=System.lineSeparator();
  Exception e=new RuntimeException(mainMessage,new RuntimeException(causeMessage));
  String withoutMessage=getFullStackTraceWithoutMessages(e);
  String fullStackTrace=getFullStackTrace(e);
  String[] linesWithoutMessage=withoutMessage.split(lineSeparator);
  String[] lines=fullStackTrace.split(lineSeparator);
  assertEquals(lines.length,linesWithoutMessage.length);
  for (int i=0; i < lines.length; i++) {
    assertTrue(lines[i].contains(linesWithoutMessage[i]));
    assertFalse(linesWithoutMessage[i].contains(mainMessage));
    assertFalse(linesWithoutMessage[i].contains(causeMessage));
  }
}
