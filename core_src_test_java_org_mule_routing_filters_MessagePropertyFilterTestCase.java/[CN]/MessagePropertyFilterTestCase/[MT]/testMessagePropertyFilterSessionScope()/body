{
  MuleMessage message=new DefaultMuleMessage("blah",muleContext);
  new DefaultMuleEvent(message,getTestInboundEndpoint(MessageExchangePattern.ONE_WAY),getTestFlow());
  MessagePropertyFilter filter=new MessagePropertyFilter("foo=bar");
  filter.setScope(PropertyScope.SESSION_NAME);
  assertFalse(filter.accept(message));
  message.setProperty("foo","bar",SESSION);
  assertTrue("Filter didn't accept the message",filter.accept(message));
}
