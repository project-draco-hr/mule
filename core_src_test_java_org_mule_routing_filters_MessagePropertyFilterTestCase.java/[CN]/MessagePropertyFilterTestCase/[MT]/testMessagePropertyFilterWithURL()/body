{
  MuleMessage message=new DefaultMuleMessage("blah",muleContext);
  RequestContext.setEvent(getTestEvent(message));
  MessagePropertyFilter filter=new MessagePropertyFilter("inbound:foo=http://foo.com");
  assertEquals("inbound",filter.getScope());
  assertFalse(filter.accept(message));
  message.setInboundProperty("foo","http://foo.com");
  assertTrue("Filter didn't accept the message",filter.accept(message));
  filter=new MessagePropertyFilter("bar=http://bar.com");
  assertEquals("outbound",filter.getScope());
  assertFalse(filter.accept(message));
  message.setOutboundProperty("bar","http://bar.com");
  assertTrue("Filter didn't accept the message",filter.accept(message));
}
