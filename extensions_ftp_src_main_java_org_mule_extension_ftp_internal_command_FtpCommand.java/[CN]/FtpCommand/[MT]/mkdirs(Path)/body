{
  String cwd=getCurrentWorkingDirectory();
  try {
    changeWorkingDirectory("/");
    for (int i=0; i < directoryPath.getNameCount(); i++) {
      String fragment=directoryPath.getName(i).toString();
      if (!tryChangeWorkingDirectory(fragment)) {
        makeDirectory(fragment);
        changeWorkingDirectory(fragment);
      }
    }
  }
 catch (  Exception e) {
    throw exception("Found exception trying to recursively create directory " + directoryPath,e);
  }
 finally {
    changeWorkingDirectory(cwd);
  }
}
