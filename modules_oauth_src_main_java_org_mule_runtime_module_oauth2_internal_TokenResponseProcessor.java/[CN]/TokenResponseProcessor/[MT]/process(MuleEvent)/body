{
  accessToken=expressionManager.parse(tokenResponseConfiguration.getAccessToken(),muleEvent);
  accessToken=isEmpty(accessToken) ? null : accessToken;
  if (accessToken == null) {
    logger.error("Could not extract access token from token URL. Expressions used to retrieve access token was " + tokenResponseConfiguration.getAccessToken());
  }
  if (retrieveRefreshTokenIfPresent) {
    refreshToken=expressionManager.parse(tokenResponseConfiguration.getRefreshToken(),muleEvent);
    refreshToken=isEmpty(refreshToken) ? null : refreshToken;
    if (refreshToken == null) {
      logger.warn("Could not extract refresh token from token URL or not issued by the OAuth server. Expressions used to retrieve refresh token was " + tokenResponseConfiguration.getRefreshToken() + ", it will not be possible to refresh the access token once it is expired");
    }
  }
  expiresIn=expressionManager.parse(tokenResponseConfiguration.getExpiresIn(),muleEvent);
  customResponseParameters=new HashMap<>();
  for (  ParameterExtractor parameterExtractor : tokenResponseConfiguration.getParameterExtractors()) {
    customResponseParameters.put(parameterExtractor.getParamName(),expressionManager.evaluate(parameterExtractor.getValue(),muleEvent));
  }
}
