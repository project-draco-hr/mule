{
  List<Ricin> ricins=(List<Ricin>)flowRunner("killWithRicinAsChildElement").withPayload(EMPTY).run().getMessage().getPayload().getValue();
  assertThat(ricins,hasSize(2));
  assertThat(ricins.get(0),instanceOf(Ricin.class));
  assertThat(ricins.get(1),instanceOf(Ricin.class));
  Ricin ricin1=ricins.get(0);
  assertThat(ricin1.getMicrogramsPerKilo(),is(20L));
  assertThat(ricin1.getDestination().getVictim(),is("Lidia"));
  assertThat(ricin1.getDestination().getAddress(),is("Stevia coffe shop"));
  Ricin ricin2=ricins.get(1);
  assertThat(ricin2.getMicrogramsPerKilo(),is(22L));
  assertThat(ricin2.getDestination().getVictim(),is("Gustavo Fring"));
  assertThat(ricin2.getDestination().getAddress(),is("pollos hermanos"));
}
