{
  String expectedMessage="an Apple";
  List<Map<String,String>> listOfMaps=new ArrayList<>();
  Map<String,String> map=new HashMap<>();
  map.put(Apple.class.getSimpleName(),expectedMessage);
  listOfMaps.add(map);
  Event event=flowRunner("eatComplexListOfMaps").withPayload(listOfMaps).run();
  List<Map<String,String>> result=(List<Map<String,String>>)event.getMessage().getPayload().getValue();
  assertThat(result,hasSize(1));
  assertThat(result.get(0).get(Apple.class.getSimpleName()),is(expectedMessage));
}
