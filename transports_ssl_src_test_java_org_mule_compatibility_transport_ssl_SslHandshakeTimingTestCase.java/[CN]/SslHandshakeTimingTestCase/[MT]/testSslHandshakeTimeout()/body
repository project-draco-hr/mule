{
  SslMessageReceiver receiver=setupMockSslMessageReciever();
  try {
    MuleCompatibilityMessage message=(MuleCompatibilityMessage)new MuleCompatibilityMessageBuilder().payload(TEST_MESSAGE).build();
    callPreRoute(receiver,message);
    fail();
  }
 catch (  InvocationTargetException ite) {
    Throwable cause=ite.getCause();
    assertTrue(cause instanceof IllegalStateException);
  }
}
