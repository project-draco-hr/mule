{
  String rawName;
  for (Iterator iterator=muleContext.getRegistry().lookupObjects(Service.class).iterator(); iterator.hasNext(); ) {
    rawName=((Service)iterator.next()).getName();
    final String name=jmxSupport.escape(rawName);
    ObjectName on=jmxSupport.getObjectName(jmxSupport.getDomainName(muleContext) + ":type=org.mule.Service,name=" + name);
    ServiceServiceMBean serviceMBean=new ServiceService(rawName);
    logger.debug("Registering service with name: " + on);
    mBeanServer.registerMBean(serviceMBean,on);
    registeredMBeans.add(on);
  }
}
