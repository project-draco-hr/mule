{
  if (transformer instanceof MessageTransformer) {
    return ((MessageTransformer)transformer).transform(src,enc,event);
  }
 else {
    try {
      return transformer.transform(src,enc);
    }
 catch (    TransformerException e) {
      throw new TransformerMessagingException(e.getI18nMessage(),event,this,e);
    }
  }
}
