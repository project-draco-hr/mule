{
  ClientPasswordCallback.setPassword("wrongPassword");
  MuleMessage request=new DefaultMuleMessage("hello",(Map<String,Object>)null,muleContext);
  MuleClient client=new MuleClient(muleContext);
  MuleMessage received=client.send("vm://greetMe",request);
  assertNotNull(received);
  assertNotNull(received.getExceptionPayload());
  assertTrue(received.getExceptionPayload().getException().getCause() instanceof SOAPFaultException);
  assertTrue(((SOAPFaultException)received.getExceptionPayload().getException().getCause()).getMessage().contains("The security token could not be authenticated"));
}
