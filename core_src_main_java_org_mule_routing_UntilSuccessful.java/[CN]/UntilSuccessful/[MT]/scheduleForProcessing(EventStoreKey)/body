{
  RetryCallback callback=new RetryCallback(){
    @Override public String getWorkDescription(){
      return "Until successful processing of event stored under key: " + eventStoreKey;
    }
    @Override public void doWork(    RetryContext context) throws Exception {
      retrieveAndProcessEvent(eventStoreKey);
    }
  }
;
  SimpleRetryPolicyTemplate simpleRetryPolicyTemplate=new SimpleRetryPolicyTemplate(TimeUnit.SECONDS.toMillis(secondsBetweenRetries),maxRetries);
  RetryPolicyTemplate retryPolicyTemplate=new AsynchronousRetryTemplate(simpleRetryPolicyTemplate);
  retryPolicyTemplate.setNotifier(new RetryNotifier(){
    @Override public void onSuccess(    RetryContext context){
      removeFromStore(eventStoreKey);
    }
    @Override public void onFailure(    RetryContext context,    Throwable e){
      incrementProcessAttemptCountOrRemoveFromStore(eventStoreKey);
    }
  }
);
  retryPolicyTemplate.execute(callback,muleContext.getWorkManager());
}
