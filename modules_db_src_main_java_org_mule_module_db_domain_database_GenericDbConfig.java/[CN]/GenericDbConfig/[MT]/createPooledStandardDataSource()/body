{
  ComboPooledDataSource dataSource=new ComboPooledDataSource();
  dataSource.setDriverClass(driverClassName);
  dataSource.setJdbcUrl(url);
  dataSource.setUser(username);
  dataSource.setPassword(password);
  dataSource.setInitialPoolSize(poolingProfile.getMinPoolSize());
  dataSource.setMinPoolSize(poolingProfile.getMinPoolSize());
  dataSource.setMaxPoolSize(poolingProfile.getMaxPoolSize());
  dataSource.setAcquireIncrement(poolingProfile.getAcquireIncrement());
  dataSource.setMaxStatements(0);
  dataSource.setMaxStatementsPerConnection(poolingProfile.getPreparedStatementCacheSize());
  dataSource.setCheckoutTimeout(poolingProfile.getMaxWaitMillis());
  return dataSource;
}
