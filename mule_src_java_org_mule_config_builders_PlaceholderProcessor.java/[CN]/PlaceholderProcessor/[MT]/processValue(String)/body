{
  String realValue=null;
  String key=null;
  UMOManager manager=MuleManager.getInstance();
  int x=value.indexOf("${");
  while (x > -1) {
    int y=value.indexOf("}",x + 1);
    if (y == -1) {
      return null;
    }
    key=value.substring(x + 2,y);
    realValue=(String)manager.getProperty(key);
    if (logger.isDebugEnabled()) {
      logger.debug("Param is '" + value + "', Property key is '"+ key+ "', Property value is '"+ realValue+ "'");
    }
    if (realValue != null) {
      realValue=processEncryptedValue(realValue);
      if (realValue == null) {
        return null;
      }
      value=value.substring(0,x) + realValue + value.substring(y + 1);
    }
 else {
      logger.info("Property for placeholder: '" + key + "' was not found.  Leaving place holder as is. This is not necessarily a problem as the placeholder may not be a Mule placeholder.");
    }
    x=value.indexOf("${",y);
  }
  return value;
}
