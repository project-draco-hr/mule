{
  MuleMessage message=new DefaultMuleMessage("Test Message",muleContext);
  SessionHandler legacyHandler=new LegacySessionHandler();
  MuleSession session=new DefaultMuleSession(muleContext);
  String string="bar";
  session.setProperty("fooString",string);
  Date date=new Date(0);
  session.setProperty("fooDate",date);
  List list=new ArrayList();
  list.add("bar1");
  list.add("bar2");
  session.setProperty("fooList",list);
  legacyHandler.storeSessionInfoToMessage(session,message);
  try {
    session=new SerializeAndEncodeSessionHandler().retrieveSessionInfoFromMessage(message);
  }
 catch (  SerializationException e) {
  }
  session=legacyHandler.retrieveSessionInfoFromMessage(message);
}
