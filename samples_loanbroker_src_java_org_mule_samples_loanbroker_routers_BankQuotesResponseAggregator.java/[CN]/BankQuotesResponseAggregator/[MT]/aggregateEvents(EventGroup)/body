{
  try {
    LoanQuote lowestQuote=null;
    LoanQuote quote=null;
    UMOEvent event=null;
    for (Iterator iterator=events.iterator(); iterator.hasNext(); ) {
      event=(UMOEvent)iterator.next();
      quote=(LoanQuote)event.getTransformedMessage();
      logger.info("Processing quote: " + quote);
      if (lowestQuote == null) {
        lowestQuote=quote;
      }
 else {
        if (quote.getInterestRate() < lowestQuote.getInterestRate()) {
          lowestQuote=quote;
        }
      }
    }
    logger.info("Lowest quote is: " + lowestQuote);
    return new MuleMessage(lowestQuote,event.getMessage());
  }
 catch (  TransformerException e) {
    throw new RoutingException(Message.createStaticMessage("Failed to get lowest quote"),new MuleMessage(events),null,e);
  }
}
