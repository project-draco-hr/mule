{
  pipeline.initialise();
  event=Event.builder(context).message(InternalMessage.builder().payload("request").build()).exchangePattern(REQUEST_RESPONSE).flow(pipeline).build();
  process(pipeline,event);
  verify(notificationManager,times(1)).fireNotification(argThat(new PipelineMessageNotificiationArgumentMatcher(PROCESS_START,false,event)));
  verify(notificationManager,times(1)).fireNotification(argThat(new PipelineMessageNotificiationArgumentMatcher(PROCESS_END,false,event)));
  verify(notificationManager,times(1)).fireNotification(argThat(new PipelineMessageNotificiationArgumentMatcher(PROCESS_COMPLETE,false,event)));
  verify(notificationManager,times(3)).fireNotification(any(PipelineMessageNotification.class));
}
